(window.webpackJsonp=window.webpackJsonp||[]).push([[87,71],{267:function(e,t,n){"use strict";n.r(t),n.d(t,"navi_module",(function(){return c}));n(89),n(264),n(70),n(71);var o=n(14),r=n.n(o),l=n(69),c={props:{sp_summary:{type:String,default:"is_summary_on"},sp_slider:{type:String,default:"is_slider_off"},sp_setting:{type:String,default:"is_setting_off"},sp_controller:{type:String,default:"is_controller_off"},sp_viewpoint:{type:String,default:"black"},sp_turn_slider_focus:{type:String,default:"is_turn_slider_focus_on"},sp_op_disabled:{type:Boolean,default:!1},sp_hidden_if_piece_stand_blank:{type:Boolean,default:!1},sp_flip_if_white:{type:Boolean,default:!1},sp_key_event_capture_enabled:{type:Boolean,default:!1},sp_shift_key_mag:{type:Number,default:10},sp_system_key_mag:{type:Number,default:50}},data:function(){return{new_viewpoint:null}},mounted:function(){"is_turn_slider_focus_on"===this.sp_turn_slider_focus&&this.turn_slider_focus(),window.addEventListener("keydown",this.keydown_hook,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keydown_hook)},created:function(){this.new_viewpoint=this.sp_viewpoint},watch:{sp_viewpoint:function(e){this.new_viewpoint=e},new_viewpoint:function(e){this.$emit("update:sp_viewpoint",e)}},methods:{keydown_hook:function(e){if(this.debug_p,!this.sp_op_disabled&&!this.focus_on_input_tag_p()&&!this.shortcut_hook(e)&&this.sp_key_event_capture_enabled&&(this.view_p||this.play_p)){var t=document.activeElement;if(this.$NavigateBlock){var n=[this.$NavigateBlock.$refs.first,this.$NavigateBlock.$refs.previous,this.$NavigateBlock.$refs.next,this.$NavigateBlock.$refs.last];if(void 0!==t&&"BODY"!==t.tagName&&!r.a.includes(n,t))return}"Backspace"!==e.code&&"ArrowUp"!==e.code&&"ArrowLeft"!==e.code&&"k"!==e.key&&"p"!==e.key&&"b"!==e.key||(this.relative_move(-1,e),e.preventDefault()),"Space"!==e.code&&"Enter"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"j"!==e.key&&"n"!==e.key&&"f"!==e.key||(this.relative_move(1,e),e.preventDefault())}},focus_on_input_tag_p:function(){var e=document.activeElement;if("TEXTAREA"===e.tagName||"INPUT"===e.tagName)return!0},navi_relative_move:function(e,t){this.relative_move(e,t)},relative_move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.shiftKey&&this.sp_shift_key_mag&&(e*=this.sp_shift_key_mag),(t.ctrlKey||t.altKey||t.metaKey)&&this.sp_system_key_mag&&(e*=this.sp_system_key_mag)),this.current_turn_add(e,t),this.turn_slider_focus()||(e>0?this.nav_focus_to("next"):this.nav_focus_to("previous"))},move_to_first:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.current_turn_set(this.turn_offset_min,e),this.turn_slider_focus()||this.nav_focus_to("first")},move_to_last:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.current_turn_set(this.turn_offset_max,e),this.turn_slider_focus()||this.nav_focus_to("last")},current_turn_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.current_turn_set(this.mediator.turn_offset+e,t)},current_turn_set:function(e,t){var n=this.mediator.turn_clamp(e);this.turn_offset!==n&&(this.state_reset(),this.view_p&&this.view_mode_mediator_update(n),this.play_p&&this.play_mode_mediator_seek_to(n),this.sound_play("piece_put"),this.$emit("update:sp_turn",this.turn_offset),t&&(this.log("局面を人が故意に変更"),this.$emit("one_way:sp_turn_user_changed",this.turn_offset)))},current_turn_set_by_slider:function(e,t){t?this.log("スライダーをユーザーが動かした : ".concat(e)):this.log("スライダーは勝手に動いた : ".concat(e)),this.current_turn_set(e,t)},nav_focus_to:function(e){var t=this.navigate_block_element_refs(e);return!!t&&(t.focus(),!0)},turn_slider_focus:function(){var e=this.navigate_block_element_refs("TurnSliderBlock");return!!e&&e.focus_to_self()},navigate_block_element_refs:function(e){if(this.base.$NavigateBlock)return this.base.$NavigateBlock.$refs[e]},board_flip_toggle:function(){this.new_viewpoint=l.Location.fetch(this.new_viewpoint).flip.key,this.sound_play("flip_sound"),this.turn_slider_focus()}},computed:{fliped:function(){return"white"===this.new_viewpoint},inside_controller_p:function(){return"is_setting_on"===this.sp_setting||"is_controller_on"===this.sp_controller&&(this.view_p||this.play_p)},inside_slider_p:function(){return"is_slider_on"===this.sp_slider&&(this.view_p||this.play_p)},inside_navigate_p:function(){return this.inside_controller_p||this.inside_slider_p}}}},482:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(491)),l=w(n(492)),c=w(n(495)),_=w(n(487)),f=w(n(498)),d=w(n(499)),h=w(n(500)),v=w(n(501)),y=w(n(502)),k=w(n(503)),m=w(n(14));function w(e){return e&&e.__esModule?e:{default:e}}var N=function(){function e(t){var n=this;(0,y.default)(this,e),Object.defineProperty(this,"attributes",{value:t,writable:!1,enumerable:!1,configurable:!1}),m.default.forIn(t,(function(e,t){(0,_.default)(n,t,{value:e,writable:!1,enumerable:!0,configurable:!1})})),"name"in this||Object.defineProperty(this,"name",{value:t.name||t.key.toString(),writable:!1,enumerable:!0,configurable:!1})}return(0,k.default)(e,null,[{key:"memory_record_reset",value:function(e){return this._values=void 0,this._keys_hash=void 0,this._codes_hash=void 0,this._keys=void 0,this._codes=void 0,this._names=void 0,this._records=e,this}},{key:"memory_record_create_index_or",value:function(e){var t=this;return this.values.reduce((function(a,n){return e.forEach((function(e){var o=n[e];if(null!=o){if(o in a)throw new Error([t.name+"#"+e+" "+(0,v.default)(o)+" is duplicate","Existing: "+(0,v.default)((0,h.default)(a)),"Conflict: "+(0,v.default)(n)].join("\n"));a[o]=n}})),a}),{})}},{key:"lookup",value:function(e){return e instanceof this?e:"number"==typeof e?this.codes_hash[e]:this.keys_hash[e]}},{key:"fetch",value:function(e){var element=this.lookup(e);if(!element)throw new Error([this.name+".fetch("+(0,v.default)(e)+") does not match anything","keys: "+(0,v.default)(this.keys),"codes: "+(0,v.default)(this.codes)].join("\n"));return element}},{key:"fetch_if",value:function(e){if(null!=e)return this.fetch(e)}},{key:"define",get:function(){throw new Error(this.name+".define() is not implemented")}},{key:"values",get:function(){var e=this;return void 0!==this._values||(this._values=m.default.map(this.__source_records,(function(t,i){return"code"in(t=(0,d.default)({},t,{index:i}))||(t=(0,d.default)({},t,{code:i})),"key"in t||(t=(0,d.default)({},t,{key:"_key"+i})),(0,f.default)(new e(t))}))),this._values}},{key:"keys_hash",get:function(){return null!=this._keys_hash||(this._keys_hash=this.memory_record_create_index_or(["key"])),this._keys_hash}},{key:"codes_hash",get:function(){return null!=this._codes_hash||(this._codes_hash=this.memory_record_create_index_or(["code"])),this._codes_hash}},{key:"keys",get:function(){return null!=this._keys||(this._keys=(0,h.default)(this.keys_hash)),this._keys}},{key:"codes",get:function(){return null!=this._codes||(this._codes=this.values.map((function(e){return e.code}))),this._codes}},{key:"names",get:function(){return null!=this._names||(this._names=this.values.map((function(e){return e.name}))),this._names}},{key:"__source_records",get:function(){return null!=this._records||(this._records=this.define),this._records}}]),e}();if(t.default=N,e.argv[1]===o){var E=function(e){function t(){return(0,y.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,k.default)(t,null,[{key:"define",get:function(){return[{key:"black",name:"☗"},{key:"white",name:"☖"},{code:7}]}}]),t}(N);console.log(E.keys),console.log(E.codes);var x=E.values[0];console.log(x.key),console.log(x.code),console.log(x.name),console.log(E.values),console.log(E.lookup("black").name),console.log(E.lookup("black").code),console.log(E.lookup("_key2").name);var M=E.lookup("black");console.log(M instanceof E),console.log(E.lookup(0)),console.log(E.lookup(1)),console.log(E.lookup(2)),console.log(E.values[0]==E.values[0]),console.log(E.values.map((function(e){return e.key}))),console.log((0,h.default)(E.keys_hash)),console.log(E.fetch("unknown"))}}).call(this,n(131),"/index.js")},486:function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(493)),r=c(n(494)),l="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function c(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":l(e)}},487:function(e,t,n){e.exports={default:n(531),__esModule:!0}},491:function(e,t,n){e.exports={default:n(526),__esModule:!0}},492:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(486),l=(o=r)&&o.__esModule?o:{default:o};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,l.default)(t))&&"function"!=typeof t?e:t}},493:function(e,t,n){e.exports={default:n(527),__esModule:!0}},494:function(e,t,n){e.exports={default:n(528),__esModule:!0}},495:function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(496)),r=c(n(497)),l=c(n(486));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},496:function(e,t,n){e.exports={default:n(529),__esModule:!0}},497:function(e,t,n){e.exports={default:n(530),__esModule:!0}},498:function(e,t,n){e.exports={default:n(532),__esModule:!0}},499:function(e,t,n){e.exports={default:n(533),__esModule:!0}},500:function(e,t,n){e.exports={default:n(534),__esModule:!0}},501:function(e,t,n){e.exports={default:n(535),__esModule:!0}},502:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},503:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(487),l=(o=r)&&o.__esModule?o:{default:o};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,l.default)(e,n.key,n)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},561:function(e,t,n){var o=n(7),r=n(46),l=n(16),c=n(562),_="["+c+"]",f=RegExp("^"+_+_+"*"),d=RegExp(_+_+"*$"),h=function(e,t,n){var r={},_=l((function(){return!!c[e]()||"​"!="​"[e]()})),f=r[e]=_?t(v):c[e];n&&(r[n]=f),o(o.P+o.F*_,"String",r)},v=h.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(d,"")),e};e.exports=h},562:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},69:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Location",(function(){return v}));n(479);var r=n(129),l=n(130),c=n(480),_=n(481),f=n(478),d=(n(15),n(36),n(45),n(482));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var v=function(e){Object(c.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"flip",get:function(){return n.cycle_lookup(this.code+1)}},{key:"any_long_name",value:function(e){return e?this.handicap_long_name:this.long_name}},{key:"advance",value:function(e){return n.cycle_lookup(this.code+e)}},{key:"flip_if",value:function(e){return this.advance(e?1:0)}}],[{key:"define",get:function(){return[{key:"black",name:"☗",char_key:"b",value_sign:1,position_key:"is_position_south",long_name:"先手",handicap_long_name:"下手"},{key:"white",name:"☖",char_key:"w",value_sign:-1,position_key:"is_position_north",long_name:"後手",handicap_long_name:"上手"}]}},{key:"cycle_lookup",value:function(e){return"number"!=typeof e&&alert("ArgumentError: ".concat(e)),n.lookup(Math.abs(e)%n.values.length)}}]),n}(n.n(d).a);e.argv[1]===o&&(console.log(v.cycle_lookup(-1)),console.log(v.fetch("black")),v.values.map((function(e){console.log(e)})),console.log(v.fetch("black").flip),console.log(v.fetch("white").flip))}.call(this,n(131),"/index.js")},89:function(e,t,n){"use strict";var o=n(9),r=n(39),l=n(40),c=n(280),_=n(93),f=n(16),d=n(75).f,h=n(76).f,v=n(20).f,y=n(561).trim,k="Number",m=o.Number,w=m,N=m.prototype,E=l(n(136)(N))==k,x="trim"in String.prototype,M=function(e){var t=_(e,!1);if("string"==typeof t&&t.length>2){var n,o,r,l=(t=x?t.trim():y(t,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+t}for(var code,c=t.slice(2),i=0,f=c.length;i<f;i++)if((code=c.charCodeAt(i))<48||code>r)return NaN;return parseInt(c,o)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof m&&(E?f((function(){N.valueOf.call(n)})):l(n)!=k)?c(new w(M(t)),n,m):M(t)};for(var I,A=n(12)?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;A.length>S;S++)r(w,I=A[S])&&!r(m,I)&&v(m,I,h(w,I));m.prototype=N,N.constructor=m,n(22)(o,k,m)}}}]);