(window.webpackJsonp=window.webpackJsonp||[]).push([[38,4,7,8,13,14,15,16,17,19,20,21,23,24,31,34,41,42,43,44,46,58,59,60,62,63,64,65,67,68,69,71,73,74,75,76,77,78,79,80,81,82,83,84,85,86,88,89,90,94,95,97,98,99,100,104,108,109,110,117,118,119],{132:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Place",(function(){return f}));var r=n(17),c=n(129),l=n(130),_=(n(15),n(73),n(74),n(508),n(45),n(257),n(89),n(514),n(14),n(133)),h=n(512),f=function(){function e(t){var n,o;if(Object(c.a)(this,e),"string"==typeof t){var l=this.__parse_from_string(t),_=Object(r.a)(l,2);n=_[0],o=_[1]}else{var h=Object(r.a)(t,2);n=h[0],o=h[1]}var f=[n,o];this._x=f[0],this._y=f[1]}return Object(l.a)(e,[{key:"key",get:function(){return[this._x,this._y].toString()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"to_a",get:function(){return[this.x,this.y]}},{key:"to_h",get:function(){return{x:this.x,y:this.y}}},{key:"human_x",get:function(){return _.Board.dimension-this._x}},{key:"kanji_human_x",get:function(){return e.TO_KANJI_REPLACE_TABLE_X[this.human_x]}},{key:"kanji_human_y",get:function(){return e.TO_KANJI_REPLACE_TABLE_Y[this.human_y]}},{key:"yomiage_x",get:function(){return h.PlaceYomiageInfo.fetch(this.human_x.toString()).yomiage}},{key:"yomiage_y",get:function(){return h.PlaceYomiageInfo.fetch(this.human_y.toString()).yomiage}},{key:"human_y",get:function(){return this._y+1}},{key:"flip_all",get:function(){return e.fetch([_.Board.dimension-1-this._x,_.Board.dimension-1-this._y])}},{key:"flop",get:function(){return e.fetch([_.Board.dimension-1-this._x,this._y])}},{key:"flop_if",value:function(e){return e?this.flop:this}},{key:"sp_flip_if_white",value:function(e){return"white"===e.key?this.flip_all:this}},{key:"to_sfen",get:function(){return[_.Board.dimension-this._x,e.TO_SFEN_REPLACE_TABLE_Y[this._y]].join("")}},{key:"css_place_key",get:function(){return["place",this.human_x,this.human_y].join("_")}},{key:"human_xy_ary",get:function(){return[this.human_x,this.human_y]}},{key:"kanji_human",get:function(){return[this.kanji_human_x,this.kanji_human_y].join("")}},{key:"digit_human",get:function(){return[this.human_x,this.human_y].join("")}},{key:"rotate_add",value:function(t,n){var o=this.__new_pos(this._x,t),r=this.__new_pos(this._y,n);return e.fetch([o,r])}},{key:"__new_pos",value:function(e,t){return Math.trunc((e+t+_.Board.dimension)%_.Board.dimension)}},{key:"__parse_from_string",value:function(s){var t=s.split("").map((function(t){var n;return Number(null!==(n=e.ANY_TO_NUMBER_REPLACE_TABLE[t])&&void 0!==n?n:t)})),n=Object(r.a)(t,2),o=n[0],c=n[1];return[_.Board.dimension-o,c-1]}}],[{key:"fetch",value:function(t){return t instanceof this?t:Object.freeze(new e(t))}},{key:"xy_valid_p",value:function(e,t){return 0<=e&&e<_.Board.dimension&&0<=t&&t<_.Board.dimension}}]),e}();f.ANY_TO_NUMBER_REPLACE_TABLE={"１":1,"２":2,"３":3,"４":4,"５":5,"６":6,"７":7,"８":8,"９":9,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9},f.TO_KANJI_REPLACE_TABLE_X={1:"１",2:"２",3:"３",4:"４",5:"５",6:"６",7:"７",8:"８",9:"９"},f.TO_KANJI_REPLACE_TABLE_Y={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"},f.TO_SFEN_REPLACE_TABLE_Y=["a","b","c","d","e","f","g","h","i"],e.argv[1]===o&&(console.log(f.fetch("6a").key),console.log(f.fetch([1,2]).key))}.call(this,n(131),"/index.js")},133:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Board",(function(){return m}));var r=n(129),c=n(130),l=(n(506),n(14)),_=n.n(l),h=n(3),f=n(484),d=n(132),m=function(){function e(){Object(r.a)(this,e),this._surface={}}return Object(c.a)(e,[{key:"place_on",value:function(e){this.delete_at(e.place),h.a.set(this._surface,e.place.key,e)}},{key:"lookup",value:function(e){return this._surface[e.key]}},{key:"delete_at",value:function(e){h.a.delete(this._surface,e.key)}},{key:"clear",value:function(){this._surface={}}},{key:"piece_exist_by_x",value:function(t,n,o){for(var r=!1,c=0;c<e.dimension;c++){var l=d.Place.fetch([t,c]),_=this.lookup(l);if(_&&_.location.key===n.key&&_.piece.key===o.key){r=!0;break}}return r}},{key:"soldiers",get:function(){return Object.values(this._surface)}},{key:"piece_counts_hash",get:function(){var e={};return _.a.forEach(this.soldiers,(function(t){e[t.piece.key]=(e[t.piece.key]||0)+1})),e}},{key:"flip_all",get:function(){var t=new e;return _.a.forEach(this._surface,(function(e,n){var o=new f.Soldier(Object.assign({},e.attributes,{location:e.location.flip,place:e.place.flip_all}));t.place_on(o)})),t}},{key:"flop",get:function(){var t=new e;return _.a.forEach(this._surface,(function(e,n){var o=new f.Soldier(Object.assign({},e.attributes,{location:e.location,place:e.place.flop}));t.place_on(o)})),t}},{key:"slide_xy",value:function(t,n){var o=new e;return _.a.forEach(this._surface,(function(e,r){var c=new f.Soldier(Object.assign({},e.attributes,{location:e.location,place:e.place.rotate_add(t,n)}));o.place_on(c)})),o}},{key:"shuffle_apply",value:function(t){if(!(t*t<this.soldiers.length)){var n=this.all_places(t),o=_.a.shuffle(n),r=new e,i=0;return _.a.forEach(this._surface,(function(e,t){var n=new f.Soldier(Object.assign({},e.attributes,{location:e.location,place:o[i]}));r.place_on(n),i+=1})),r}}},{key:"all_places",value:function(t){for(var n=e.dimension-t,o=[],r=0;r<t;r++)for(var c=0;c<t;c++){var l=d.Place.fetch([n+c,0+r]);o.push(l)}return o}},{key:"to_sfen",get:function(){var t=this,n=[];return _.a.times(e.dimension,(function(o){var r="",c=0;_.a.times(e.dimension,(function(e){var n=d.Place.fetch([e,o]),l=t.lookup(n);if(_.a.isNil(l))c++;else{c>=1&&(r+=c,c=0),l.promoted&&(r+="+");var h=l.piece.key;"white"===l.location.key&&(h=h.toLowerCase()),r+=h}})),c>=1&&(r+=c),n.push(r)})),n.join("/")}}],[{key:"dimension",get:function(){return 9}},{key:"danger_zone_size",get:function(){return 3}},{key:"vector_flip",value:function(e,t){return[this.dimension-e-1,this.dimension-t-1]}}]),e}();e.argv[1]===o&&console.log(m.dimension)}.call(this,n(131),"/index.js")},2:function(e,t,n){"use strict";n.r(t),n.d(t,"support",(function(){return o}));var o={mixins:[n(258).root_support],props:{base:{type:Object,required:!1}}}},258:function(e,t,n){"use strict";n.r(t),n.d(t,"root_support",(function(){return o}));var o={data:function(){return{}}}},259:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"SfenParser",(function(){return F}));n(479);var r=n(129),c=n(130),l=n(489),_=n(480),h=n(481),f=n(478),d=(n(51),n(257),n(89),n(45),n(488)),m=n.n(d),y=n(3),v=n(14),k=n.n(v),x=n(133),w=n(504),A=n(483),B=n(132),P=n(484),j=n(69),O=n(509);n(90);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var C,F=function(e){Object(_.a)(n,e);var t=E(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"reset",value:function(){Object(l.a)(Object(f.a)(n.prototype),"reset",this).call(this),this.attributes={}}},{key:"parse",value:function(){this.raw_body=this.raw_body.replace(/startpos/,"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1");var e=m()("sfen\\s+(?<board>\\S+)\\s+(?<b_or_w>\\S+)\\s+(?<hold_pieces>\\S+)\\s+(?<turn_counter_next>\\d+)(\\s+moves\\s+(?<moves>.*))?");this.attributes=m.a.exec(this.raw_body,e)}},{key:"board",get:function(){var e=this,t=new x.Board;return this.attributes.board.split("/").forEach((function(n,o){var r=0;m.a.forEach(n,m()("(?<promoted>\\+?)(?<piece>\\S)"),(function(n,i){if(/\d+/.test(n.piece))r+=Number(n.piece);else{var c=new P.Soldier({place:new B.Place([r,o]),piece:A.Piece.fetch(n.piece),promoted:"+"===n.promoted,location:e.__location_by_upper_or_lower_case(n.piece)});t.place_on(c),r++}}))})),t}},{key:"base_location",get:function(){var e=null;return e="b"===this.attributes.b_or_w?"black":"white",j.Location.fetch(e)}},{key:"hold_pieces",get:function(){var e=this,t=this.hold_pieces_empty_hash();return"-"!==this.attributes.hold_pieces&&m.a.forEach(this.attributes.hold_pieces,m()("(?<count>\\d+)?(?<piece_char>\\S)"),(function(n,i){var o=A.Piece.fetch(n.piece_char),r=Number(n.count||1),c=e.__location_by_upper_or_lower_case(n.piece_char);r+=t[c.key][o.key]||0,y.a.set(t[c.key],o.key,r)})),t}},{key:"turn_base",get:function(){return Number(this.attributes.turn_counter_next)-1}},{key:"move_infos",get:function(){var e=this,t=[];return k.a.forEach(this.moves,(function(n,i){var o=O.MoveHash.parse(n);if(!o)return!1;o.location=e.location_by_offset(i),t.push(o)})),t}},{key:"moves",get:function(){return this.moves_exist_p?this.attributes.moves.split(/\s+/):[]}},{key:"moves_exist_p",get:function(){return""!==(this.attributes.moves||"")}},{key:"init_sfen_from_one",get:function(){var e=[];return e.push("position"),e.push("sfen"),e.push(this.attributes.board),e.push(this.attributes.b_or_w),e.push(this.attributes.hold_pieces),e.push(1),e.join(" ")}},{key:"init_sfen",get:function(){var e=[];return e.push("position"),e.push("sfen"),e.push(this.init_sfen_strip),e.join(" ")}},{key:"init_sfen_strip",get:function(){var e=[];return e.push(this.attributes.board),e.push(this.attributes.b_or_w),e.push(this.attributes.hold_pieces),e.push(this.attributes.turn_counter_next),e.join(" ")}},{key:"to_sfen",get:function(){var e=[];return e.push("position"),e.push("sfen"),e.push(this.attributes.board),e.push(this.attributes.b_or_w),e.push(this.attributes.hold_pieces),e.push(this.attributes.turn_counter_next),this.moves_exist_p&&(e.push("moves"),e.push(this.attributes.moves)),e.join(" ")}},{key:"__location_by_upper_or_lower_case",value:function(e){var t=null;return t=/[A-Z]/.test(e)?"black":"white",j.Location.fetch(t)}}],[{key:"sfen_flop",value:function(e){var source=this.parse(e);return source.attributes.board=source.board.flop.to_sfen,source.attributes.moves=source.move_infos.map((function(e){return e.to_flop_sfen})).join(" "),source.to_sfen}}]),n}(w.ParserBase);e.argv[1]===o&&(C=F.parse("position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d"),console.log(C),C=F.parse("position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d"),console.log(C))}.call(this,n(131),"/index.js")},266:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"KifParser",(function(){return D}));n(479);var r=n(129),c=n(130),l=n(489),_=n(480),h=n(481),f=n(478),d=(n(506),n(257),n(265),n(51),n(89),n(488)),m=n.n(d),y=n(525),v=n.n(y),k=n(504),x=n(133),w=n(483),A=n(132),B=n(69),P=n(259),j=n(490),O=n(484),E=n(518);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var F=m()(Object.values({header:"(?<key>.*)：s*(?<value>.*)",board:"\\|(?<board>.*)\\|",direct_location:"(?<direct_location>^[上下先後]手番)",latest_triangle:"^手数＝.*(?<latest_triangle>[▲△])",comment:"^\\*(?<comment>.*)",hand:"^\\s*(?<number>\\d+)\\s+                                # 1    ; 手数\n         (?<to>[１-９1-9一二三四五六七八九]+)?                   # 76   ; 移動先\n         (?<same>同)?\\s*                                        # 同   ; 座標を書いてくれ\n         (?<piece>成[銀桂香]|[王玉金銀全桂圭香杏角馬飛龍竜歩と]) # 歩   ; 駒\n         (?<suffix>[左右直]?[寄引上]?)                           # 上   ; KI2っぽい表記は読み捨てる\n         (?<motion>不?成|打|合|生)?                              # 打   ; 成や打\n         (\\((?<origin_place>\\d+)\\))?                          # (77) ; 移動元"}).join("|"),"x"),D=function(e){Object(_.a)(n,e);var t=C(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"reset",value:function(){Object(l.a)(Object(f.a)(n.prototype),"reset",this).call(this),this.move_infos=[],this.comments_pack={},this.board_lines=[],this.direct_location=null,this.hold_pieces=this.hold_pieces_empty_hash()}},{key:"board",get:function(){if(this.board_lines.length>=1)return this.board_setup_from_board_lines();var e=new P.SfenParser;return e.raw_body=this.preset_info.sfen,e.parse(),e.board}},{key:"preset_key",get:function(){var e=this.header["手合割"];return"その他"===e?null:e||"平手"}},{key:"preset_info",get:function(){return j.PresetInfo.lookup(this.preset_key)}},{key:"base_location",get:function(){return this.direct_location?this.direct_location:this.preset_key?B.Location.fetch(this.preset_info.first_location_key):B.Location.fetch("black")}},{key:"parse",value:function(){var e=this,t=null;this.raw_body.split(/\n/).forEach((function(line){var n=m.a.exec(line,F);if(n)if(n.key){var o=n.value.trim();if(e.header[n.key]=o,n.key.match(/手の持駒/))if("なし"===o);else{var s=E.KanjiNumber.kanji_to_number_string(o);s=s.replace(/\s+/g,""),m.a.forEach(s,m()("(?<piece_char>\\D)(?<count>\\d*)"),(function(t,o){var r=w.Piece.lookup_by_name(t.piece_char),c=Number(t.count||1),l=n.key.match(/[上後]/)?"white":"black";c+=e.hold_pieces[l][r.key]||0,e.hold_pieces[l][r.key]=c}))}}else if(n.comment){var i=e.move_infos.length;e.comments_pack[i]=e.comments_pack[i]||[],e.comments_pack[i].push(n.comment)}else if(n.board)e.board_lines.push(n.board);else if(n.direct_location)e.direct_location=B.Location.fetch(n.direct_location.match(/[上後]/)?"white":"black");else if(n.latest_triangle)e.direct_location=B.Location.fetch("▲"===n.latest_triangle?"white":"black");else if(n.number){var r={};r.location=e.location_by_offset(Number(n.number)-1),n.origin_place&&(r.origin_place=A.Place.fetch(n.origin_place)),v()(n.to||n.same),n.to?(r.place=A.Place.fetch(n.to),t=r.place):(v()(n.same),v()(t),r.place=t),"成"===n.motion&&(r.promoted_trigger=!0),"打"===n.motion&&(r.drop_piece=w.Piece.lookup_by_name(n.piece)),e.move_infos.push(r)}}))}},{key:"move_infos",get:function(){return this._move_infos},set:function(e){this._move_infos=e}},{key:"comments_pack",get:function(){return this._comments_pack},set:function(e){this._comments_pack=e}},{key:"board_setup_from_board_lines",value:function(){v()(this.board_lines.length>=1);var e=new x.Board;return this.board_lines.forEach((function(t,n){m.a.forEach(t,m()("(?<arrow>.)(?<piece>\\S)"),(function(t,o){if("・"===t.piece);else{var r="v"===t.arrow?"white":"black",c=w.Piece.lookup_by_name(t.piece),l=!1;c||(c=w.Piece.lookup_by_promoted_name(t.piece),v()(c),l=!0);var _=new O.Soldier({place:new A.Place([o,n]),piece:c,promoted:l,location:B.Location.fetch(r)});e.place_on(_)}}))})),e}}]),n}(k.ParserBase);if(e.argv[1]===o){var R=new D;R.raw_body="\n   1 ２六歩(27)   ( 0:16/00:00:16)\n   2 ３四歩(33)   ( 0:22/00:00:22)\n   3 ７六歩(77)   ( 0:06/00:00:22)\n   4 ８四歩(83)   ( 0:13/00:00:35)\n   5 ２五歩(26)   ( 0:09/00:00:31)\n   6 ８五歩(84)   ( 0:16/00:00:51)\n   7 ７八金(69)   ( 0:04/00:00:35)\n   8 ３二金(41)   ( 0:09/00:01:00)\n   9 ２四歩(25)   ( 0:04/00:00:39)\n  10 同 歩(23)    ( 0:10/00:01:10)\n",R.parse(),console.log(R.move_infos),console.log(R.comments_pack),console.log(void 0===R.init_sfen)}}.call(this,n(131),"/index.js")},267:function(e,t,n){"use strict";n.r(t),n.d(t,"navi_module",(function(){return l}));n(89),n(264),n(70),n(71);var o=n(14),r=n.n(o),c=n(69),l={props:{sp_summary:{type:String,default:"is_summary_on"},sp_slider:{type:String,default:"is_slider_off"},sp_setting:{type:String,default:"is_setting_off"},sp_controller:{type:String,default:"is_controller_off"},sp_viewpoint:{type:String,default:"black"},sp_turn_slider_focus:{type:String,default:"is_turn_slider_focus_on"},sp_op_disabled:{type:Boolean,default:!1},sp_hidden_if_piece_stand_blank:{type:Boolean,default:!1},sp_flip_if_white:{type:Boolean,default:!1},sp_key_event_capture_enabled:{type:Boolean,default:!1},sp_shift_key_mag:{type:Number,default:10},sp_system_key_mag:{type:Number,default:50}},data:function(){return{new_viewpoint:null}},mounted:function(){"is_turn_slider_focus_on"===this.sp_turn_slider_focus&&this.turn_slider_focus(),window.addEventListener("keydown",this.keydown_hook,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keydown_hook)},created:function(){this.new_viewpoint=this.sp_viewpoint},watch:{sp_viewpoint:function(e){this.new_viewpoint=e},new_viewpoint:function(e){this.$emit("update:sp_viewpoint",e)}},methods:{keydown_hook:function(e){if(this.debug_p,!this.sp_op_disabled&&!this.focus_on_input_tag_p()&&!this.shortcut_hook(e)&&this.sp_key_event_capture_enabled&&(this.view_p||this.play_p)){var t=document.activeElement;if(this.$NavigateBlock){var n=[this.$NavigateBlock.$refs.first,this.$NavigateBlock.$refs.previous,this.$NavigateBlock.$refs.next,this.$NavigateBlock.$refs.last];if(void 0!==t&&"BODY"!==t.tagName&&!r.a.includes(n,t))return}"Backspace"!==e.code&&"ArrowUp"!==e.code&&"ArrowLeft"!==e.code&&"k"!==e.key&&"p"!==e.key&&"b"!==e.key||(this.relative_move(-1,e),e.preventDefault()),"Space"!==e.code&&"Enter"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"j"!==e.key&&"n"!==e.key&&"f"!==e.key||(this.relative_move(1,e),e.preventDefault())}},focus_on_input_tag_p:function(){var e=document.activeElement;if("TEXTAREA"===e.tagName||"INPUT"===e.tagName)return!0},navi_relative_move:function(e,t){this.relative_move(e,t)},relative_move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.shiftKey&&this.sp_shift_key_mag&&(e*=this.sp_shift_key_mag),(t.ctrlKey||t.altKey||t.metaKey)&&this.sp_system_key_mag&&(e*=this.sp_system_key_mag)),this.current_turn_add(e,t),this.turn_slider_focus()||(e>0?this.nav_focus_to("next"):this.nav_focus_to("previous"))},move_to_first:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.current_turn_set(this.turn_offset_min,e),this.turn_slider_focus()||this.nav_focus_to("first")},move_to_last:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.current_turn_set(this.turn_offset_max,e),this.turn_slider_focus()||this.nav_focus_to("last")},current_turn_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.current_turn_set(this.mediator.turn_offset+e,t)},current_turn_set:function(e,t){var n=this.mediator.turn_clamp(e);this.turn_offset!==n&&(this.state_reset(),this.view_p&&this.view_mode_mediator_update(n),this.play_p&&this.play_mode_mediator_seek_to(n),this.sound_play("piece_put"),this.$emit("update:sp_turn",this.turn_offset),t&&(this.log("局面を人が故意に変更"),this.$emit("one_way:sp_turn_user_changed",this.turn_offset)))},current_turn_set_by_slider:function(e,t){t?this.log("スライダーをユーザーが動かした : ".concat(e)):this.log("スライダーは勝手に動いた : ".concat(e)),this.current_turn_set(e,t)},nav_focus_to:function(e){var t=this.navigate_block_element_refs(e);return!!t&&(t.focus(),!0)},turn_slider_focus:function(){var e=this.navigate_block_element_refs("TurnSliderBlock");return!!e&&e.focus_to_self()},navigate_block_element_refs:function(e){if(this.base.$NavigateBlock)return this.base.$NavigateBlock.$refs[e]},board_flip_toggle:function(){this.new_viewpoint=c.Location.fetch(this.new_viewpoint).flip.key,this.sound_play("flip_sound"),this.turn_slider_focus()}},computed:{fliped:function(){return"white"===this.new_viewpoint},inside_controller_p:function(){return"is_setting_on"===this.sp_setting||"is_controller_on"===this.sp_controller&&(this.view_p||this.play_p)},inside_slider_p:function(){return"is_slider_on"===this.sp_slider&&(this.view_p||this.play_p)},inside_navigate_p:function(){return this.inside_controller_p||this.inside_slider_p}}}},268:function(e,t,n){"use strict";n.r(t),n.d(t,"shortcut_module",(function(){return f}));n(47),n(27),n(21),n(48),n(49);var o=n(485),r=(n(15),n(36),n(69)),c=n(132),l=n(458);function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f={data:function(){return{mouseover_info:null,shuffle_mode_p:!1}},methods:{shortcut_hook:function(e){if(!this.play_p&&!this.edit_p)return!0;var t,n=_(r.Location.values);try{for(n.s();!(t=n.n()).done;){var l=t.value;if(e.key.toLowerCase()===l.char_key&&(this.soldier_hold_unless_lifted_p(e),this.membership_click_handle(l,e)))return e.preventDefault(),!0}}catch(e){n.e(e)}finally{n.f()}if(this.edit_p&&("Backspace"===e.code||"Delete"===e.code||!this.meta_p(e)&&"t"===e.key)&&(this.soldier_hold_unless_lifted_p(e),this.piece_box_other_click(e)))return e.preventDefault(),!0;if("Escape"===e.code&&this.hold_cancel(e))return e.preventDefault(),!0;if("q"===e.key){if(this.lifted_p&&this.hold_cancel(e))return e.preventDefault(),!0;if(this.mouseover_info&&"board"===this.mouseover_info.type){var h=c.Place.fetch(this.mouseover_info.xy),f=this.mediator.board.lookup(h);if(f)return this.piece_stand_piece_click(f.location,f.piece,f.promoted,null),e.preventDefault(),!0}}if(!this.meta_p(e)&&("v"===e.key||"r"===e.key||"Space"===e.code)&&this.mouseover_info&&"board"===this.mouseover_info.type)return this.board_cell_right_click(this.mouseover_info.xy,e),e.preventDefault(),!0;if(this.edit_p&&"?"===e.key)return this.shortcut_modal_toggle_handle(),e.preventDefault(),!0;if(this.edit_p&&this.meta_p(e)){var d,m=this.arrow_vector_table[e.key];if(m)return(d=this.mediator).slide_xy.apply(d,Object(o.a)(m)),e.preventDefault(),!0}return!(!this.edit_p||("!"===e.key&&(this.shuffle_mode_p=!this.shuffle_mode_p,this.shuffle_mode_p?this.$buefy.toast.open({message:"盤面シャッフルモード: ON (TAP: 1-9)",position:"is-bottom",queue:!1,duration:2e3,type:"is-primary"}):this.$buefy.toast.open({message:"盤面シャッフルモード: OFF",position:"is-bottom",queue:!1,duration:500})),!this.shuffle_mode_p||"1"!==e.key&&"2"!==e.key&&"3"!==e.key&&"4"!==e.key&&"5"!==e.key&&"6"!==e.key&&"7"!==e.key&&"8"!==e.key&&"9"!==e.key))&&(this.shuffle_run(e.key),e.preventDefault(),!0)},board_mouseover_handle:function(e,t){this.mouseover_info={type:"board",xy:e}},piece_stand_mouseover_handle:function(e,t,n){this.mouseover_info={type:"MembershipStand",location:e,piece:t}},piece_box_mouseover_handle:function(e,t){this.mouseover_info={type:"PieceBox",piece:e}},mouseleave_handle:function(){this.mouseover_info=null},soldier_hold_unless_lifted_p:function(e){this.mouseover_info&&(this.lifted_p||("board"===this.mouseover_info.type&&this.board_cell_left_click(this.mouseover_info.xy,e),"MembershipStand"===this.mouseover_info.type&&this.piece_stand_piece_click(this.mouseover_info.location,this.mouseover_info.piece,!1,e),"PieceBox"===this.mouseover_info.type&&this.piece_box_piece_click(this.mouseover_info.piece,e)))},shortcut_modal_toggle_handle:function(){this.shortcut_modal_active_p()?this.shortcut_modal_close_handle():this.shortcut_modal_show_handle()},shortcut_modal_show_handle:function(){var e=this;this.shortcut_modal_close_handle(),this.$shortcut_modal&&alert("this.$shortcut_modal"),this.$shortcut_modal=this.$buefy.modal.open({parent:this,hasModalCard:!0,props:{},animation:"",onCancel:function(){e.shortcut_modal_close_handle()},canCancel:["escape","outside"],component:l.default})},shortcut_modal_close_handle:function(){this.$shortcut_modal&&(this.$shortcut_modal.close(),this.$shortcut_modal=null)},shortcut_modal_active_p:function(){return!!this.$shortcut_modal}},computed:{arrow_vector_table:function(){return{ArrowRight:[1,0],ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowDown:[0,1]}}}}},269:function(e,t,n){"use strict";n.r(t),n.d(t,"edit_mode_module",(function(){return w}));n(29),n(21),n(28),n(37),n(38);var o=n(485),r=n(11),c=(n(89),n(15),n(36),n(70),n(71),n(14)),l=n.n(c),_=n(519),h=n(132),f=(n(133),n(505)),d=n(484),m=n(69),y=(n(507),n(520)),v=n(521);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={props:{sp_play_mode_legal_move_only:{type:Boolean,default:!0},sp_play_mode_legal_jump_only:{type:Boolean,default:!0},sp_play_mode_legal_pawn_drop:{type:Boolean,default:!0},sp_play_mode_auto_promote:{type:Boolean,default:!0},sp_play_mode_not_put_if_death_soldier:{type:Boolean,default:!0},sp_play_mode_only_own_piece_to_move:{type:Boolean,default:!0},sp_play_mode_can_not_kill_same_team_soldier:{type:Boolean,default:!0},sp_edit_mode_double_click_time_ms:{type:Number,default:350},sp_play_effect_type:{type:String,default:null},sp_move_cancel:{type:String,default:"is_move_cancel_standard"},sp_view_mode_soldier_movable:{type:Boolean,default:!0}},data:function(){return{place_from:null,have_piece:null,have_piece_location:null,have_piece_promoted:null,me_running_p:!1,_me_last_event:null,_CursorObject:null,mouse_stick:!1,dialog_soldier:null,_last_clicked_cell:null,_double_tap_time:null,last_move_info:null,killed_soldier:null}},watch:{new_run_mode:function(){this.state_reset()}},beforeDestroy:function(){this.virtual_piece_destroy()},methods:{board_cell_pointerdown_handle:function(e,t){var n=this.sp_board_cell_pointerdown_user_handle;!n||n(h.Place.fetch(e),t)},board_cell_left_click:function(e,t){var n=this;this.log("board_cell_left_click"),this.log("shiftKey: ".concat(t.shiftKey)),this.$data._last_clicked_cell=t.target;var o=h.Place.fetch(e),r=this.sp_board_cell_left_click_user_handle;if(!(r&&(this.log("ユーザー指定のクリックハンドル実行: ".concat(o.css_place_key)),r(o,t))||this.break_if_view_mode)){this.killed_soldier=this.mediator.board.lookup(o);var c=null,_=null;if(this.origin_soldier1&&(_=(c=new d.Soldier({piece:this.origin_soldier1.piece,place:o,promoted:this.origin_soldier1.promoted,location:this.origin_soldier1.location})).promotable_p||this.origin_soldier1.promotable_p),this.cpu_location_p)return this.log("片方の手番だけを操作できるようにする sp_human_side の指定があってCPU側なので無効とする"),void this.$emit("operation_invalid1");if(this.sp_play_mode_only_own_piece_to_move&&this.play_p&&!this.lifted_p&&this.killed_soldier&&this.killed_soldier.location!==this.mediator.current_location)return this.log("自分の手番で相手の駒を持ち上げようとしたので無効とする"),void this.$emit("operation_invalid2");if(this.play_p&&this.have_piece&&this.killed_soldier)return this.log("駒台や駒箱から持ち上げた駒を盤上の駒の上に置こうとしたので無効とする"),void this.if_standard_then_unhold();if(this.sp_play_mode_not_put_if_death_soldier&&this.play_p&&this.have_piece&&!this.killed_soldier){var y=this.soldier_create_from_stand_or_box_on(o),v=y.piece.piece_vector.force_promote_length;if(null!=v&&y.top_spaces<=v)return void this.log("駒台や駒箱から持ち上げた駒を置こうとしたけど死に駒なので無効とする")}if(this.lifted_p||this.killed_soldier){if(this.play_p&&this.sp_play_mode_can_not_kill_same_team_soldier&&this.put_on_my_soldier_p(this.killed_soldier))return this.log("自分の駒の上に駒を重ねようとしたので無効とする(盤上の移動元の駒を含まない)"),"is_move_cancel_rehold"===this.move_cancel_info.key?(this.log("盤上の駒を持って別の盤上の駒に持ち直した"),void this.soldier_hold(o,t)):void this.if_standard_then_unhold();if(this.edit_p){var k=this.$data._double_tap_time;if(this.$data._double_tap_time=Date.now(),this.killed_soldier&&l.a.isEqual(this.place_from,o)&&k){var x=this.$data._double_tap_time-k,w=x<this.sp_edit_mode_double_click_time_ms;if(this.log("ダブルクリック判定: (".concat(x," ms < ").concat(this.sp_edit_mode_double_click_time_ms,") -> ").concat(w)),w)return this.log("操作モードで盤上の駒を持って同じ位置に戻したときに盤上の駒を裏返す"),this.mediator.board.place_on(this.killed_soldier.transform_clone),void this.piece_hold_and_put_for_bug(o,t)}}if(l.a.isEqual(this.place_from,o))return this.log("盤上の駒を持って同じ位置に戻したので状況キャンセル"),void this.state_reset();if(this.edit_p&&(this.log("lifted_from_p: ".concat(this.lifted_p)),this.meta_p(t)&&!this.lifted_p&&this.killed_soldier))return this.log("盤上の駒を裏返す"),this.mediator.board.place_on(this.killed_soldier.transform_clone),void this.piece_hold_and_put_for_bug(o,t);if(!this.lifted_p)return this.log("盤上の駒を持ちあげる"),void this.soldier_hold(o,t);if(this.sp_play_mode_legal_move_only&&this.play_p&&this.place_from){var A=f.PieceVector.fetch(this.origin_soldier1.piece.key),B=this.place_from.x,P=this.place_from.y,j=null,O=!1;if(!O){j=this.origin_soldier1.promoted?A.promoted_once_vectors:A.basic_once_vectors;var E=f.PieceVector[j];E&&(O=E.some((function(e){if(e){var t=e[0],r=e[1]*n.origin_soldier1.location.value_sign,c=P+r;return B+t===o.x&&c===o.y}})))}if(!O){j=this.origin_soldier1.promoted?A.promoted_repeat_vectors:A.basic_repeat_vectors;var C=f.PieceVector[j];C&&(O=C.some((function(e){if(e)for(var t=e[0],r=e[1]*n.origin_soldier1.location.value_sign,c=B+t,l=P+r;h.Place.xy_valid_p(c,l);){if(c===o.x&&l===o.y)return!0;var _=h.Place.fetch([c,l]);if(n.mediator.board.lookup(_)&&n.sp_play_mode_legal_jump_only)break;c+=t,l+=r}})))}if(!O)return this.log("操作モードで盤上の駒を動かし中だが動けないセルをタップしたので無効"),void this.if_standard_then_unhold()}if(!this.place_from){if(this.have_piece){if(this.log("持駒を置く"),this.sp_play_mode_legal_pawn_drop&&this.play_p&&"P"===this.have_piece.key&&this.have_piece_location&&this.mediator.board.piece_exist_by_x(o.x,this.have_piece_location,this.have_piece))return this.log("二歩"),void this.$emit("operation_double_pawn");this.killed_soldier&&(this.have_piece_location?this.mediator.hold_pieces_add(this.have_piece_location,this.killed_soldier.piece):this.mediator.hold_pieces_add(m.Location.fetch("black"),this.killed_soldier.piece));var F=this.soldier_create_from_stand_or_box_on(o);return this.piece_decriment(),this.mediator.board.place_on(F),this.move_info_create({type:"put",to:F}),this.moves_set(),this.state_reset(),void this.turn_next()}throw new Error("must not happen")}if(this.log("盤上から移動"),this.killed_soldier&&this.mediator.hold_pieces_add(this.origin_soldier1.location,this.killed_soldier.piece),(this.view_p||this.play_p)&&_){var D=!0;if(this.sp_play_mode_auto_promote){var R=c.piece.piece_vector.force_promote_length;null!=R&&c.top_spaces<=R&&(this.promotable_piece_moved(c,!0),D=!1)}D&&(this.mouse_stick=!1,this.dialog_soldier=c,this.virtual_piece_destroy())}else this.play_p&&(this.move_info_create({type:"move",from:this.origin_soldier1,to:c,killed_soldier:this.killed_soldier}),this.moves_set()),this.mediator.board.place_on(c),this.mediator.board.delete_at(this.place_from),this.state_reset(),this.turn_next()}else this.log("持たずに何もないところをクリックしたので無効とする")}},promotable_piece_moved2:function(e){this.promotable_piece_moved(this.dialog_soldier,e)},promotable_piece_moved:function(e,t){e=e.clone_with_attrs({promoted:t}),this.move_info_create({type:"promotable",from:this.origin_soldier1,to:e}),this.moves_set(),this.mediator.board.place_on(e),this.mediator.board.delete_at(this.place_from),this.state_reset(),this.turn_next()},move_info_create:function(e){this.last_move_info=new _.MoveInfo(x(x({},e),{},{next_turn_offset:this.turn_offset+1,player_location:this.mediator.current_location,killed_soldier:this.killed_soldier}))},board_cell_right_click:function(e,t){if(this.log("盤のセルを右クリック"),!this.break_if_view_mode){var n=h.Place.fetch(e),o=this.mediator.board.lookup(n);this.hold_cancel(t)||this.edit_p&&!this.lifted_p&&o&&(this.log("盤上の駒を裏返す"),this.mediator.board.place_on(o.transform_clone),this.piece_hold_and_put_for_bug(n,t))}},membership_click_handle:function(e,t){if(!this.break_if_view_mode)return this.have_piece&&this.have_piece_location===e?(this.log("自分の駒台から駒を持ち上げているならキャンセル"),this.state_reset(),!0):this.edit_p&&this.have_piece?(this.hold_pieces_move_to_my_hold_pieces(t,e),!0):this.play_p&&this.origin_soldier1?(this.log("play_mode では盤上の駒を駒台に置くことはできない"),this.if_standard_then_unhold(),!0):!!this.origin_soldier1&&(this.log("盤上の駒を駒台に置く"),this.board_soldir_to_hold_pieces(e),!0)},piece_stand_piece_click:function(e,t,n,o){if(this.log("駒台の駒をクリック"),!this.break_if_view_mode)if(this.mediator.hold_pieces_count(e,t)<=0)this.log("クリックしたけど持駒がない");else if(this.sp_play_mode_only_own_piece_to_move&&this.play_p&&e!==this.mediator.current_location)this.log("相手の持駒を持とうとしたときは無効");else{if(this.cpu_location_p)return this.log("片方の手番だけを操作できるようにする sp_human_side の指定があってCPU側なので無効とする"),void this.$emit("operation_invalid1");this.log("駒台の駒を持つ"),this.have_piece=t,this.have_piece_location=e,this.have_piece_promoted=n,this.virtual_piece_create(o,this.origin_soldier2)}},piece_box_have_p:function(e){return l.a.isNil(this.have_piece_location)&&this.have_piece===e},piece_box_other_click:function(e){if(this.log("piece_box_other_click:駒箱クリック"),l.a.isNil(this.have_piece_location)&&this.have_piece)return this.log("持っているならキャンセル"),this.state_reset(),!0;if(this.have_piece_location&&this.have_piece){this.log("駒台から駒箱に移動");var t=this.hold_piece_source_cut(e);return this.mediator.piece_box_add(this.have_piece,t),this.state_reset(),!0}return!!this.origin_soldier1&&(this.log("盤上の駒を駒箱に移動"),this.mediator.piece_box_add(this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset(),!0)},piece_box_piece_click:function(e,t){this.piece_box_other_click(t)||(this.log("piece_box_piece_click:駒箱の駒を持つ"),this.have_piece=e,this.have_piece_location=null,this.have_piece_promoted=!1,this.virtual_piece_create(t,this.origin_soldier2))},hold_cancel:function(e){return!(this.dialog_soldier||!this.lifted_p)&&(this.log("持ち上げた駒を元に戻す"),this.state_reset(),!0)},board_soldir_to_hold_pieces:function(e){this.mediator.hold_pieces_add(e,this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset()},hold_pieces_move_to_my_hold_pieces:function(e,t){this.log("相手の持駒を自分の駒台に移動");var n=this.hold_piece_source_cut(e);this.mediator.hold_pieces_add(t,this.have_piece,n),this.state_reset()},hold_piece_source_cut:function(e){var t=1;return this.have_piece_location?(this.log("相手の駒箱から移動"),this.meta_p(e)&&(this.log("シフトが押されていたので全部移動"),t=this.mediator.hold_pieces_count(this.have_piece_location,this.have_piece)),t=this.mediator.hold_pieces_can_be_reduced_count(this.have_piece_location,this.have_piece,t),this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-t)):(this.log("駒箱から移動"),this.meta_p(e)&&(this.log("シフトが押されていたので全部移動"),t=this.mediator.piece_box_count(this.have_piece)),t=this.mediator.piece_box_can_be_reduced_count(this.have_piece,t),this.mediator.piece_box_add(this.have_piece,-t)),t},piece_decriment:function(){this.have_piece_location?this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-1):this.mediator.piece_box_add(this.have_piece,-1)},put_on_my_soldier_p:function(e){if(this.lifted_p&&e&&e.location===this.mediator.current_location&&!l.a.isEqual(this.place_from,e.place))return!0},soldier_hold:function(e,t){this.place_from=e,this.virtual_piece_create(t,this.origin_soldier1)},state_reset:function(){this.log("state_reset"),this.dialog_soldier=null,this.place_from=null,this.have_piece=null,this.have_piece_location=null,this.have_piece_promoted=null,this.killed_soldier=null,this.virtual_piece_destroy()},if_standard_then_unhold:function(){this.move_cancel_info.smooth_cancel&&(this.log("持った状態で自分の非合法セルタップでキャンセル"),this.state_reset())},piece_hold_and_put_for_bug:function(e,t){this.state_reset()},fn_flip_all:function(){var e=this;this.mediator.board=this.mediator.board.flip_all,this.mediator.hold_pieces=l.a.reduce(m.Location.values,(function(a,t){return a[t.key]=e.mediator.hold_pieces[t.flip.key],a}),{})},fn_flop:function(){this.mediator.board=this.mediator.board.flop},init_location_toggle:function(){this.init_location_key=this.init_location.flip.key},soldier_create_from_stand_or_box_on:function(e){return new d.Soldier({piece:this.have_piece,place:e,promoted:this.have_piece_promoted||!1,location:this.have_piece_location||m.Location.fetch("black")})},mousemove_hook:function(e){var t=this;this.$data._me_last_event=e,this.me_running_p||(this.me_running_p=!0,window.requestAnimationFrame((function(){t.cursor_object_xy_update(),t.me_running_p=!1})))},click_hook:function(e){1!==e.which&&this.state_reset()},cursor_object_xy_update:function(){if(this.$data._CursorObject&&this.$data._me_last_event&&this.mouse_stick){var e=this.$data._me_last_event.clientX,t=this.$data._me_last_event.clientY;this.element_vector_set(this.$data._CursorObject,{x:e,y:t})}},virtual_piece_create:function(e,t){this.virtual_piece_destroy(),this.virtual_piece_dom_create(t),this.mouse_stick=!0,e&&(this.$data._me_last_event=e,this.cursor_object_xy_update()),this.$el.addEventListener("mousemove",this.mousemove_hook),this.$el.addEventListener("click",this.click_hook)},virtual_piece_dom_create:function(e){this.$data._CursorObject=this.el_create(["CursorObject"]);var t=this.el_create(["PieceTap"]),n=this.el_create(["PieceTexture"]),r=this.el_create(["PieceTextureSelf"].concat(Object(o.a)(e.css_class_list)));t.classList.add(e.location.flip_if(this.base.fliped).position_key),n.appendChild(r),t.appendChild(n),this.$data._CursorObject.appendChild(t);var c=e.location.flip_if(this.fliped).position_key,l=v.PositionInfo.fetch(c);if(e.place){var _=this.place_to_cell_info(e.place),h=this.vector_scale(_.radius,this.devise_info.gap*l.sign*-1),f=this.vector_add(_.center,h);this.element_vector_set(this.$data._CursorObject,f)}else this.$data._CursorObject.style.left="-50%",this.$data._CursorObject.style.top="-50%";this.$refs.ShogiPlayerGround.$el.appendChild(this.$data._CursorObject)},el_create:function(e){var t,n=document.createElement("div");return(t=n.classList).add.apply(t,Object(o.a)(e)),n},virtual_piece_destroy:function(){this.$data._CursorObject&&(this.$refs.ShogiPlayerGround.$el.removeChild(this.$data._CursorObject),this.$data._CursorObject=null,this.mouse_stick=!1,this.$el.removeEventListener("mousemove",this.mousemove_hook),this.$el.removeEventListener("click",this.click_hook))},meta_p:function(e){return e.shiftKey|e.ctrlKey|e.altKey|e.metaKey}},computed:{MoveCancelInfo:function(){return y.MoveCancelInfo},move_cancel_info:function(){return this.MoveCancelInfo.fetch(this.sp_move_cancel)},origin_soldier1:function(){if(this.place_from)return this.mediator.board.lookup(this.place_from)},origin_soldier2:function(){if(this.have_piece){return this.soldier_create_from_stand_or_box_on(null)}},soldier_or_stand_p:function(){return this.place_from||this.have_piece_location},lifted_p:function(){return!l.a.isNil(this.place_from)||!l.a.isNil(this.have_piece)},cpu_location_p:function(){if(this.play_p)return!l.a.includes(this.human_locations,this.mediator.current_location)},break_if_view_mode:function(){if(this.view_p&&!this.sp_view_mode_soldier_movable)return!0}}}},270:function(e,t,n){"use strict";n.r(t),n.d(t,"play_mode_module",(function(){return d}));var o=n(485),r=n(14),c=n.n(r),l=n(90),_=n(69),h=n(91),f=n(507),d={props:{sp_human_side:{type:String,default:"both"},play_mode_advanced_snapshot_sfen_emit:{type:Boolean,default:!1}},data:function(){return{moves:[],init_sfen:null,init_location_key:"black"}},created:function(){var e=this;this.$watch((function(){return[e.mediator,e.init_location_key]}),(function(){e.emit_update_edit_mode_snapshot_sfen()}),{deep:!0})},mounted:function(){},watch:{edit_mode_snapshot_sfen2:function(e){this.$emit("update:edit_mode_snapshot_sfen2",e)},mediator:{handler:function(e){this.$emit("update:mediator_snapshot_sfen",e.to_position_sfen)},deep:!0},turn_offset:function(e){this.$emit("update:turn_offset",e)},moves_take_turn_offset:function(e){this.$emit("update:moves_take_turn_offset",e)}},methods:{play_mode_setup_from:function(e){this.log("play_mode_setup_from"),void 0!==this.mediator.data_source.init_sfen?("view_mode"===e&&(this.init_sfen=this.mediator.data_source.init_sfen,this.moves=this.mediator.data_source.moves),"edit_mode"===e&&this.init_sfen_set()):("view_mode"===e&&(this.init_location_key=this.mediator.current_location.key),this.init_sfen_set()),this.play_mode_mediator_seek_to(this.turn_offset)},init_sfen_set:function(){this.init_sfen=this.edit_mode_snapshot_sfen(),this.moves=[]},play_mode_mediator_seek_to:function(e){this.mediator=new l.Mediator,this.mediator.data_source=this.data_source_by(this.play_mode_full_moves_sfen),this.mediator.current_turn=e,this.mediator.run(),this.flip_if_white_run()},moves_set:function(){this.moves=[].concat(Object(o.a)(this.moves_take_turn_offset),[this.last_move_info.to_sfen])},turn_next:function(){var e=this;this.play_p&&(this.sp_play_effect_type&&this.$data._last_clicked_cell&&f.EffectInfo.fetch(this.sp_play_effect_type).run({from_el:this.$data._last_clicked_cell}),this.mediator=new l.Mediator,this.mediator.data_source=this.data_source_by(this.play_mode_full_moves_sfen),this.mediator.current_turn=-1,this.mediator.run(),this.$nextTick((function(){return e.sound_play("piece_put")})),this.$emit("update:play_mode_advanced_full_moves_sfen",{sfen:this.play_mode_full_moves_sfen,last_move_info:this.last_move_info}),this.$emit("update:play_mode_advanced_moves",this.moves),this.play_mode_advanced_snapshot_sfen_emit&&this.$emit("update:play_mode_advanced_snapshot_sfen",this.mediator.to_position_sfen),this.turn_slider_focus())},edit_mode_snapshot_sfen:function(){if(this.mediator){var e=this.mediator.sfen_serializer;return["position sfen",e.to_board_sfen,this.init_location.key[0],e.to_hold_pieces,1].join(" ")}},emit_update_edit_mode_snapshot_sfen:function(){this.edit_p&&this.$emit("update:edit_mode_snapshot_sfen",this.edit_mode_snapshot_sfen())}},computed:{play_mode_full_moves_sfen:function(){if(this.init_sfen)return this.init_sfen+" moves "+this.moves.join(" ")},init_location:function(){return _.Location.fetch(this.init_location_key)},human_locations:function(){return h.HumanSideInfo.fetch(this.sp_human_side).locations},moves_take_turn_offset:function(){return c.a.take(this.moves,this.turn_offset)},edit_mode_snapshot_sfen2:function(){return this.edit_mode_snapshot_sfen()}}}},271:function(e,t,n){"use strict";n.r(t),n.d(t,"sound_module",(function(){return _}));n(29),n(21),n(28),n(37),n(38);var o=n(11),r=(n(89),n(522));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={props:{sp_sound_enabled:{type:Boolean,default:!1},sp_sound_body_changed:{type:Boolean,default:!0},sp_sound_volume:{type:Number,default:.5}},methods:{sound_play:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.$emit("sound_play",e),this.sp_sound_enabled){var n=r.SoundPresetInfo.fetch(e),o=l({src:n.source,volume:n.volume*this.sp_sound_volume,autoplay:!0},t);if("undefined"!=typeof Howl)return new Howl(o)}},sp_sound_resume_all:function(){if("undefined"!=typeof Howler)return Howler.unload()},sp_Howler:function(){if("undefined"!=typeof Howler)return Howler}}}},272:function(e,t,n){"use strict";n.r(t),n.d(t,"app_profile",(function(){return o}));var o={data:function(){return{_ShogiPlayerRenderCount:0,_MainBoardRenderCount:0}},beforeUpdate:function(){this.$data._ShogiPlayerRenderCount+=1}}},273:function(e,t,n){"use strict";n.r(t),n.d(t,"preset_module",(function(){return c}));n(15),n(36);var o=n(90),r=n(490),c={props:{sp_preset_key:{type:String,default:null}},data:function(){return{new_preset_key:this.sp_preset_key}},watch:{preset_key:function(e){this.new_preset_key=e},new_preset_key:function(e){this.mediator_setup_by_preset(e)}},methods:{mediator_setup_by_preset:function(e){e=r.PresetInfo.fetch(e),this.mediator=new o.Mediator,e.sfen&&(this.mediator.data_source=this.data_source_by(e.sfen)),this.mediator.run(),this.mediator.piece_box_piece_counts_adjust(),this.init_location_key=this.mediator.current_location.key}},computed:{preset_info_values:function(){return r.PresetInfo.values},init_preset_sfen:function(){if(this.sp_preset_key)return r.PresetInfo.fetch(this.sp_preset_key).sfen}}}},274:function(e,t,n){"use strict";n.r(t),n.d(t,"any_func_module",(function(){return c}));var o=n(523),r=n(133),c={data:function(){return{any_func_key:null}},methods:{any_func_click_handle:function(e){e.func(this)},shuffle_dialog_open:function(){var e=this;this.shuffle_mode_p=!1,this.$buefy.dialog.prompt({message:"寸法の一辺のサイズを指定してください",confirmText:"実行",cancelText:"キャンセル",inputAttrs:{type:"number",value:4,min:1,max:r.Board.dimension},trapFocus:!0,onConfirm:function(t){return e.shuffle_run(t)}})},shuffle_run:function(e){e=parseInt(e),this.mediator.shuffle_apply(e)||this.$buefy.toast.open({message:"".concat(e," x ").concat(e," が盤上の駒の数より少ないため何もしませんでした"),position:"is-bottom",queue:!1,duration:2e3,type:"is-warning"})}},computed:{AnyFuncInfo:function(){return o.AnyFuncInfo}}}},275:function(e,t,n){"use strict";n.r(t),n.d(t,"api_module",(function(){return c}));var o=n(484),r=n(90),c={methods:{api_random_puton:function(){var e=o.Soldier.random();return this.mediator.board.clear(),this.mediator.board.place_on(e),e},api_place_on:function(e){this.mediator.board.place_on(e)},api_board_clear:function(){this.mediator.board.clear()},api_board_turn_set:function(e){this.mediator_setup(e)},api_play_mode_mediator_seek_to:function(e){this.play_mode_mediator_seek_to(e)},api_flip_set:function(e){this.base.new_viewpoint=e?"white":"black"},api_viewpoint_set:function(e){this.base.new_viewpoint=e},api_flip_toggle:function(){this.base.board_flip_toggle()},api_retract_a_move:function(){var e=this.turn_offset-2;e<0&&(e=0),this.api_board_turn_set(e)},api_sfen_or_kif_set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mediator=new r.Mediator,this.mediator.data_source=this.data_source_by(e),this.mediator.current_turn=t.turn||0,this.mediator.run()},api_turn_slider_focus:function(){this.turn_slider_focus()}}}},276:function(e,t,n){"use strict";n.r(t),n.d(t,"device_detect",(function(){return r}));var o=n(524),r={props:{sp_device:{type:String,default:null}},data:function(){return{default_device:null}},beforeMount:function(){this.device_detect_create()},beforeDestroy:function(){this.device_detect_destroy()},methods:{device_detect_create:function(){document.addEventListener("touchstart",this.device_detect_hook),document.addEventListener("mousemove",this.device_detect_hook)},device_detect_destroy:function(){document.removeEventListener("touchstart",this.device_detect_hook),document.removeEventListener("mousemove",this.device_detect_hook)},device_detect_hook:function(e){this.default_device="changedTouches"in e?"is_device_touch":"is_device_desktop",this.device_detect_destroy()}},computed:{new_devise_key:function(){return this.sp_device||this.default_device||"is_device_desktop"},devise_info:function(){return o.DeviseInfo.fetch(this.new_devise_key)}}}},277:function(e,t,n){"use strict";n.r(t),n.d(t,"app_chore",(function(){return o}));var o={methods:{place_to_cell_info:function(e){var t=e.css_place_key,n=this.$el.querySelector("."+t).getBoundingClientRect(),o=n.width,r=n.height,c=o/2,l=r/2;return{center:{x:n.left+c,y:n.top+l},rect:{x:o,y:r},radius:{x:c,y:l}}},element_vector_set:function(e,t){e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px")}}}},278:function(e,t,n){"use strict";n.r(t),n.d(t,"app_vector",(function(){return o}));var o={methods:{vector_one:function(){return{x:1,y:1}},vector_scale:function(e,t){return{x:e.x*t,y:e.y*t}},vector_add:function(e,t){return{x:e.x+t.x,y:e.y+t.y}}}}},279:function(e,t,n){"use strict";function o(e,element){if(Array.prototype.indexOf)return e.indexOf(element);for(var i=0,t=e.length;i<t;i++)if(e[i]===element)return i;return-1}function r(e,t){for(var i=e.length-1;i>=0;i--)!0===t(e[i])&&e.splice(i,1)}function c(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}var l=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,c=n?n.split(r):[],l=e.split(r);t=l.shift();)-1===o(c,t)&&c.push(t);return this.getAttrs().class=c.join(" "),this},e.prototype.removeClass=function(e){for(var t,n=this.getClass(),r=this.whitespaceRegex,c=n?n.split(r):[],l=e.split(r);c.length&&(t=l.shift());){var _=o(c,t);-1!==_&&c.splice(_,1)}return this.getAttrs().class=c.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(html){return this.innerHTML=html,this},e.prototype.setInnerHtml=function(html){return this.setInnerHTML(html)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")},e}();var _=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new l({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var n=[t],o=e.getCssClassSuffixes(),i=0,r=o.length;i<r;i++)n.push(t+"-"+o[i]);return n.join(" ")}return""},e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,o=t.location;return"smart"===o?function(e,t,n){var o,r;null==n?(n="&hellip;",r=3,o=8):(r=n.length,o=n.length);var c=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},l=function(e,t){var o=t/2,r=Math.ceil(o),c=-1*Math.floor(o),l="";return c<0&&(l=e.substr(c)),e.substr(0,r)+n+l};if(e.length<=t)return e;var _=t-r,h=function(e){var t={},n=e,o=n.match(/^([a-z]+):\/\//i);return o&&(t.scheme=o[1],n=n.substr(o[0].length)),(o=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=o[1],n=n.substr(o[0].length)),(o=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=o[1],n=n.substr(o[0].length)),(o=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=o[1],n=n.substr(o[0].length)),(o=n.match(/^#(.*?)$/i))&&(t.fragment=o[1]),t}(e);if(h.query){var f=h.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);f&&(h.query=h.query.substr(0,f[1].length),e=c(h))}if(e.length<=t)return e;if(h.host&&(h.host=h.host.replace(/^www\./,""),e=c(h)),e.length<=t)return e;var d="";if(h.host&&(d+=h.host),d.length>=_)return h.host.length==t?(h.host.substr(0,t-r)+n).substr(0,_+o):l(d,_).substr(0,_+o);var m="";if(h.path&&(m+="/"+h.path),h.query&&(m+="?"+h.query),m){if((d+m).length>=_)return(d+m).length==t?(d+m).substr(0,t):(d+l(m,_-d.length)).substr(0,_+o);d+=m}if(h.fragment){var y="#"+h.fragment;if((d+y).length>=_)return(d+y).length==t?(d+y).substr(0,t):(d+l(y,_-d.length)).substr(0,_+o);d+=y}if(h.scheme&&h.host){var v=h.scheme+"://";if((d+v).length<_)return(v+d).substr(0,t)}if(d.length<=t)return d;var k="";return _>0&&(k=d.substr(-1*Math.floor(_/2))),(d.substr(0,Math.ceil(_/2))+n+k).substr(0,_+o)}(e,n):"middle"===o?function(e,t,n){if(e.length<=t)return e;var o,r;null==n?(n="&hellip;",o=8,r=3):(o=n.length,r=n.length);var c=t-r,l="";return c>0&&(l=e.substr(-1*Math.floor(c/2))),(e.substr(0,Math.ceil(c/2))+n+l).substr(0,c+o)}(e,n):function(e,t,n){return function(e,t,n){var o;return e.length>t&&(null==n?(n="&hellip;",o=3):o=n.length,e=e.substring(0,t-o)+n),e}(e,t,n)}(e,n)},e}(),h=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),f=function(e,b){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},f(e,b)};function d(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}f(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}var m=function(){return m=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},m.apply(this,arguments)};Object.create;Object.create;var y,v=function(e){function t(t){var n=e.call(this,t)||this;return n.email="",n.email=t.email,n}return d(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(h),k=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="",n.hashtag="",n.serviceName=t.serviceName,n.hashtag=t.hashtag,n}return d(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(h),x=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.mention="",n.mention=t.mention,n.serviceName=t.serviceName,n}return d(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),n=this.getServiceName();return n&&t.push(n),t},t}(h),w=function(e){function t(t){var n=e.call(this,t)||this;return n.number="",n.plusSign=!1,n.number=t.number,n.plusSign=t.plusSign,n}return d(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(h),A=function(e){function t(t){var n=e.call(this,t)||this;return n.url="",n.urlMatchType="scheme",n.protocolUrlMatch=!1,n.protocolRelativeMatch=!1,n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.schemePrefixRegex=/^(https?:\/\/)?/i,n.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,n.protocolRelativeRegex=/^\/\//,n.protocolPrepended=!1,n.urlMatchType=t.urlMatchType,n.url=t.url,n.protocolUrlMatch=t.protocolUrlMatch,n.protocolRelativeMatch=t.protocolRelativeMatch,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return d(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(text){return text.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}(h),B=function(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder},P=/[A-Za-z]/,j=/[\d]/,O=/[\D]/,E=/\s/,C=/['"]/,F=/[\x00-\x1F\x7F]/,D=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,R=D+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,S=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,N=R+S,T=R+S,L="(?:["+S+"]{1,3}\\.){3}["+S+"]{1,3}",M="["+T+"](?:["+T+"\\-]{0,61}["+T+"])?",z=function(e){return"(?=("+M+"))\\"+e},$=function(e){return"(?:"+z(e)+"(?:\\."+z(e+1)+"){0,126}|"+L+")"},I=(new RegExp("["+T+".\\-]*["+T+"\\-]"),new RegExp("[".concat(T,"]"))),K=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|موريتانيا|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|اتصالات|البحرين|الجزائر|العليان|پاکستان|كاثوليك|இந்தியா|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|भारतम्|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|ישראל|ایران|بازار|بھارت|سودان|سورية|همراه|भारोत|संगठन|বাংলা|భారత్|ഭാരതം|嘉里大酒店|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بارت|بيتك|ڀارت|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ভাৰত|ਭਾਰਤ|ભારત|ଭାରତ|ಭಾರತ|ලංකා|アマゾン|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|عرب|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ລາວ|ストア|セール|みんな|中文网|亚马逊|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|ευ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|广东|微博|慈善|手机|招聘|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,G=new RegExp("[".concat(T,"!#$%&'*+/=?^_`{|}~-]")),H=new RegExp("^".concat(K.source,"$")),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=G,t.strictTldRegex=H,t}return d(t,e),t.prototype.parseMatches=function(text){for(var e=this.tagBuilder,t=this.localPartCharRegex,n=this.strictTldRegex,o=[],r=text.length,l=new W,_={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},h=0,f=0,d=l;h<r;){var y=text.charAt(h);switch(f){case 0:k(y);break;case 1:x(text.charAt(h-1),y);break;case 2:w(y);break;case 3:A(y);break;case 4:B(y);break;case 5:P(y);break;case 6:j(y);break;case 7:O(y);break;default:c(f)}h++}return F(),o;function k(e){"m"===e?E(1):t.test(e)&&E()}function x(e,n){":"===e?t.test(n)?(f=2,d=new W(m(m({},d),{hasMailtoPrefix:!0}))):C():_[e]===n||(t.test(n)?f=2:"."===n?f=3:"@"===n?f=4:C())}function w(e){"."===e?f=3:"@"===e?f=4:t.test(e)||C()}function A(e){"."===e||"@"===e?C():t.test(e)?f=2:C()}function B(e){I.test(e)?f=5:C()}function P(e){"."===e?f=7:"-"===e?f=6:I.test(e)||F()}function j(e){"-"===e||"."===e?F():I.test(e)?f=5:F()}function O(e){"."===e||"-"===e?F():I.test(e)?(f=5,d=new W(m(m({},d),{hasDomainDot:!0}))):F()}function E(e){void 0===e&&(e=2),f=e,d=new W({idx:h})}function C(){f=0,d=l}function F(){if(d.hasDomainDot){var t=text.slice(d.idx,h);/[-.]$/.test(t)&&(t=t.slice(0,-1));var r=d.hasMailtoPrefix?t.slice("mailto:".length):t;(function(e){var t=(e.split(".").pop()||"").toLowerCase();return n.test(t)})(r)&&o.push(new v({tagBuilder:e,matchedText:t,offset:d.idx,email:r}))}C()}},t}(B),W=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot},V=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),n=t&&t[0].toLowerCase();return"javascript:"!==n&&"vbscript:"!==n},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&(!this.hasFullProtocolRegex.test(t)&&!this.hasWordCharAfterProtocolRegex.test(e))},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+D+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),Y=(y=new RegExp("[/?#](?:["+T+"\\-+&@#/%=~_()|'$*\\[\\]{}?!:,.;^✓]*["+T+"\\-+&@#/%=~_()|'$*\\[\\]{}✓])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,$(2),")","|","(","(//)?",/(?:www\.)/.source,$(6),")","|","(","(//)?",$(10)+"\\.",K.source,"(?![-"+N+"])",")",")","(?::[0-9]+)?","(?:"+y.source+")?"].join(""),"gi")),J=new RegExp("["+T+"]"),Z=function(e){function t(t){var n=e.call(this,t)||this;return n.stripPrefix={scheme:!0,www:!0},n.stripTrailingSlash=!0,n.decodePercentEncoding=!0,n.matcherRegex=Y,n.wordCharRegExp=J,n.stripPrefix=t.stripPrefix,n.stripTrailingSlash=t.stripTrailingSlash,n.decodePercentEncoding=t.decodePercentEncoding,n}return d(t,e),t.prototype.parseMatches=function(text){for(var e,t=this.matcherRegex,n=this.stripPrefix,o=this.stripTrailingSlash,r=this.decodePercentEncoding,c=this.tagBuilder,l=[],_=function(){var t=e[0],_=e[1],f=e[4],d=e[5],m=e[9],y=e.index,v=d||m,k=text.charAt(y-1);if(!V.isValid(t,_))return"continue";if(y>0&&"@"===k)return"continue";if(y>0&&v&&h.wordCharRegExp.test(k))return"continue";if(/\?$/.test(t)&&(t=t.substr(0,t.length-1)),h.matchHasUnbalancedClosingParen(t))t=t.substr(0,t.length-1);else{var x=h.matchHasInvalidCharAfterTld(t,_);x>-1&&(t=t.substr(0,x))}var w=["http://","https://"].find((function(e){return!!_&&-1!==_.indexOf(e)}));if(w){var B=t.indexOf(w);t=t.substr(B),_=_.substr(B),y+=B}var P=_?"scheme":f?"www":"tld",j=!!_;l.push(new A({tagBuilder:c,matchedText:t,offset:y,urlMatchType:P,url:t,protocolUrlMatch:j,protocolRelativeMatch:!!v,stripPrefix:n,stripTrailingSlash:o,decodePercentEncoding:r}))},h=this;null!==(e=t.exec(text));)_();return l},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,n=e.charAt(e.length-1);if(")"===n)t="(";else if("]"===n)t="[";else{if("}"!==n)return!1;t="{"}for(var o=0,i=0,r=e.length-1;i<r;i++){var c=e.charAt(i);c===t?o++:c===n&&(o=Math.max(o-1,0))}return 0===o},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var n=0;t&&(n=e.indexOf(":"),e=e.slice(n));var o=new RegExp("^((.?//)?[-."+T+"]*[-"+T+"]\\.[-"+T+"]+)").exec(e);return null===o?-1:(n+=o[1].length,e=e.slice(o[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1)},t}(B),X=new RegExp("#[_".concat(T,"]{1,139}(?![_").concat(T,"])"),"g"),Q=new RegExp("[^"+T+"]"),ee=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegex=X,n.nonWordCharRegex=Q,n.serviceName=t.serviceName,n}return d(t,e),t.prototype.parseMatches=function(text){for(var e,t=this.matcherRegex,n=this.nonWordCharRegex,o=this.serviceName,r=this.tagBuilder,c=[];null!==(e=t.exec(text));){var l=e.index,_=text.charAt(l-1);if(0===l||n.test(_)){var h=e[0],f=e[0].slice(1);c.push(new k({tagBuilder:r,matchedText:h,offset:l,serviceName:o,hashtag:f}))}}return c},t}(B),te=new RegExp("".concat(/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]{1}-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source),"g"),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=te,t}return d(t,e),t.prototype.parseMatches=function(text){for(var e,t=this.matcherRegex,n=this.tagBuilder,o=[];null!==(e=t.exec(text));){var r=e[0],c=r.replace(/[^0-9,;#]/g,""),l=!(!e[1]&&!e[2]),_=0==e.index?"":text.substr(e.index-1,1),h=text.substr(e.index+r.length,1),f=!_.match(/\d/)&&!h.match(/\d/);this.testMatch(e[3])&&this.testMatch(r)&&f&&o.push(new w({tagBuilder:n,matchedText:r,offset:e.index,number:c,plusSign:l}))}return o},t.prototype.testMatch=function(text){return O.test(text)},t}(B),ie=new RegExp("@[_".concat(T,"]{1,50}(?![_").concat(T,"])"),"g"),oe=new RegExp("@[_.".concat(T,"]{1,30}(?![_").concat(T,"])"),"g"),re=new RegExp("@[-_.".concat(T,"]{1,50}(?![-_").concat(T,"])"),"g"),ae=new RegExp("@[_.".concat(T,"]{1,23}[_").concat(T,"](?![_").concat(T,"])"),"g"),se=new RegExp("[^"+T+"]"),ue=function(e){function t(t){var n=e.call(this,t)||this;return n.serviceName="twitter",n.matcherRegexes={twitter:ie,instagram:oe,soundcloud:re,tiktok:ae},n.nonWordCharRegex=se,n.serviceName=t.serviceName,n}return d(t,e),t.prototype.parseMatches=function(text){var e,t=this.serviceName,n=this.matcherRegexes[this.serviceName],o=this.nonWordCharRegex,r=this.tagBuilder,c=[];if(!n)return c;for(;null!==(e=n.exec(text));){var l=e.index,_=text.charAt(l-1);if(0===l||o.test(_)){var h=e[0].replace(/\.+$/g,""),f=h.slice(1);c.push(new x({tagBuilder:r,matchedText:h,offset:l,serviceName:t,mention:f}))}}return c},t}(B);function ce(html,e){for(var text,t=e.onOpenTag,n=e.onCloseTag,o=e.onText,r=e.onComment,l=e.onDoctype,_=new le,h=0,f=html.length,d=0,y=0,v=_;h<f;){var k=html.charAt(h);switch(d){case 0:x(k);break;case 1:w(k);break;case 2:B(k);break;case 3:A(k);break;case 4:O(k);break;case 5:D(k);break;case 6:R(k);break;case 7:S(k);break;case 8:N(k);break;case 9:T(k);break;case 10:L(k);break;case 11:M(k);break;case 12:z(k);break;case 13:$(k);break;case 14:I(k);break;case 15:K(k);break;case 16:G(k);break;case 17:H(k);break;case 18:U(k);break;case 19:W(k);break;case 20:V(k);break;default:c(d)}h++}function x(e){"<"===e&&J()}function w(e){"!"===e?d=13:"/"===e?(d=2,v=new le(m(m({},v),{isClosing:!0}))):"<"===e?J():P.test(e)?(d=3,v=new le(m(m({},v),{isOpening:!0}))):(d=0,v=_)}function A(e){E.test(e)?(v=new le(m(m({},v),{name:X()})),d=4):"<"===e?J():"/"===e?(v=new le(m(m({},v),{name:X()})),d=12):">"===e?(v=new le(m(m({},v),{name:X()})),Z()):P.test(e)||j.test(e)||":"===e||Y()}function B(e){">"===e?Y():P.test(e)?d=3:Y()}function O(e){E.test(e)||("/"===e?d=12:">"===e?Z():"<"===e?J():"="===e||C.test(e)||F.test(e)?Y():d=5)}function D(e){E.test(e)?d=6:"/"===e?d=12:"="===e?d=7:">"===e?Z():"<"===e?J():C.test(e)&&Y()}function R(e){E.test(e)||("/"===e?d=12:"="===e?d=7:">"===e?Z():"<"===e?J():C.test(e)?Y():d=5)}function S(e){E.test(e)||('"'===e?d=8:"'"===e?d=9:/[>=`]/.test(e)?Y():"<"===e?J():d=10)}function N(e){'"'===e&&(d=11)}function T(e){"'"===e&&(d=11)}function L(e){E.test(e)?d=4:">"===e?Z():"<"===e&&J()}function M(e){E.test(e)?d=4:"/"===e?d=12:">"===e?Z():"<"===e?J():(d=4,h--)}function z(e){">"===e?(v=new le(m(m({},v),{isClosing:!0})),Z()):d=4}function $(e){"--"===html.substr(h,2)?(h+=2,v=new le(m(m({},v),{type:"comment"})),d=14):"DOCTYPE"===html.substr(h,7).toUpperCase()?(h+=7,v=new le(m(m({},v),{type:"doctype"})),d=20):Y()}function I(e){"-"===e?d=15:">"===e?Y():d=16}function K(e){"-"===e?d=18:">"===e?Y():d=16}function G(e){"-"===e&&(d=17)}function H(e){d="-"===e?18:16}function U(e){">"===e?Z():"!"===e?d=19:"-"===e||(d=16)}function W(e){"-"===e?d=17:">"===e?Z():d=16}function V(e){">"===e?Z():"<"===e&&J()}function Y(){d=0,v=_}function J(){d=1,v=new le({idx:h})}function Z(){var e=html.slice(y,v.idx);e&&o(e,y),"comment"===v.type?r(v.idx):"doctype"===v.type?l(v.idx):(v.isOpening&&t(v.name,v.idx),v.isClosing&&n(v.name,v.idx)),Y(),y=h+1}function X(){var e=v.idx+(v.isClosing?2:1);return html.slice(e,h).toLowerCase()}y<h&&(text=html.slice(y,h),o(text,y),y=h+1)}var le=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},_e=function(){function e(t){void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var n=this.mention;if(!1!==n&&-1===["twitter","instagram","soundcloud","tiktok"].indexOf(n))throw new Error("invalid `mention` cfg '".concat(n,"' - see docs"));var o=this.hashtag;if(!1!==o&&-1===["twitter","facebook","instagram","tiktok"].indexOf(o))throw new Error("invalid `hashtag` cfg '".concat(o,"' - see docs"));this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,n){return new e(n).link(t)},e.parse=function(t,n){return new e(n).parse(t)},e.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},e.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e}(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},e.prototype.parse=function(e){var t=this,n=["a","style","script"],o=0,r=[];return ce(e,{onOpenTag:function(e){n.indexOf(e)>=0&&o++},onText:function(text,e){if(0===o){var n=function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,o=[],r=0;n=t.exec(e);)o.push(e.substring(r,n.index)),o.push(n[0]),r=n.index+n[0].length;return o.push(e.substring(r)),o}(text,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),c=e;n.forEach((function(e,i){if(i%2==0){var n=t.parseText(e,c);r.push.apply(r,n)}c+=e.length}))}},onCloseTag:function(e){n.indexOf(e)>=0&&(o=Math.max(o-1,0))},onComment:function(e){},onDoctype:function(e){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},e.prototype.compactMatches=function(e){e.sort((function(a,b){return a.getOffset()-b.getOffset()}));for(var i=0;i<e.length-1;){var t=e[i],n=t.getOffset(),o=t.getMatchedText().length,r=n+o;if(i+1<e.length){if(e[i+1].getOffset()===n){var c=e[i+1].getMatchedText().length>o?i:i+1;e.splice(c,1);continue}if(e[i+1].getOffset()<r){e.splice(i+1,1);continue}}i++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||r(e,(function(e){return"hashtag"===e.getType()})),this.email||r(e,(function(e){return"email"===e.getType()})),this.phone||r(e,(function(e){return"phone"===e.getType()})),this.mention||r(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||r(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||r(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||r(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},e.prototype.parseText=function(text,e){void 0===e&&(e=0),e=e||0;for(var t=this.getMatchers(),n=[],i=0,o=t.length;i<o;i++){for(var r=t[i].parseMatches(text),c=0,l=r.length;c<l;c++)r[c].setOffset(e+r[c].getOffset());n.push.apply(n,r)}return n},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),n=[],o=0,i=0,r=t.length;i<r;i++){var c=t[i];n.push(e.substring(o,c.getOffset())),n.push(this.createMatchReturnVal(c)),o=c.getOffset()+c.getMatchedText().length}return n.push(e.substring(o)),n.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof l?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new ee({tagBuilder:e,serviceName:this.hashtag}),new U({tagBuilder:e}),new ne({tagBuilder:e}),new ue({tagBuilder:e,serviceName:this.mention}),new Z({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new _({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="3.15.0",e.AnchorTagBuilder=_,e.HtmlTag=l,e.matcher={Email:U,Hashtag:ee,Matcher:B,Mention:ue,Phone:ne,Url:Z},e.match={Email:v,Hashtag:k,Match:h,Mention:x,Phone:w,Url:A},e}();t.a=_e},457:function(e,t,n){"use strict";n(515)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},482:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(491)),c=x(n(492)),l=x(n(495)),_=x(n(487)),h=x(n(498)),f=x(n(499)),d=x(n(500)),m=x(n(501)),y=x(n(502)),v=x(n(503)),k=x(n(14));function x(e){return e&&e.__esModule?e:{default:e}}var w=function(){function e(t){var n=this;(0,y.default)(this,e),Object.defineProperty(this,"attributes",{value:t,writable:!1,enumerable:!1,configurable:!1}),k.default.forIn(t,(function(e,t){(0,_.default)(n,t,{value:e,writable:!1,enumerable:!0,configurable:!1})})),"name"in this||Object.defineProperty(this,"name",{value:t.name||t.key.toString(),writable:!1,enumerable:!0,configurable:!1})}return(0,v.default)(e,null,[{key:"memory_record_reset",value:function(e){return this._values=void 0,this._keys_hash=void 0,this._codes_hash=void 0,this._keys=void 0,this._codes=void 0,this._names=void 0,this._records=e,this}},{key:"memory_record_create_index_or",value:function(e){var t=this;return this.values.reduce((function(a,n){return e.forEach((function(e){var o=n[e];if(null!=o){if(o in a)throw new Error([t.name+"#"+e+" "+(0,m.default)(o)+" is duplicate","Existing: "+(0,m.default)((0,d.default)(a)),"Conflict: "+(0,m.default)(n)].join("\n"));a[o]=n}})),a}),{})}},{key:"lookup",value:function(e){return e instanceof this?e:"number"==typeof e?this.codes_hash[e]:this.keys_hash[e]}},{key:"fetch",value:function(e){var element=this.lookup(e);if(!element)throw new Error([this.name+".fetch("+(0,m.default)(e)+") does not match anything","keys: "+(0,m.default)(this.keys),"codes: "+(0,m.default)(this.codes)].join("\n"));return element}},{key:"fetch_if",value:function(e){if(null!=e)return this.fetch(e)}},{key:"define",get:function(){throw new Error(this.name+".define() is not implemented")}},{key:"values",get:function(){var e=this;return void 0!==this._values||(this._values=k.default.map(this.__source_records,(function(t,i){return"code"in(t=(0,f.default)({},t,{index:i}))||(t=(0,f.default)({},t,{code:i})),"key"in t||(t=(0,f.default)({},t,{key:"_key"+i})),(0,h.default)(new e(t))}))),this._values}},{key:"keys_hash",get:function(){return null!=this._keys_hash||(this._keys_hash=this.memory_record_create_index_or(["key"])),this._keys_hash}},{key:"codes_hash",get:function(){return null!=this._codes_hash||(this._codes_hash=this.memory_record_create_index_or(["code"])),this._codes_hash}},{key:"keys",get:function(){return null!=this._keys||(this._keys=(0,d.default)(this.keys_hash)),this._keys}},{key:"codes",get:function(){return null!=this._codes||(this._codes=this.values.map((function(e){return e.code}))),this._codes}},{key:"names",get:function(){return null!=this._names||(this._names=this.values.map((function(e){return e.name}))),this._names}},{key:"__source_records",get:function(){return null!=this._records||(this._records=this.define),this._records}}]),e}();if(t.default=w,e.argv[1]===o){var A=function(e){function t(){return(0,y.default)(this,t),(0,c.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,v.default)(t,null,[{key:"define",get:function(){return[{key:"black",name:"☗"},{key:"white",name:"☖"},{code:7}]}}]),t}(w);console.log(A.keys),console.log(A.codes);var B=A.values[0];console.log(B.key),console.log(B.code),console.log(B.name),console.log(A.values),console.log(A.lookup("black").name),console.log(A.lookup("black").code),console.log(A.lookup("_key2").name);var P=A.lookup("black");console.log(P instanceof A),console.log(A.lookup(0)),console.log(A.lookup(1)),console.log(A.lookup(2)),console.log(A.values[0]==A.values[0]),console.log(A.values.map((function(e){return e.key}))),console.log((0,d.default)(A.keys_hash)),console.log(A.fetch("unknown"))}}).call(this,n(131),"/index.js")},483:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Piece",(function(){return x}));n(479);var r=n(129),c=n(130),l=n(489),_=n(480),h=n(481),f=n(478),d=(n(15),n(36),n(482)),m=n.n(d),y=n(505),v=n(511);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var x=function(e){Object(_.a)(n,e);var t=k(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"css_class_list",get:function(){return["piece_name","piece_".concat(this.key)]}},{key:"promotable_p",get:function(){return!!this.promoted_name}},{key:"piece_vector",get:function(){return y.PieceVector.fetch(this.key)}},{key:"piece_yomiage",get:function(){return v.PieceYomiage.fetch(this.key)}}],[{key:"define",get:function(){return[{key:"K",name:"玉",alias_name:"王",promoted_name:null,promoted_alias_name:null},{key:"R",name:"飛",alias_name:null,promoted_name:"龍",promoted_alias_name:"竜"},{key:"B",name:"角",alias_name:null,promoted_name:"馬",promoted_alias_name:null},{key:"G",name:"金",alias_name:null,promoted_name:null,promoted_alias_name:null},{key:"S",name:"銀",alias_name:null,promoted_name:"全",promoted_alias_name:null},{key:"N",name:"桂",alias_name:null,promoted_name:"圭",promoted_alias_name:null},{key:"L",name:"香",alias_name:null,promoted_name:"杏",promoted_alias_name:null},{key:"P",name:"歩",alias_name:null,promoted_name:"と",promoted_alias_name:null}]}},{key:"lookup",value:function(e){return"string"==typeof e&&(e=e.toUpperCase()),Object(l.a)(Object(f.a)(n),"lookup",this).call(this,e)}},{key:"lookup_by_name",value:function(e){return null==this._lookup_by_name&&(this._lookup_by_name=this.memory_record_create_index_or(["name","alias_name"])),this._lookup_by_name[e]}},{key:"lookup_by_promoted_name",value:function(e){return null==this._lookup_by_promoted_name&&(this._lookup_by_promoted_name=this.memory_record_create_index_or(["promoted_name","promoted_alias_name"])),this._lookup_by_promoted_name[e]}}]),n}(m.a);e.argv[1]===o&&(console.log(x.fetch("K")),console.log(x.fetch("K")),console.log(x.lookup("")),console.log(x.values),console.log(x.values_map.get("K")),console.log(x.fetch("K").key))}.call(this,n(131),"/index.js")},484:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Soldier",(function(){return w}));n(29),n(21),n(28),n(37),n(38);var r=n(11),c=n(129),l=n(130),_=(n(27),n(15),n(36),n(3)),h=n(14),f=n.n(h),d=n(133),m=n(132),y=n(483),v=n(69);function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=function(){function e(t){Object(c.a)(this,e),this.attributes=Object.assign({},t)}return Object(l.a)(e,[{key:"piece",get:function(){return this.attributes.piece}},{key:"place",get:function(){return this.attributes.place},set:function(e){_.a.set(this.attributes,"place",e)}},{key:"location",get:function(){return this.attributes.location}},{key:"promoted",get:function(){return!!this.attributes.promoted},set:function(e){_.a.set(this.attributes,"promoted",e)}},{key:"name",get:function(){return this.promoted?this.piece.promoted_name:this.piece.name}},{key:"yomiage_name",get:function(){return this.piece.piece_yomiage.yomiage(this.promoted)}},{key:"transform_clone",get:function(){var e=null;return e=this.piece.promotable_p?this.promoted?{location:this.location.flip,promoted:!this.promoted}:{promoted:!this.promoted}:{location:this.location.flip},this.clone_with_attrs(e)}},{key:"clone_with_attrs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(x(x({},this.attributes),t))}},{key:"promotable_p",get:function(){if(this.piece.promotable_p&&!this.promoted)return this.danger_zone_p}},{key:"danger_zone_p",get:function(){return"black"===this.location.key?this.place.y<d.Board.danger_zone_size:this.place.y>=d.Board.dimension-d.Board.danger_zone_size}},{key:"css_class_list",get:function(){var e=[];return e.push("location_".concat(this.location.key)),e.push("promoted_".concat(this.promoted)),e=f.a.concat(e,this.piece.css_class_list)}},{key:"bottom_spaces",get:function(){return d.Board.dimension-1-this.top_spaces}},{key:"top_spaces",get:function(){return this.place.sp_flip_if_white(this.location).y}}],[{key:"random",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.place;if(!t){var n=f.a.random(0,d.Board.dimension-1),o=f.a.random(0,d.Board.dimension-1);t=m.Place.fetch([n,o])}var r=y.Piece.fetch(f.a.random(0,y.Piece.values.length-1)),c=r.promotable_p&&0===f.a.random(0,1),l=v.Location.fetch(f.a.random(0,v.Location.values.length-1));return new this({piece:r,place:t,promoted:c,location:l})}}]),e}();if(e.argv[1]===o){var A=new w({place:new m.Place([1,7]),piece:y.Piece.fetch("P"),promoted:!0,location:v.Location.fetch("white")});console.log(A.name),console.log(A.top_spaces)}}.call(this,n(131),"/index.js")},485:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(92);var r=n(134),c=n(72);function l(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||Object(r.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},486:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(493)),r=l(n(494)),c="function"==typeof r.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function l(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===c(o.default)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":c(e)}},487:function(e,t,n){e.exports={default:n(531),__esModule:!0}},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(478);function r(object,e){for(;!Object.prototype.hasOwnProperty.call(object,e)&&null!==(object=Object(o.a)(object)););return object}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var base=r(e,t);if(base){var desc=Object.getOwnPropertyDescriptor(base,t);return desc.get?desc.get.call(arguments.length<3?e:n):desc.value}},c.apply(this,arguments)}},490:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"PresetInfo",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=n(482);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"define",get:function(){return[{key:"詰将棋",sfen:"position sfen 4k4/9/9/9/9/9/9/9/9 b 2r2b4g4s4n4l18p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"詰将棋 - 美濃",sfen:"position sfen ln1g5/1ks6/1ppp5/p8/9/9/9/9/9 b BGSNL2rb2g2s2n2l14p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"詰将棋 - 矢倉",sfen:"position sfen 7nl/6gk1/5gspp/5pp2/9/9/9/9/9 b BGSNL2rbg2s2n2l14p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"戦型 右四間 vs 四間飛車",sfen:"position sfen ln1g1g1nl/1ks2r3/1pppp1bpp/p3spp2/9/P1P1SP1PP/1P1PP1P2/1BK1GR3/LNSG3NL b - 25",first_location_key:"black",piece_box:[]},{key:"全部駒箱",sfen:"position sfen 9/9/9/9/9/9/9/9/9 b - 1",first_location_key:"black",piece_box:[["B",2],["R",2],["L",4],["N",4],["S",4],["G",4],["P",18],["K",2]]},{key:"平手",sfen:"position sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",first_location_key:"black",piece_box:[]},{key:"香落ち",sfen:"position sfen lnsgkgsn1/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"右香落ち",sfen:"position sfen 1nsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"角落ち",sfen:"position sfen lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1]]},{key:"飛車落ち",sfen:"position sfen lnsgkgsnl/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1]]},{key:"飛香落ち",sfen:"position sfen lnsgkgsn1/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1],["L",1]]},{key:"二枚落ち",sfen:"position sfen lnsgkgsnl/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1]]},{key:"三枚落ち",sfen:"position sfen lnsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",1]]},{key:"四枚落ち",sfen:"position sfen 1nsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2]]},{key:"六枚落ち",sfen:"position sfen 2sgkgs2/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2]]},{key:"八枚落ち",sfen:"position sfen 3gkg3/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2]]},{key:"十枚落ち",sfen:"position sfen 4k4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2]]},{key:"十九枚落ち",sfen:"position sfen 4k4/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9]]},{key:"二十枚落ち",sfen:"position sfen 9/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9],["K",1]]},{key:"青空将棋",sfen:"position sfen lnsgkgsnl/1r5b1/9/9/9/9/9/1B5R1/LNSGKGSNL b - 1",first_location_key:"black",piece_box:[]}]}}]),n}(n.n(f).a);e.argv[1]===o&&(console.log(m.fetch("平手")),console.log(m.fetch("香落ち").first_location_key))}.call(this,n(131),"/index.js")},491:function(e,t,n){e.exports={default:n(526),__esModule:!0}},492:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(486),c=(o=r)&&o.__esModule?o:{default:o};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,c.default)(t))&&"function"!=typeof t?e:t}},493:function(e,t,n){e.exports={default:n(527),__esModule:!0}},494:function(e,t,n){e.exports={default:n(528),__esModule:!0}},495:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(496)),r=l(n(497)),c=l(n(486));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},496:function(e,t,n){e.exports={default:n(529),__esModule:!0}},497:function(e,t,n){e.exports={default:n(530),__esModule:!0}},498:function(e,t,n){e.exports={default:n(532),__esModule:!0}},499:function(e,t,n){e.exports={default:n(533),__esModule:!0}},500:function(e,t,n){e.exports={default:n(534),__esModule:!0}},501:function(e,t,n){e.exports={default:n(535),__esModule:!0}},502:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},503:function(e,t,n){"use strict";t.__esModule=!0;var o,r=n(487),c=(o=r)&&o.__esModule?o:{default:o};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,c.default)(e,n.key,n)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},504:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"ParserBase",(function(){return f}));var r=n(129),c=n(130),l=(n(15),n(36),n(14)),_=n.n(l),h=n(69),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(r.a)(this,e),this.reset(),this.raw_body=t}return Object(c.a)(e,[{key:"reset",value:function(){this.raw_body="",this.header={}}},{key:"parse",value:function(){}},{key:"board",get:function(){console.warn("not implemented")}},{key:"hold_pieces_empty_hash",value:function(){return _.a.reduce(h.Location.values,(function(a,e){return a[e.key]={},a}),{})}},{key:"turn_offset_min",get:function(){return 0}},{key:"turn_offset_max",get:function(){return this.move_infos.length}},{key:"turn_base",get:function(){return 0}},{key:"location_by_offset",value:function(e){return this.base_location.advance(e)}},{key:"last_location",get:function(){return this.location_by_offset(this.turn_offset_max-1)}},{key:"next_location",get:function(){return this.location_by_offset(this.turn_offset_max)}},{key:"move_infos",get:function(){console.warn("not implemented")}},{key:"comments_pack",get:function(){return null}}],[{key:"parse",value:function(e){var t=new this(e);return t.parse(),t}}]),e}();e.argv[1]}.call(this,n(131),"/index.js")},505:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"PieceVector",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=n(482);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"define",get:function(){return[{key:"K",basic_once_vectors:"pattern_king",basic_repeat_vectors:null,promoted_once_vectors:null,promoted_repeat_vectors:null,force_promote_length:null},{key:"R",basic_once_vectors:null,basic_repeat_vectors:"pattern_plus",promoted_once_vectors:"pattern_x",promoted_repeat_vectors:"pattern_plus",force_promote_length:null},{key:"B",basic_once_vectors:null,basic_repeat_vectors:"pattern_x",promoted_once_vectors:"pattern_plus",promoted_repeat_vectors:"pattern_x",force_promote_length:null},{key:"G",basic_once_vectors:"pattern_gold",basic_repeat_vectors:null,promoted_once_vectors:null,promoted_repeat_vectors:null,force_promote_length:null},{key:"S",basic_once_vectors:"pattern_silver",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:null},{key:"N",basic_once_vectors:"pattern_knight",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:1},{key:"L",basic_once_vectors:null,basic_repeat_vectors:"pattern_pawn",promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:0},{key:"P",basic_once_vectors:"pattern_pawn",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:0}]}},{key:"pattern_plus",get:function(){return[null,[0,-1],null,[-1,0],[1,0],null,[0,1],null]}},{key:"pattern_x",get:function(){return[[-1,-1],null,[1,-1],null,null,null,[-1,1],null,[1,1]]}},{key:"pattern_silver",get:function(){return[[-1,-1],[0,-1],[1,-1],null,null,null,[-1,1],null,[1,1]]}},{key:"pattern_gold",get:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],null,[0,1],null]}},{key:"pattern_king",get:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],null,[1,0],[-1,1],[0,1],[1,1]]}},{key:"pattern_knight",get:function(){return[[-1,-2],[1,-2]]}},{key:"pattern_pawn",get:function(){return[[0,-1]]}}]),n}(n.n(f).a);e.argv[1]}.call(this,n(131),"/index.js")},506:function(e,t,n){var o=n(7),r=n(262)(!1);o(o.S,"Object",{values:function(e){return r(e)}})},507:function(e,t,n){"use strict";n.r(t),n.d(t,"EffectInfo",(function(){return B}));n(29),n(21),n(28),n(37),n(38),n(479);var o=n(480),r=n(481),c=n(478),l=n(485),_=n(11),h=n(129),f=n(130),d=n(482),m=n.n(d),y=n(513);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(c.a)(e);if(t){var l=Object(c.a)(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return Object(r.a)(this,n)}}function k(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=function(){function e(base,t){Object(h.a)(this,e),this.base=base,this.params=x({},t)}return Object(f.a)(e,[{key:"run",value:function(){var e=this;this.current=document.createElement("div"),this.current.classList.add("fireball",this.params.css_class),this.current.style.transitionDuration="".concat(this.params.duration,"ms"),this.base.body_el.appendChild(this.current);var t=this.base.from_rc,n=t.left+t.width/2,o=t.top+t.height/2,r=this.current.getBoundingClientRect(),c=n-r.width/2,l=o-r.height/2;this.current.style.position="absolute",this.current.style.left="".concat(c,"px"),this.current.style.top="".concat(l,"px");var a=2*Math.PI*this.params.angle,_=Math.cos(a)*this.params.radius,h=Math.sin(a)*this.params.radius;this.current.style.transform="translate(".concat(_,"px, ").concat(h,"px)"),setTimeout((function(){return e.current_destroy()}),this.params.duration+this.params.destroy_gap)}},{key:"current_destroy",value:function(){this.base.body_el.removeChild(this.current)}}],[{key:"run",value:function(base){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},object=new this(base,e);object.run()}}]),e}(),A=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"run",value:function(){var e=this;this.effect_info.params_list.forEach((function(t){e.circle_create(t)}))}}]),n}(function(){function e(t,n){Object(h.a)(this,e),this.effect_info=t,this.params=n}return Object(f.a)(e,[{key:"run_around",value:function(){this.before_run(),this.run()}},{key:"before_run",value:function(){var e=this.params.from_el||document.querySelector(this.params.from_selector);this.from_rc=e.getBoundingClientRect(),this.body_el=document.querySelector("body")}},{key:"circle_create",value:function(e){e=x(x({},this.params),e);for(var t=y.Random.rand(),n=0;n<e.total;n++){var o=x({},e);o.radius_range&&(o.radius=y.Random.range.apply(y.Random,Object(l.a)(o.radius_range))),o.duration_range&&(o.duration=y.Random.range.apply(y.Random,Object(l.a)(o.duration_range))),o.destroy_gap_range&&(o.destroy_gap=y.Random.range.apply(y.Random,Object(l.a)(o.destroy_gap_range))),o.angle_rand?o.angle=y.Random.rand():o.angle=t+1/e.total*n,this.fireball_create(o)}}},{key:"fireball_create",value:function(e){w.run(this,e)}}],[{key:"run",value:function(e,t){new this(e,t).run_around()}}]),e}()),B=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"run",value:function(e){this.factory.run(this,e)}}],[{key:"define",get:function(){return[{key:"fw_type_1",factory:A,params_list:[{total:16,angle_rand:!1,radius:null,radius_range:[32,512],duration:null,duration_range:[300,600],destroy_gap:null,destroy_gap_range:[-100,100],css_class:"fireball_s1"},{total:16,angle_rand:!1,radius:200,radius_range:null,duration:300,duration_range:null,destroy_gap:0,destroy_gap_range:null,css_class:"fireball_s1"}]},{key:"fw_type_2",factory:A,params_list:[{total:16,angle_rand:!1,radius:200,radius_range:null,duration:300,duration_range:null,destroy_gap:0,destroy_gap_range:null,css_class:"fireball_s1"}]},{key:"fw_type_3",factory:A,params_list:[{total:12,angle_rand:!1,radius:128,radius_range:null,duration:750,duration_range:null,destroy_gap:0,destroy_gap_range:null,css_class:"fireball_s1"}]}]}}]),n}(m.a)},509:function(e,t,n){"use strict";n.r(t),n.d(t,"MoveHash",(function(){return f}));var o=n(129),r=n(130),c=(n(45),n(257),n(488)),l=n.n(c),_=n(483),h=n(132),f=function(){function e(t){Object(o.a)(this,e),this.promoted_trigger="+"===t.promoted,"*"===t.origin_y?this.drop_piece=_.Piece.fetch(t.origin_x):this.origin_place=h.Place.fetch("".concat(t.origin_x).concat(t.origin_y)),this.place=h.Place.fetch("".concat(t.pos_x).concat(t.pos_y))}return Object(r.a)(e,[{key:"to_sfen",get:function(){return this.to_custom_sfen()}},{key:"to_flop_sfen",get:function(){return this.to_custom_sfen({flop:!0})}},{key:"to_custom_sfen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[];return this.drop_piece?(a.push(this.drop_piece.key),a.push("*")):a.push(this.origin_place.flop_if(e.flop).to_sfen),a.push(this.place.flop_if(e.flop).to_sfen),this.promoted_trigger&&a.push("+"),a.join("")}}],[{key:"line_flop",value:function(e){return this.parse_line(e).map((function(e){return e.to_flop_sfen})).join(" ")}},{key:"str_flop",value:function(e){var t=this.parse(e);if(t)return t.to_flop_sfen}},{key:"parse_line",value:function(line){var e=this,s=line||"";return""===s?[]:s.split(/\s+/).map((function(t){return e.parse(t)}))}},{key:"parse",value:function(e){var t=l.a.exec(e,l()("(?<origin_x>\\S)(?<origin_y>\\S)(?<pos_x>\\S)(?<pos_y>\\S)(?<promoted>\\+?)?"));return t?new this(t):null}}]),e}()},510:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"SfenSerializer",(function(){return m}));var r=n(129),c=n(130),l=(n(45),n(15),n(36),n(14)),_=n.n(l),h=n(483),f=(n(132),n(90)),d=n(69),m=(n(133),function(){function e(t){Object(r.a)(this,e),this.mediator=t}return Object(c.a)(e,[{key:"to_s",get:function(){var e=this.__base_parts;return e.push(this.mediator.display_turn+1),e.join(" ")}},{key:"to_s_without_turn",get:function(){return this.__base_parts.join(" ")}},{key:"to_board_sfen",get:function(){return this.mediator.board.to_sfen}},{key:"to_hold_pieces",get:function(){var e=this,t=d.Location.values.map((function(t){var n=e.mediator.hold_pieces[t.key],o=h.Piece.values.map((function(e){var o=n[e.key]||0,r="";if(0===o)return null;o>=2&&(r+=o);var c=e.key;return r+=c="white"===t.key?c.toLowerCase():c.toUpperCase()}));return _.a.compact(o).join("")})).join("");return _.a.isEmpty(t)&&(t="-"),t}},{key:"__base_parts",get:function(){var e=[];return e.push(this.to_board_sfen),e.push(this.mediator.current_location.key[0]),e.push(this.to_hold_pieces),e}}]),e}());if(e.argv[1]===o){var y=new f.Mediator;y.source="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",y.current_turn=1,y.run();var v=new m(y);console.log(v.to_s)}}.call(this,n(131),"/index.js")},511:function(e,t,n){"use strict";n.r(t),n.d(t,"PieceYomiage",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=(n(27),n(482));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"yomiage",value:function(e){return e?this.promoted_name:this.name}}],[{key:"define",get:function(){return[{key:"K",prefix_name:"ぎょく",name:"ぎょくっ！",promoted_name:null},{key:"R",prefix_name:"ひしゃ",name:"ひしゃっ！",promoted_name:"りゅー！"},{key:"B",prefix_name:"かく",name:"かくっ！",promoted_name:"うまっ！"},{key:"G",prefix_name:"きん",name:"きんっ！",promoted_name:null},{key:"S",prefix_name:"ぎん",name:"ぎんっ！",promoted_name:"なりぎんっ！"},{key:"N",prefix_name:"けい",name:"けいっ！",promoted_name:"なりけいっ！"},{key:"L",prefix_name:"きょー",name:"きょー！",promoted_name:"なりきょー！"},{key:"P",prefix_name:"ふ",name:"ふーっ！",promoted_name:"ときんっ！"}]}}]),n}(n.n(h).a)},512:function(e,t,n){"use strict";n.r(t),n.d(t,"PlaceYomiageInfo",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"define",get:function(){return[{key:"1",yomiage:"1"},{key:"2",yomiage:"にー"},{key:"3",yomiage:"さん"},{key:"4",yomiage:"よん"},{key:"5",yomiage:"ごー"},{key:"6",yomiage:"6"},{key:"7",yomiage:"なな"},{key:"8",yomiage:"8"},{key:"9",yomiage:"きゅー"}]}}]),n}(n.n(h).a)},513:function(e,t,n){"use strict";n.r(t),n.d(t,"Random",(function(){return o}));var o={rand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.random()*e},range:function(a,b){return this.rand(b-a)+a},int_range_include:function(a,b){return this.rand(b-a+1)+a}}},514:function(e,t,n){var o=n(19),meta=n(261).onFreeze;n(135)("freeze",(function(e){return function(t){return e&&o(t)?e(meta(t)):t}}))},515:function(e,t,n){var o=n(7),r=n(16),c=n(46),l=/"/g,_=function(e,t,n,o){var r=String(c(e)),_="<"+t;return""!==n&&(_+=" "+n+'="'+String(o).replace(l,"&quot;")+'"'),_+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(_),o(o.P+o.F*r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},516:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/Universal_Sound_FX/TABLE_TENNIS_Racket_Ball_Hit_07_Hard_mono.wav"},517:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/Universal_Sound_FX/RELOAD_Rechamber_Leaver_Action_stereo.wav"},518:function(e,t,n){"use strict";n.r(t),n.d(t,"KanjiNumber",(function(){return m}));var o=n(11),r=n(485),c=n(129),l=n(130),_=(n(51),n(263),n(89),n(508),n(29),n(21),n(28),n(37),n(38),n(488)),h=n.n(_);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"kanji_to_number_string",value:function(s){var e=this;s=s.replace(new RegExp("[".concat(this.KANJI_TABLE,"]"),"g"),(function(t){return e.TRANSRATE_TABLE[t]}));for(var t=function(i){var t=h()("(?<number>\\d+)?(?<unit>[".concat(e.UNIT_TABLE.charAt(i),"])(?<rest>\\d+)?"),"g");s=h.a.replace(s,t,(function(e){var t,n;return Number(null!==(t=e.number)&&void 0!==t?t:1)*Math.pow(10,i+1)+Number(null!==(n=e.rest)&&void 0!==n?n:0)}))},i=0;i<this.unit_size;i++)t(i);return s}},{key:"number_to_kanji",value:function(e){for(var t=[],n=this.unit_size;n>=1;n--){var s=this.UNIT_TABLE.charAt(n-1),o=Math.pow(10,n),q=Math.trunc(e/o),r=Math.trunc(e%o);1===q?n>=this.one_number_insert_level?t.push(this.KANJI_TABLE.charAt(q)+s):t.push(s):q>=2&&t.push(this.KANJI_TABLE.charAt(q)+s),e=r}return(0===e&&0===t.length||e>=1)&&t.push(this.KANJI_TABLE.charAt(e)),t.join("")}},{key:"regexp",get:function(){return h()("[".concat(this.KANJI_TABLE).concat(this.UNIT_TABLE,"]+"))}},{key:"extract",value:function(s){var e=[];return h.a.forEach(s,this.regexp,(function(t){e.push(t[0])})),e}}]),e}();m.unit_size=6,m.one_number_insert_level=4,m.KANJI_TABLE="〇一二三四五六七八九",m.UNIT_TABLE="十百千万憶兆",m.NUMBER_TABLE="0123456789",m.TRANSRATE_TABLE=Object(r.a)(m.KANJI_TABLE).reduce((function(a,e,i){return d(d({},a),{},Object(o.a)({},e,m.NUMBER_TABLE.charAt(i)))}),{})},519:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"MoveInfo",(function(){return f}));n(29),n(21),n(28),n(37),n(38);var r=n(11),c=n(129),l=n(130);n(27);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=function(){function e(t){Object(c.a)(this,e),Object.assign(this,t)}return Object(l.a)(e,[{key:"to_sfen",get:function(){var e=null;if("move"===this.type)e=this.from.place.to_sfen+this.to.place.to_sfen;else if("promotable"===this.type)e=this.from.place.to_sfen+this.to.place.to_sfen+(this.to.promoted?"+":"");else{if("put"!==this.type)throw new Error("must not happen");e=this.to.piece.key+"*"+this.to.place.to_sfen}return e}},{key:"to_kif",get:function(){return this.to_custom_kif()}},{key:"to_kif_without_from",get:function(){return this.to_custom_kif({from:!1})}},{key:"to_yomiage",get:function(){var e=null;if("move"===this.type)e=this.from.yomiage_name;else if("promotable"===this.type)e=this.from.piece.piece_yomiage.prefix_name+"、"+(this.to.promoted?"なりっ！":"ならずっ！");else{if("put"!==this.type)throw new Error("must not happen");e=this.to.piece.piece_yomiage.prefix_name+"、うつ！"}return[this.to.place.yomiage_x,this.to.place.yomiage_y,e].join(" ")}},{key:"effect_key",get:function(){if(this.killed_soldier)return"kill_attack";if("move"===this.type)return"move_or_appear";if("promotable"===this.type)return this.to.promoted,"move_or_appear";if("put"===this.type)return"move_or_appear";throw new Error("must not happen")}},{key:"to_custom_kif",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=h({location:!0,from:!0},e);var t=null,n="";if("move"===this.type)t=this.from.name,e.from&&(n=this.__from_xy);else if("promotable"===this.type)t=this.from.name+(this.to.promoted?"成":"不成"),e.from&&(n=this.__from_xy);else{if("put"!==this.type)throw new Error("must not happen");t=this.to.name+"打"}return[e.location?this.to.location.name:"",this.__to_xy,t,n].join("")}},{key:"__from_xy",get:function(){return["(",this.from.place.digit_human,")"].join("")}},{key:"__to_xy",get:function(){return[this.to.place.human_x,this.to.place.kanji_human_y].join("")}}]),e}();e.argv[1]}.call(this,n(131),"/index.js")},52:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"RunModeInfo",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=(n(27),n(482));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"define",get:function(){return[{key:"view_mode",name:"再生"},{key:"play_mode",name:"操作"},{key:"edit_mode",name:"編集"}]}}]),n}(n.n(f).a);e.argv[1]===o&&(console.log(m.fetch("simple").key),console.log(m.fetch("simple").name))}.call(this,n(131),"/index.js")},520:function(e,t,n){"use strict";n.r(t),n.d(t,"MoveCancelInfo",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"define",get:function(){return[{key:"is_move_cancel_standard",name:"無効な場所をタップで駒を離す",smooth_cancel:!0},{key:"is_move_cancel_reality",name:"移動元をタップしたときに駒を離す",smooth_cancel:!1},{key:"is_move_cancel_rehold",name:"移動元をタップしたときに駒を離して持つ",smooth_cancel:!0}]}}]),n}(n.n(h).a)},521:function(e,t,n){"use strict";n.r(t),n.d(t,"PositionInfo",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"define",get:function(){return[{key:"is_position_north",name:"北",sign:-1},{key:"is_position_south",name:"南",sign:1}]}}]),n}(n.n(h).a)},522:function(e,t,n){"use strict";n.r(t),n.d(t,"SoundPresetInfo",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(l,e);var t=f(l);function l(){return Object(o.a)(this,l),t.apply(this,arguments)}return Object(r.a)(l,null,[{key:"define",get:function(){return[{key:"piece_put",source:n(516),volume:.5},{key:"flip_sound",source:n(517),volume:1}]}}]),l}(n.n(h).a)},523:function(e,t,n){"use strict";n.r(t),n.d(t,"AnyFuncInfo",(function(){return y}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482),f=n.n(h),d=n(69);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e){Object(c.a)(n,e);var t=m(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"define",get:function(){return[{key:"☖の持駒を駒箱へ",func:function(e){e.mediator.hold_pieces_to_piece_box(d.Location.fetch("white"))}},{key:"駒箱から☖の持駒へ",func:function(e){e.mediator.piece_box_to_hold_pieces(d.Location.fetch("white"))}},{key:"駒箱を正規化",func:function(e){e.mediator.piece_box_piece_counts_adjust()}},{key:"駒箱に駒を一式生成",func:function(e){e.mediator.piece_box_reset_by_preset("全部駒箱")}},{key:"駒箱の駒をクリア",func:function(e){e.mediator.piece_box_clear()}},{key:"指将棋用玉配置",func:function(e){e.mediator.king_formation_auto_set()}},{key:"指将棋用玉回収",func:function(e){e.mediator.king_formation_auto_unset()}},{key:"視点切り替え",func:function(e){e.base.api_flip_toggle()}},{key:"盤面シャッフル",func:function(e){e.shuffle_dialog_open()}},{key:"上ローテイト",func:function(e){e.mediator.slide_xy(0,-1)}},{key:"下ローテイト",func:function(e){e.mediator.slide_xy(0,1)}},{key:"左ローテイト",func:function(e){e.mediator.slide_xy(-1,0)}},{key:"右ローテイト",func:function(e){e.mediator.slide_xy(1,0)}}]}}]),n}(f.a)},524:function(e,t,n){"use strict";n.r(t),n.d(t,"DeviseInfo",(function(){return d}));n(479);var o=n(129),r=n(130),c=n(480),l=n(481),_=n(478),h=n(482);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var d=function(e){Object(c.a)(n,e);var t=f(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,null,[{key:"define",get:function(){return[{key:"is_device_desktop",name:"マウス操作",gap:0,description:"タップも可能な端末であっても先にマウス操作したらマウス"},{key:"is_device_touch",name:"タップ南",gap:0,description:"基本的にスマホはこちら"}]}}]),n}(n.n(h).a)},525:function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},53:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"BgVariantInfo",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=(n(27),n(482));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"define",get:function(){return[{key:"is_bg_variant_none",name:"none"},{key:"is_bg_variant_a",name:"木1"},{key:"is_bg_variant_b",name:"木2"},{key:"is_bg_variant_c",name:"木3"},{key:"is_bg_variant_d",name:"木4"},{key:"is_bg_variant_e",name:"木5"},{key:"is_bg_variant_f",name:"木6"},{key:"is_bg_variant_g",name:"木7"}]}}]),n}(n.n(f).a);e.argv[1]===o&&(console.log(m.fetch("is_bg_variant_a").key),console.log(m.fetch("is_bg_variant_a").name))}.call(this,n(131),"/index.js")},54:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"PiVariantInfo",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=(n(27),n(482));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,null,[{key:"define",get:function(){return[{key:"is_pi_variant_none",name:"none"},{key:"is_pi_variant_a1by",name:"ゴシック(1文字)"},{key:"is_pi_variant_a2by",name:"ゴシック(2文字)"},{key:"is_pi_variant_b",name:"紙面風"},{key:"is_pi_variant_c",name:"図案駒(画像)"},{key:"is_pi_variant_d",name:"orangain/shogi-piece-images"},{key:"is_pi_variant_e",name:"プチッチ(画像・暗め)"}]}}]),n}(n.n(f).a);e.argv[1]===o&&(console.log(m.fetch("is_pi_variant_a1by").key),console.log(m.fetch("is_pi_variant_a1by").name))}.call(this,n(131),"/index.js")},69:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"Location",(function(){return m}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=(n(15),n(36),n(45),n(482));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var m=function(e){Object(l.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"flip",get:function(){return n.cycle_lookup(this.code+1)}},{key:"any_long_name",value:function(e){return e?this.handicap_long_name:this.long_name}},{key:"advance",value:function(e){return n.cycle_lookup(this.code+e)}},{key:"flip_if",value:function(e){return this.advance(e?1:0)}}],[{key:"define",get:function(){return[{key:"black",name:"☗",char_key:"b",value_sign:1,position_key:"is_position_south",long_name:"先手",handicap_long_name:"下手"},{key:"white",name:"☖",char_key:"w",value_sign:-1,position_key:"is_position_north",long_name:"後手",handicap_long_name:"上手"}]}},{key:"cycle_lookup",value:function(e){return"number"!=typeof e&&alert("ArgumentError: ".concat(e)),n.lookup(Math.abs(e)%n.values.length)}}]),n}(n.n(f).a);e.argv[1]===o&&(console.log(m.cycle_lookup(-1)),console.log(m.fetch("black")),m.values.map((function(e){console.log(e)})),console.log(m.fetch("black").flip),console.log(m.fetch("white").flip))}.call(this,n(131),"/index.js")},90:function(e,t,n){"use strict";n.r(t),n.d(t,"Mediator",(function(){return A}));var o=n(17),r=n(129),c=n(130),l=(n(27),n(89),n(260),n(45),n(28),n(15),n(36),n(14)),_=n.n(l),h=n(3),f=n(133),d=n(132),m=n(483),y=n(484),v=n(259),k=n(510),x=n(490),w=n(69),A=function(){function e(){Object(r.a)(this,e);var t=new v.SfenParser;t.raw_body="position startpos",t.parse(),this.data_source=t,this.current_turn=0,this.board=null,this.hold_pieces=null,this.last_hand=null,this.piece_box={},this.env="production"}return Object(c.a)(e,[{key:"run",value:function(){var e=this;this.board=this.data_source.board,this.hold_pieces=this.data_source.hold_pieces,this.last_hand=null;var t=this.data_source.move_infos,n=this.turn_offset-this.turn_offset_min;_()(n).times((function(i){e.execute_one(t[i])}))}},{key:"execute_one",value:function(e){if(this.last_hand=e,e.drop_piece){var t=new y.Soldier({piece:e.drop_piece,place:e.place,promoted:e.promoted,location:e.location});this.hold_pieces_add(e.location,t.piece,-1),this.board.place_on(t)}else{var n=this.board.lookup(e.place);n&&this.hold_pieces_add(e.location,n.piece,1);var o=this.board.lookup(e.origin_place);e.promoted_trigger&&(o.promoted=!0),o.place=e.place,this.board.delete_at(e.origin_place),this.board.place_on(o)}}},{key:"hold_pieces_count",value:function(e,t){return this.hold_pieces[e.key][t.key]||0}},{key:"hold_pieces_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=this.hold_pieces_count(e,t)+n,r=this.hold_pieces[e.key];h.a.delete(r,t.key),o>=1&&h.a.set(r,t.key,o)}},{key:"hold_pieces_can_be_reduced_count",value:function(e,t,n){var o=this.hold_pieces_count(e,t);return n>o&&(n=o),n}},{key:"board_safe_delete_on",value:function(e){this.board.delete_at(e)}},{key:"board_piece_fore_class",value:function(e){var t=d.Place.fetch(e),n=this.board.lookup(t);return n?n.css_class_list:[]}},{key:"cell_piece_class",value:function(e){var t=d.Place.fetch(e),n=this.board.lookup(t),o=[];return n&&o.push("location_".concat(n.location.key)),o}},{key:"cell_view",value:function(e){var t=d.Place.fetch(e),n=this.board.lookup(t),o="";return n&&(o=n.name),o}},{key:"dimension",get:function(){return f.Board.dimension}},{key:"turn_offset",get:function(){var e=Number(this.current_turn);return e<0&&(e+=this.turn_offset_max+1),this.turn_clamp(e)}},{key:"turn_clamp",value:function(e){return _.a.clamp(Number(e),this.turn_offset_min,this.turn_offset_max)}},{key:"previous_location",get:function(){return this.data_source.location_by_offset(this.turn_offset-1)}},{key:"current_location",get:function(){return this.data_source.location_by_offset(this.turn_offset)}},{key:"current_comments",get:function(){if(this.data_source.comments_pack)return this.data_source.comments_pack[this.turn_offset]}},{key:"turn_offset_min",get:function(){return this.data_source.turn_offset_min}},{key:"turn_offset_max",get:function(){return this.data_source.turn_offset_max}},{key:"current_turn_label",get:function(){return this.turn_offset===this.turn_offset_max?"まで".concat(this.display_turn,"手で").concat(this.previous_location.name,"の勝ち"):"".concat(this.display_turn,"手")}},{key:"display_turn",get:function(){return this.turn_base+this.turn_offset}},{key:"turn_base",get:function(){return this.data_source.turn_base}},{key:"realized_hold_pieces_of",value:function(e){var t=Object.entries(this.hold_pieces[e]);return _()(t).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]>=1})).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return[m.Piece.fetch(n),r]})).sortBy((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n.code})).value()}},{key:"to_simple_sfen",get:function(){return this.sfen_serializer.to_s}},{key:"to_sfen_without_turn",get:function(){return this.sfen_serializer.to_s_without_turn}},{key:"to_position_sfen",get:function(){return"position sfen ".concat(this.to_simple_sfen)}},{key:"sfen_serializer",get:function(){return new k.SfenSerializer(this)}},{key:"piece_box_count",value:function(e){return this.piece_box[e.key]||0}},{key:"piece_box_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.piece_box_count(e)+t;h.a.delete(this.piece_box,e.key),n>=1&&h.a.set(this.piece_box,e.key,n)}},{key:"piece_box_can_be_reduced_count",value:function(e,t){var n=this.piece_box_count(e);return t>n&&(t=n),t}},{key:"piece_box_realize",value:function(){var e=Object.entries(this.piece_box);return _()(e).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]>=1})).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return[m.Piece.fetch(n),r]})).sortBy((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n.code})).value()}},{key:"hold_pieces_to_piece_box",value:function(e){var t=this;_.a.forIn(this.hold_pieces[e.key],(function(n,o){var r=m.Piece.fetch(o);t.hold_pieces_add(e,r,-n),t.piece_box_add(r,n)}))}},{key:"piece_box_to_hold_pieces",value:function(e){var t=this;_.a.forIn(this.piece_box,(function(n,o){var r=m.Piece.fetch(o);t.piece_box_add(r,-n),t.hold_pieces_add(e,r,n)}))}},{key:"piece_box_reset_by_preset",value:function(e){var t=this;this.piece_box_clear(),x.PresetInfo.fetch(e).piece_box.forEach((function(e){var n=Object(o.a)(e,2),r=n[0],c=n[1];t.piece_box_add(m.Piece.fetch(r),c)}))}},{key:"piece_box_piece_counts_adjust",value:function(){var e=this;this.piece_box_clear();var t=this.hold_piece_all_counts_hash,n=this.board.piece_counts_hash;x.PresetInfo.fetch("全部駒箱").piece_box.forEach((function(r){var c=Object(o.a)(r,2),l=c[0],_=c[1],h=m.Piece.fetch(l),f=_-((t[h.key]||0)+(n[h.key]||0));e.piece_box_add(h,f)}))}},{key:"hold_piece_all_counts_hash",get:function(){var e=this,t={};return w.Location.values.forEach((function(n){_.a.forIn(e.hold_pieces[n.key],(function(e,n){t[n]=(t[n]||0)+e}))})),t}},{key:"piece_box_clear",value:function(){this.piece_box={}}},{key:"king_formation_auto_set_on_off",value:function(e){return e?this.king_formation_auto_set():this.king_formation_auto_unset()}},{key:"king_formation_auto_set",value:function(){var e=!1;return e||(e=this.king_formation_set("bottom_left")),e||(e=this.king_formation_set("bottom_right")),e}},{key:"king_formation_auto_unset",value:function(){var e=!1;return e||(e=this.king_formation_unset("bottom_left")),e||(e=this.king_formation_unset("bottom_right")),e}},{key:"king_formation_set",value:function(e){var t=this,n=this.king_formation_soldiers(e);if(!n.some((function(e){return t.board.lookup(e.place)})))return n.forEach((function(e){return t.piece_search_and_place_on(e)})),!0}},{key:"king_formation_unset",value:function(e){var t=this,n=this.king_formation_soldiers(e);if(!n.some((function(e){return!t.board.lookup(e.place)})))return n.forEach((function(e){var n=t.board.lookup(e.place);if(n){var o=n.piece;t.board.delete_at(n.place),"K"===o.key?t.piece_box_add(o):t.hold_pieces_add(w.Location.fetch("white"),o)}})),!0}},{key:"piece_search_and_place_on",value:function(e){if(!this.board.lookup(e.place)){if("K"===e.piece.key)this.piece_search_and_decrement(e.piece);else if(!this.piece_search_and_decrement(e.piece))return;this.board.place_on(e)}}},{key:"piece_search_and_decrement",value:function(e){var t=!1;return t||(t=this.piece_search_on_hold_pieces_and_decrement("white",e)),t||this.piece_box_count(e)>=1&&(this.piece_box_add(e,-1),t=!0),t}},{key:"piece_search_on_hold_pieces_and_decrement",value:function(e,t){var n=w.Location.fetch(e);if(this.hold_pieces_count(n,t)>=1)return this.hold_pieces_add(n,t,-1),!0}},{key:"king_formation_soldiers",value:function(e){var t=null,n=null,o=null,r=null;return"bottom_left"===e&&(t=0,n=1,o=f.Board.dimension-1,r=-1),"bottom_right"===e&&(t=f.Board.dimension-1,n=-1,o=f.Board.dimension-1,r=-1),[{piece:"K",promoted:!1,location:"black",place:[t,o]},{piece:"P",promoted:!0,location:"white",place:[t,o+r+r]},{piece:"P",promoted:!0,location:"white",place:[t+n,o+r+r]},{piece:"P",promoted:!0,location:"white",place:[t+n+n,o+r+r]},{piece:"P",promoted:!0,location:"white",place:[t+n+n,o+r]},{piece:"P",promoted:!0,location:"white",place:[t+n+n,o]}].map((function(e){return new y.Soldier({piece:m.Piece.fetch(e.piece),promoted:e.promoted,location:w.Location.fetch(e.location),place:d.Place.fetch(e.place)})}))}},{key:"slide_xy",value:function(e,t){this.board=this.board.slide_xy(e,t)}},{key:"shuffle_apply",value:function(e){var t=this.board.shuffle_apply(e);if(t)return this.board=t,!0}}]),e}()},91:function(e,t,n){"use strict";n.r(t),function(e,o){n.d(t,"HumanSideInfo",(function(){return v}));n(479);var r=n(129),c=n(130),l=n(480),_=n(481),h=n(478),f=(n(45),n(482)),d=n.n(f),m=n(69);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(h.a)(e);if(t){var r=Object(h.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(_.a)(this,n)}}var v=function(e){Object(l.a)(n,e);var t=y(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"locations",get:function(){return this.location_keys.map((function(e){return m.Location.fetch(e)}))}}],[{key:"define",get:function(){return[{key:"none",name:"none",location_keys:[]},{key:"both",name:"☗☖",location_keys:["black","white"]},{key:"black",name:"☗",location_keys:["black"]},{key:"white",name:"☖",location_keys:["white"]}]}}]),n}(d.a);e.argv[1]===o&&console.log(v.fetch("both").locations)}.call(this,n(131),"/index.js")}}]);