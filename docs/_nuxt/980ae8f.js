(window.webpackJsonp=window.webpackJsonp||[]).push([[105,6,17,19,20,23,24,25,26,58,59,60,88,89,90,92,97,99,101,104,108,109,110],{2:function(e,t,o){"use strict";o.r(t),o.d(t,"support",(function(){return r}));var r={mixins:[o(258).root_support],props:{base:{type:Object,required:!1}}}},258:function(e,t,o){"use strict";o.r(t),o.d(t,"root_support",(function(){return r}));var r={data:function(){return{}}}},268:function(e,t,o){"use strict";o.r(t),o.d(t,"shortcut_module",(function(){return _}));o(47),o(27),o(21),o(48),o(49);var r=o(485),n=(o(15),o(36),o(69)),c=o(132),l=o(458);function f(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,n=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw n}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var _={data:function(){return{mouseover_info:null,shuffle_mode_p:!1}},methods:{shortcut_hook:function(e){if(!this.play_p&&!this.edit_p)return!0;var t,o=f(n.Location.values);try{for(o.s();!(t=o.n()).done;){var l=t.value;if(e.key.toLowerCase()===l.char_key&&(this.soldier_hold_unless_lifted_p(e),this.membership_click_handle(l,e)))return e.preventDefault(),!0}}catch(e){o.e(e)}finally{o.f()}if(this.edit_p&&("Backspace"===e.code||"Delete"===e.code||!this.meta_p(e)&&"t"===e.key)&&(this.soldier_hold_unless_lifted_p(e),this.piece_box_other_click(e)))return e.preventDefault(),!0;if("Escape"===e.code&&this.hold_cancel(e))return e.preventDefault(),!0;if("q"===e.key){if(this.lifted_p&&this.hold_cancel(e))return e.preventDefault(),!0;if(this.mouseover_info&&"board"===this.mouseover_info.type){var h=c.Place.fetch(this.mouseover_info.xy),_=this.mediator.board.lookup(h);if(_)return this.piece_stand_piece_click(_.location,_.piece,_.promoted,null),e.preventDefault(),!0}}if(!this.meta_p(e)&&("v"===e.key||"r"===e.key||"Space"===e.code)&&this.mouseover_info&&"board"===this.mouseover_info.type)return this.board_cell_right_click(this.mouseover_info.xy,e),e.preventDefault(),!0;if(this.edit_p&&"?"===e.key)return this.shortcut_modal_toggle_handle(),e.preventDefault(),!0;if(this.edit_p&&this.meta_p(e)){var d,m=this.arrow_vector_table[e.key];if(m)return(d=this.mediator).slide_xy.apply(d,Object(r.a)(m)),e.preventDefault(),!0}return!(!this.edit_p||("!"===e.key&&(this.shuffle_mode_p=!this.shuffle_mode_p,this.shuffle_mode_p?this.$buefy.toast.open({message:"盤面シャッフルモード: ON (TAP: 1-9)",position:"is-bottom",queue:!1,duration:2e3,type:"is-primary"}):this.$buefy.toast.open({message:"盤面シャッフルモード: OFF",position:"is-bottom",queue:!1,duration:500})),!this.shuffle_mode_p||"1"!==e.key&&"2"!==e.key&&"3"!==e.key&&"4"!==e.key&&"5"!==e.key&&"6"!==e.key&&"7"!==e.key&&"8"!==e.key&&"9"!==e.key))&&(this.shuffle_run(e.key),e.preventDefault(),!0)},board_mouseover_handle:function(e,t){this.mouseover_info={type:"board",xy:e}},piece_stand_mouseover_handle:function(e,t,o){this.mouseover_info={type:"MembershipStand",location:e,piece:t}},piece_box_mouseover_handle:function(e,t){this.mouseover_info={type:"PieceBox",piece:e}},mouseleave_handle:function(){this.mouseover_info=null},soldier_hold_unless_lifted_p:function(e){this.mouseover_info&&(this.lifted_p||("board"===this.mouseover_info.type&&this.board_cell_left_click(this.mouseover_info.xy,e),"MembershipStand"===this.mouseover_info.type&&this.piece_stand_piece_click(this.mouseover_info.location,this.mouseover_info.piece,!1,e),"PieceBox"===this.mouseover_info.type&&this.piece_box_piece_click(this.mouseover_info.piece,e)))},shortcut_modal_toggle_handle:function(){this.shortcut_modal_active_p()?this.shortcut_modal_close_handle():this.shortcut_modal_show_handle()},shortcut_modal_show_handle:function(){var e=this;this.shortcut_modal_close_handle(),this.$shortcut_modal&&alert("this.$shortcut_modal"),this.$shortcut_modal=this.$buefy.modal.open({parent:this,hasModalCard:!0,props:{},animation:"",onCancel:function(){e.shortcut_modal_close_handle()},canCancel:["escape","outside"],component:l.default})},shortcut_modal_close_handle:function(){this.$shortcut_modal&&(this.$shortcut_modal.close(),this.$shortcut_modal=null)},shortcut_modal_active_p:function(){return!!this.$shortcut_modal}},computed:{arrow_vector_table:function(){return{ArrowRight:[1,0],ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowDown:[0,1]}}}}},485:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));var r=o(92);var n=o(134),c=o(72);function l(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(n.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},508:function(e,t,o){var r=o(7);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},561:function(e,t,o){var r=o(7),n=o(46),c=o(16),l=o(562),f="["+l+"]",h=RegExp("^"+f+f+"*"),_=RegExp(f+f+"*$"),d=function(e,t,o){var n={},f=c((function(){return!!l[e]()||"​"!="​"[e]()})),h=n[e]=f?t(m):l[e];o&&(n[o]=h),r(r.P+r.F*f,"String",n)},m=d.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(h,"")),2&t&&(e=e.replace(_,"")),e};e.exports=d},562:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},89:function(e,t,o){"use strict";var r=o(9),n=o(39),c=o(40),l=o(280),f=o(93),h=o(16),_=o(75).f,d=o(76).f,m=o(20).f,v=o(561).trim,y="Number",k=r.Number,w=k,A=k.prototype,I=c(o(136)(A))==y,N="trim"in String.prototype,S=function(e){var t=f(e,!1);if("string"==typeof t&&t.length>2){var o,r,n,c=(t=N?t.trim():v(t,3)).charCodeAt(0);if(43===c||45===c){if(88===(o=t.charCodeAt(2))||120===o)return NaN}else if(48===c){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var code,l=t.slice(2),i=0,h=l.length;i<h;i++)if((code=l.charCodeAt(i))<48||code>n)return NaN;return parseInt(l,r)}}return+t};if(!k(" 0o1")||!k("0b1")||k("+0x1")){k=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof k&&(I?h((function(){A.valueOf.call(o)})):c(o)!=y)?l(new w(S(t)),o,k):S(t)};for(var x,E=o(12)?_(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;E.length>O;O++)n(w,x=E[O])&&!n(k,x)&&m(k,x,d(w,x));k.prototype=A,A.constructor=k,o(22)(r,y,k)}}}]);