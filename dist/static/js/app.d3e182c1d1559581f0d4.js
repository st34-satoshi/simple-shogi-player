webpackJsonp([1],{"+5mU":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var i=l(n("d7EF")),r=l(n("u2KI")),a=l(n("Zrlr")),u=l(n("wxAW")),s=n("iy8a");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,a.default)(this,e);var n=void 0,o=void 0;if("string"==typeof t){var r=t.split(""),u=(0,i.default)(r,2);n=u[0],o=u[1],n=s.Board.dimension-Number(n),o=o.charCodeAt(0)-"a".charCodeAt(0)}else{var l=(0,i.default)(t,2);n=l[0],o=l[1]}var c=[n,o];this._x=c[0],this._y=c[1]}return(0,u.default)(e,null,[{key:"fetch",value:function(t){return(0,r.default)(new e(t))}}]),(0,u.default)(e,[{key:"key",get:function(){return[this._x,this._y].toString()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),e}();t.Point=c,e.argv[1]===o&&(console.log(c.fetch("6a").key),console.log(c.fetch([1,2]).key))}).call(t,n("W2nU"),"/index.js")},"+BTF":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.ParserBase=void 0;var i=s(n("ifoU")),r=s(n("Zrlr")),a=s(n("wxAW")),u=n("kHiN");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){(0,r.default)(this,e),this.kifu_body=null,this.header={}}return(0,a.default)(e,[{key:"parse",value:function(){}},{key:"location_by_offset",value:function(e){var t=null;return t=(this.turn_min+e)%2==0?"black":"white",u.Location.fetch(t)}},{key:"field",get:function(){console.warn("not implemented")}},{key:"hold_pieces",get:function(){return new i.default(u.Location.values.map(function(e){return[e.key,new i.default]}))}},{key:"turn_min",get:function(){return 0}},{key:"turn_max",get:function(){return this.turn_min+this.move_infos.length}},{key:"move_infos",get:function(){console.warn("not implemented")}}]),e}();t.ParserBase=l,e.argv[1]}).call(t,n("W2nU"),"/index.js")},"+Gxq":function(e,t,n){"use strict";var o=n("/Put"),i=n.n(o);var r=function(e){n("4veK")},a=n("VU/8")(i.a,null,!1,r,null,null);t.default=a.exports},"/Put":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("fnDg"),r=(o=i)&&o.__esModule?o:{default:o};t.default=r.default},"1I1s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("M4xR"),i=a(n("QERr")),r=a(n("M4fF"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ShogiPlayer",props:["kifu_body","turn_start","keyboard_operation_flag","location_hash_embed_turn"],components:{PieceStand:i.default},data:function(){return{current_turn:0,mediator:null,board_turn:!1,env:"production"}},created:function(){this.current_turn=this.turn_start||0,this.mediator_update(),document.addEventListener("keydown",this.keyboard_operation)},watch:{current_turn:function(){this.mediator_update()},kifu_body:function(){this.mediator_update()}},methods:{keyboard_operation:function(e){if("production"!==this.env&&(console.log(document.activeElement),console.log(e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),console.log("e",e),console.log("key",e.key),console.log("code",e.code)),this.keyboard_operation_flag){var t=document.activeElement,n=[this.$refs.first,this.$refs.previous,this.$refs.next,this.$refs.last];(void 0===t||"BODY"===t.tagName||r.default.includes(n,t))&&("Backspace"!==e.code&&"ArrowUp"!==e.code&&"ArrowLeft"!==e.code&&"k"!==e.key&&"p"!==e.key&&"b"!==e.key||(this.move_to_previous(),e.preventDefault()),"Space"!==e.code&&"Enter"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"j"!==e.key&&"n"!==e.key&&"f"!==e.key||(this.move_to_next(),e.preventDefault()))}},mediator_update:function(){this.mediator=new o.Mediator,this.mediator.kifu_body=this.kifu_body||"position startpos",this.mediator.current_turn=this.current_turn,this.mediator.run(),this.current_turn=this.mediator.turn_now,this.location_hash_embed_turn&&(document.location.hash=this.current_turn)},move_to_previous:function(){this.current_turn>this.mediator.sfen_parser.turn_min&&this.current_turn--,this.$refs.previous.focus()},move_to_next:function(){this.current_turn<this.mediator.sfen_parser.turn_max&&this.current_turn++,this.$refs.next.focus()},move_to_first:function(){this.current_turn=this.mediator.sfen_parser.turn_min,this.$refs.first.focus()},move_to_last:function(){this.current_turn=this.mediator.sfen_parser.turn_max,this.$refs.last.focus()}}}},"4veK":function(e,t){},"4xnO":function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex_item piece_stand",class:[e.location_key,e.$parent.env]},[n("ul",[n("li",[e._v(e._s(e._f("location_name")(e.location_key)))]),e._v(" "),e._l(Array.from(e.$parent.mediator.hold_pieces.get(e.location_key)),function(t){var o=t[0],i=t[1];return[i>=1?[n("li",[n("span",{staticClass:"piece_name"},[e._v(e._s(e._f("piece_name")(o)))]),e._v(" "),i>=2?[n("span",{staticClass:"piece_count"},[e._v(e._s(i))])]:e._e()],2)]:e._e()]})],2)])},staticRenderFns:[]};t.a=o},"7y4T":function(e,t){},"9M+g":function(e,t){},AN0t:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Battler=void 0;var i=l(n("woOf")),r=l(n("Zrlr")),a=l(n("wxAW")),u=n("+5mU"),s=n("P4Jg");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,r.default)(this,e),this.attributes=(0,i.default)({},t)}return(0,a.default)(e,[{key:"piece",get:function(){return this.attributes.piece}},{key:"point",get:function(){return this.attributes.point}},{key:"location",get:function(){return this.attributes.location}},{key:"promoted",get:function(){return this.attributes.promoted},set:function(e){this.attributes.promoted=e}},{key:"name",get:function(){return this.promoted?this.piece.promoted_name:this.piece.name}}]),e}();if(t.Battler=c,e.argv[1]===o){var f=new c({point:new u.Point([1,2]),piece:s.Piece.fetch("P"),promoted:!0,location_key:"white"});console.log(f.name)}}).call(t,n("W2nU"),"/index.js")},BuRC:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryRecord=void 0;var i=l(n("c/Tr")),r=l(n("u2KI")),a=l(n("ifoU")),u=l(n("Zrlr")),s=l(n("wxAW"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,u.default)(this,e),this.attributes=t}return(0,s.default)(e,null,[{key:"lookup",value:function(e){return this.values_map.get(e)}},{key:"fetch",value:function(e){var t=this.lookup(e);if(!t)throw new Error("Key not found: "+e);return t}},{key:"define",get:function(){return console.warn("not implemented"),[{key:"(key)"}]}},{key:"values_map",get:function(){var e=this;return this._values_map=this._values_map||new a.default(this.define.map(function(t){return[t.key,(0,r.default)(new e(t))]})),this._values_map}},{key:"values",get:function(){return this._values=this._values||(0,i.default)(this.values_map.values()),this._values}}]),(0,s.default)(e,[{key:"key",get:function(){return this.attributes.key}},{key:"name",get:function(){return this.attributes.name||this.key.toString()}}]),e}();t.MemoryRecord=c,e.argv[1]===o&&console.log(c.lookup("(key)").name)}).call(t,n("W2nU"),"/index.js")},FrSs:function(e,t){},"HUt/":function(e,t,n){"use strict";var o=n("fcFS"),i=n.n(o);var r=function(e){n("n9mN")},a=n("VU/8")(i.a,null,!1,r,null,null);t.default=a.exports},JCpY:function(e,t,n){"use strict";var o=n("aPSQ"),i=n.n(o);var r=function(e){n("xBwK")},a=n("VU/8")(i.a,null,!1,r,null,null);t.default=a.exports},JDVb:function(e,t,n){"use strict";var o=n("kJiG"),i=n.n(o);var r=function(e){n("Y9O/")},a=n("VU/8")(i.a,null,!1,r,null,null);t.default=a.exports},Jmt5:function(e,t){},L0cT:function(e,t){},M4xR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mediator=void 0;var o=d(n("ifoU")),i=d(n("Zrlr")),r=d(n("wxAW")),a=d(n("M4fF")),u=n("usXP"),s=n("pelb"),l=n("iy8a"),c=n("+5mU"),f=n("AN0t"),_=n("XJjB");function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){(0,i.default)(this,e),this.sfen_parser=null,this.current_turn=null,this.current_field=null,this.hold_pieces=null,this.move_info=null,this.env="production",this.kifu_body="position startpos"}return(0,r.default)(e,[{key:"run",value:function(){var e=this;/position/.test(this.kifu_body)?this.sfen_parser=new u.SfenParser:this.sfen_parser=new s.KifParser,this.sfen_parser.kifu_body=this.kifu_body,this.sfen_parser.parse(),this.current_field=this.sfen_parser.field,this.hold_pieces=this.sfen_parser.hold_pieces,this.move_info=null;var t=this.sfen_parser.move_infos,n=this.turn_now-this.sfen_parser.turn_min;(0,a.default)(n).times(function(n){var i=t[n];if(e.move_info=i,i.stroke_piece){var r=new f.Battler({piece:i.stroke_piece,point:i.point,promoted:i.promoted,location:i.location}),a=e.hold_pieces.get(i.location.key).get(r.piece.key)-1;e.hold_pieces.get(i.location.key).set(r.piece.key,a),e.current_field.set(r.point.key,r)}else{var u=e.current_field.get(i.point.key);if(u){void 0===e.hold_pieces.get(i.location.key)&&e.hold_pieces.set(i.location_key,new o.default);var s=(e.hold_pieces.get(i.location.key).get(u.piece.key)||0)+1;e.hold_pieces.get(i.location.key).set(u.piece.key,s)}var l=e.current_field.get(i.origin_point.key);i.promoted_trigger&&(l.promoted=!0),e.current_field.delete(i.origin_point.key),e.current_field.set(i.point.key,l)}})}},{key:"cell_view",value:function(e,t){var n=this.current_field.get(c.Point.fetch([e,t]).key),o="";return n&&(o=n.name),o}},{key:"cell_class",value:function(e,t){var n=this.current_field.get(c.Point.fetch([e,t]).key),o=[];if(n&&o.push(n.location.key),this.move_info){var i=this.move_info.origin_point;i&&i.x===e&&i.y===t&&o.push("origin_point");var r=this.move_info.point;r.x===e&&r.y===t&&o.push("current")}return o}},{key:"turn_clamp",value:function(e){return this.sfen_parser&&(e<this.sfen_parser.turn_min&&(e=this.sfen_parser.turn_min),this.sfen_parser.turn_max<e&&(e=this.sfen_parser.turn_max)),e}},{key:"dimension",get:function(){return l.Board.dimension}},{key:"turn_now",get:function(){var e=this.current_turn;return e<0&&(e+=this.sfen_parser.turn_max+1),this.turn_clamp(e)}},{key:"to_sfen",get:function(){return new _.SfenSerializer(this).to_s}}]),e}();t.Mediator=p},M93x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("xJD8"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var a=n("R7KB");var u=function(e){n("L0cT")},s=n("VU/8")(i.a,a.a,!1,u,null,null);t.default=s.exports},NHnr:function(e,t,n){"use strict";var o=a(n("7+uW")),i=a(n("M93x")),r=a(n("e6fC"));function a(e){return e&&e.__esModule?e:{default:e}}n("Jmt5"),n("9M+g"),o.default.use(r.default),o.default.config.productionTip=!1,new o.default({el:"#app",template:"<App/>",components:{App:i.default}})},P4Jg:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Piece=void 0;var i=c(n("Zx67")),r=c(n("Zrlr")),a=c(n("wxAW")),u=c(n("zwoO")),s=c(n("yEsh")),l=c(n("Pf15"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,r.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"promoted_name",get:function(){return this.attributes.promoted_name}}],[{key:"lookup",value:function(e){return(0,s.default)(t.__proto__||(0,i.default)(t),"lookup",this).call(this,e.toUpperCase())}},{key:"kif_lookup",value:function(e){return this.values.find(function(t){return[t.name,t.alias_name].includes(e)})}},{key:"kif_promoted_lookup",value:function(e){return this.values.find(function(t){return[t.promoted_name,t.promoted_alias_name].includes(e)})}},{key:"define",get:function(){return[{key:"K",name:"玉",alias_name:"王",promoted_name:null,promoted_alias_name:null},{key:"R",name:"飛",alias_name:null,promoted_name:"龍",promoted_alias_name:"竜"},{key:"B",name:"角",alias_name:null,promoted_name:"馬",promoted_alias_name:null},{key:"G",name:"金",alias_name:null,promoted_name:null,promoted_alias_name:null},{key:"S",name:"銀",alias_name:null,promoted_name:"全",promoted_alias_name:null},{key:"N",name:"桂",alias_name:null,promoted_name:"圭",promoted_alias_name:null},{key:"L",name:"香",alias_name:null,promoted_name:"杏",promoted_alias_name:null},{key:"P",name:"歩",alias_name:null,promoted_name:"と",promoted_alias_name:null}]}}]),t}(n("BuRC").MemoryRecord);t.Piece=f,e.argv[1]===o&&(console.log(f.fetch("K")),console.log(f.fetch("K")),console.log(f.lookup("")),console.log(f.values),console.log(f.values_map.get("K")))}).call(t,n("W2nU"),"/index.js")},QERr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("o1Cy"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var a=n("4xnO");var u=function(e){n("FrSs")},s=n("VU/8")(i.a,a.a,!1,u,"data-v-4c714a1c",null);t.default=s.exports},QRgs:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shogi-player"},[n("p",[e._v(e._s(e.mediator.turn_now)+"手目")]),e._v(" "),n("div",{staticClass:"board_container board_turn",class:{enable:e.board_turn}},[n("PieceStand",{attrs:{location_key:"white"}}),e._v(" "),n("div",{staticClass:"flex_item board_wrap"},[n("div",{staticClass:"navi_surface previous",on:{click:e.move_to_previous}}),e._v(" "),n("div",{staticClass:"navi_surface next",on:{click:e.move_to_next}}),e._v(" "),n("table",e._l(e.mediator.dimension,function(t){return n("tr",[e._l(e.mediator.dimension,function(o){return[n("td",{class:e.mediator.cell_class(o-1,t-1)},[e._v("\n              "+e._s(e.mediator.cell_view(o-1,t-1))+"\n            ")])]})],2)}))]),e._v(" "),n("PieceStand",{attrs:{location_key:"black"}})],1),e._v(" "),n("p"),n("div",{staticClass:"controller"},[n("div",{staticClass:"--btn-group"},[n("button",{ref:"first",staticClass:"btn btn-default first",on:{click:e.move_to_first}},[e._v("|◀")]),e._v(" "),n("button",{ref:"previous",staticClass:"btn btn-default previous",on:{click:e.move_to_previous}},[e._v("◀")]),e._v(" "),n("button",{ref:"next",staticClass:"btn btn-default next",on:{click:e.move_to_next}},[e._v("▶")]),e._v(" "),n("button",{ref:"last",staticClass:"btn btn-default last",on:{click:e.move_to_last}},[e._v("▶|")]),e._v(" "),n("button",{staticClass:"btn btn-default board_turn",on:{click:function(t){e.board_turn=!e.board_turn}}},[e._v("↻")])])]),e._v(" "),n("p"),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.current_turn,expression:"current_turn",modifiers:{number:!0}}],attrs:{type:"range",min:e.mediator.sfen_parser.turn_min,max:e.mediator.sfen_parser.turn_max},domProps:{value:e.current_turn},on:{__r:function(t){e.current_turn=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("p",[n("input",{staticClass:"form-control",attrs:{type:"text",readonly:"readonly"},domProps:{value:e.mediator.to_sfen}})]),e._v(" "),"production"!==e.env?[e._v("\n    "+e._s(e.mediator.hold_pieces)+"\n  ")]:e._e()],2)},staticRenderFns:[]};t.a=o},R7KB:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[n("h1",[e._v("shogi-player demo")]),e._v(" "),n("ShogiPlayer",{attrs:{kifu_body:e.kifu_body,turn_start:121,keyboard_operation_flag:!0}}),e._v(" "),n("br"),e._v(" "),n("h4",[e._v("棋譜")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.kifu_body,expression:"kifu_body"}],staticClass:"form-control",domProps:{value:e.kifu_body},on:{input:function(t){t.target.composing||(e.kifu_body=t.target.value)}}}),e._v(" "),e._m(0)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"links"},[t("a",{attrs:{href:"https://github.com/akicho8/shogi-player"}},[this._v("Github")])])}]};t.a=o},XJjB:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SfenSerializer=void 0;var i=_(n("Zrlr")),r=_(n("wxAW")),a=_(n("M4fF")),u=n("P4Jg"),s=n("+5mU"),l=n("M4xR"),c=n("kHiN"),f=n("iy8a");function _(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,i.default)(this,e),this.mediator=t}return(0,r.default)(e,[{key:"to_s",get:function(){var e=[];return e.push(this.to_baord_sfen),e.push(this.mediator.sfen_parser.location_by_offset(this.mediator.current_turn).key[0]),e.push(this.to_hold_pieces),e.push(this.mediator.turn_now+1),e.join(" ")}},{key:"to_baord_sfen",get:function(){var e=this,t=[];return a.default.times(f.Board.dimension,function(n){var o="",i=0;a.default.times(f.Board.dimension,function(t){var r=s.Point.fetch([t,n]),a=e.mediator.current_field.get(r.key);if(void 0===a)i++;else{i>=1&&(o+=i,i=0),a.promoted&&(o+="+");var u=a.piece.key;"white"===a.location.key&&(u=u.toLowerCase()),o+=u}}),i>=1&&(o+=i),t.push(o)}),t.join("/")}},{key:"to_hold_pieces",get:function(){var e=this,t=c.Location.values.map(function(t){var n=e.mediator.hold_pieces.get(t.key),o=u.Piece.values.map(function(e){var o=n.get(e.key)||0,i="";if(0!==o){o>=2&&(i+=o);var r=e.key;return i+=r="white"===t.key?r.toLowerCase():r.toUpperCase()}});return a.default.compact(o).join("")}).join("");return a.default.isEmpty(t)&&(t="-"),t}}]),e}();if(t.SfenSerializer=d,e.argv[1]===o){var p=new l.Mediator;p.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",p.current_turn=1,p.run();var v=new d(p);console.log(v.to_s)}}).call(t,n("W2nU"),"/index.js")},"Y9O/":function(e,t){},aPSQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("rKsW"),r=(o=i)&&o.__esModule?o:{default:o};t.default=r.default},dW2o:function(e,t){},fcFS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("qRo1"),r=(o=i)&&o.__esModule?o:{default:o};t.default=r.default},iy8a:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Board=void 0;var i=a(n("Zrlr")),r=a(n("wxAW"));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e)}return(0,r.default)(e,null,[{key:"dimension",get:function(){return 9}}]),e}();t.Board=u,e.argv[1]===o&&console.log(u.dimension)}).call(t,n("W2nU"),"/index.js")},kHiN:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;var i=l(n("Zx67")),r=l(n("Zrlr")),a=l(n("wxAW")),u=l(n("zwoO")),s=l(n("Pf15"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,r.default)(this,t),(0,u.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"black",name:"☗"},{key:"white",name:"☖"}]}}]),t}(n("BuRC").MemoryRecord);t.Location=c,e.argv[1]===o&&(console.log(c.fetch("black")),c.values.map(function(e){console.log(e)}))}).call(t,n("W2nU"),"/index.js")},kJiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("9NuQ"),r=(o=i)&&o.__esModule?o:{default:o};t.default=r.default},n9mN:function(e,t){},o1Cy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("P4Jg"),i=n("kHiN");t.default={props:["location_key"],filters:{piece_name:function(e){return o.Piece.fetch(e).name},location_name:function(e){return i.Location.fetch(e).name}}}},oS6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("1I1s"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);var a=n("QRgs");var u=function(e){n("7y4T")},s=n("VU/8")(i.a,a.a,!1,u,"data-v-56c0e1a3",null);t.default=s.exports},pelb:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.KifParser=void 0;var i=m(n("d7EF")),r=m(n("Zx67")),a=m(n("Zrlr")),u=m(n("wxAW")),s=m(n("zwoO")),l=m(n("Pf15")),c=m(n("OTSL")),f=n("+BTF"),_=n("P4Jg"),d=n("+5mU"),p=n("kHiN"),v=n("usXP"),h=n("iy8a");function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,u.default)(t,[{key:"field",get:function(){var e=new v.SfenParser;return e.kifu_body="position startpos",e.parse(),e.field}},{key:"location_base",get:function(){var e=null;return e="平手"===(this.header["手合割"]||"平手")?"black":"white",p.Location.fetch(e)}},{key:"move_infos",get:function(){var e=this,t=(0,c.default)("\n^\\s*(?<number>\\d+)\\s+\n(?<to>[１-９1-9一二三四五六七八九]{2})?\n(?<same>同)?\n(?<piece>成[銀桂香]|[王玉金銀全桂圭香杏角馬飛龍竜歩と])\n(?<suffix>[左右直]?[寄引上]?)\n(?<motion>不?成|打|合|生)?\n(\\((?<origin_point>\\d{2})\\))? # KIFフォーマットの移動元用\n","xm"),n=[];return c.default.forEach(this.kifu_body,t,function(t,o){var r={};if(r.location=e.location_by_offset(o),t.origin_point){var a=t.origin_point.split("").map(function(e){return parseInt(e)}),u=(0,i.default)(a,2),s=u[0],l=u[1];r.origin_point=d.Point.fetch([h.Board.dimension-s,l-1])}if(t.to){var c=t.to,f={"１":1,"２":2,"３":3,"４":4,"５":5,"６":6,"７":7,"８":8,"９":9,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9},p=(c=c.replace(/([１-９一二三四五六七八九])/g,function(e){return f[e]})).split("").map(function(e){return parseInt(e)}),v=(0,i.default)(p,2),m=v[0],y=v[1];r.point=d.Point.fetch([h.Board.dimension-m,y-1])}"成"===t.motion&&(r.promoted_trigger=!0),"打"===t.motion&&(r.stroke_piece=_.Piece.kif_lookup(t.piece)),n.push(r)}),n}}]),t}(f.ParserBase);if(t.KifParser=y,e.argv[1]===o){var g=new y;g.kifu_body="\n# ----  Kifu for Windows V6.26 棋譜ファイル  ----\nkey：value\n手数----指手---------消費時間--\n*コメント0\n   1 ７六歩(77)   ( 0:00/00:00:00)\n   2 投了         ( 0:00/00:00:00)\n変化：1手\n   1 ２六歩(25)   ( 0:00/00:00:00)\n",g.parse(),console.log(g.field),console.log(g.location_base),console.log(g.hold_pieces),console.log(g.move_infos)}}).call(t,n("W2nU"),"/index.js")},r15W:function(e,t,n){"use strict";var o=n("xKc6"),i=n.n(o);var r=function(e){n("dW2o")},a=n("VU/8")(i.a,null,!1,r,null,null);t.default=a.exports},usXP:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.SfenParser=void 0;var i=m(n("ifoU")),r=m(n("Zx67")),a=m(n("Zrlr")),u=m(n("wxAW")),s=m(n("zwoO")),l=m(n("yEsh")),c=m(n("Pf15")),f=m(n("OTSL")),_=n("+BTF"),d=n("P4Jg"),p=n("+5mU"),v=n("AN0t"),h=n("kHiN");function m(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"parse",value:function(){this.kifu_body=this.kifu_body.replace(/startpos/,"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1");var e=(0,f.default)("sfen\\s+(?<sfen>\\S+)\\s+(?<b_or_w>\\S+)\\s+(?<hold_pieces>\\S+)\\s+(?<turn_counter_next>\\d+)(\\s+moves\\s+(?<moves>.*))?");this.attributes=f.default.exec(this.kifu_body,e)}},{key:"__location_by_upper_or_lower_case",value:function(e){var t=null;return t=/[A-Z]/.test(e)?"black":"white",h.Location.fetch(t)}},{key:"field",get:function(){var e=this,t=new i.default;return this.attributes.sfen.split("/").forEach(function(n,o){var i=0;f.default.forEach(n,(0,f.default)("(?<promoted>\\+?)(?<piece>\\S)"),function(n,r){if(/\d+/.test(n.piece))i+=Number(n.piece);else{var a=new v.Battler({point:new p.Point([i,o]),piece:d.Piece.fetch(n.piece),promoted:"+"===n.promoted,location:e.__location_by_upper_or_lower_case(n.piece)});t.set(a.point.key,a),i++}})}),t}},{key:"location_base",get:function(){var e=null;return e="b"===this.attributes.b_or_w?"black":"white",h.Location.fetch(e)}},{key:"hold_pieces",get:function(){var e=this,n=(0,l.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"hold_pieces",this);return"-"!==this.attributes.hold_pieces&&f.default.forEach(this.attributes.hold_pieces,(0,f.default)("(?<count>\\d+)?(?<piece_char>\\S)"),function(t,o){var i=d.Piece.fetch(t.piece_char),r=Number(t.count||1),a=e.__location_by_upper_or_lower_case(t.piece_char);r+=n.get(a.key).get(i.key)||0,n.get(a.key).set(i.key,r)}),n}},{key:"turn_min",get:function(){return Number(this.attributes.turn_counter_next)-1}},{key:"komaochi_p",get:function(){return this.turn_min%2==0&&"white"===this.location_base.key}},{key:"move_infos",get:function(){var e=this;return void 0===this.attributes.moves?[]:this.attributes.moves.split(/\s+/).map(function(t,n){var o={};o.scene_index=e.turn_min+n,o.scene_offsert=n,o.location=e.location_by_offset(n);var i=f.default.exec(t,(0,f.default)("(?<origin_x>\\S)(?<origin_y>\\S)(?<pos_x>\\S)(?<pos_y>\\S)(?<promoted>\\+?)?"));return o.promoted_trigger="+"===i.promoted,"*"===i.origin_y?o.stroke_piece=d.Piece.fetch(i.origin_x):o.origin_point=p.Point.fetch(""+i.origin_x+i.origin_y),o.point=p.Point.fetch(""+i.pos_x+i.pos_y),o})}}]),t}(_.ParserBase);if(t.SfenParser=y,e.argv[1]===o){var g=new y;g.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",g.parse(),console.log(g.field),console.log(g.location_base.key),console.log(g.hold_pieces),console.log(g.move_infos)}}).call(t,n("W2nU"),"/index.js")},xBwK:function(e,t){},xJD8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("oS6v"),r=(o=i)&&o.__esModule?o:{default:o};t.default={name:"app",created:function(){this.kifu_body="position startpos moves 7g7f 8c8d 2g2f 4a3b 6i7h 8d8e 8h7g 3c3d 7i6h 2b7g+ 6h7g 3a2b 3i3h 7a6b 3g3f 2b3c 4g4f 6c6d 5i6h 6b6c 2i3g 5a4b 3h4g 7c7d 4i4h 8a7c 2h2i 8b8a 6g6f 6a6b 4g5f 9c9d 9g9f 1c1d 1g1f 6c5d 6h7i 5d6c 7i8h 6c5d 2f2e 5d6c 5f6g 6c5d 5g5f 4c4d 2i5i 4b3a 5f5e 5d4c 6g5f 3a2b 5i6i 2b3a 6i2i 3a2b 4f4e 4d4e 5f4e 8e8f 8g8f P*8e 8f8e 9d9e 9f9e 7d7e 7f7e 6d6e B*7f 6b5b 7g8f 6e6f 8i7g P*4d 4e5f 3d3e 3f3e 7c8e 7g8e P*3f 3g4e 4d4e P*6d N*7b 6d6c+ 5b6c 7f4c+ 3b4c S*5b B*7f 7h7g P*8g 7g8g B*6g 5f6g 7f8g+ 8h8g 6f6g+ B*8i 6g6f 5b4c+ G*7f 8g8h 7f8f 8h7i 8f7g P*6h S*6g 8i6g 6f6g 4c3c 2b3c S*3d 3c4d B*2b S*3c 3d3c 4d5e 3c3b 5e6d N*7f 7g7f 6h6g B*4f S*5g N*5e S*5f 8a8e 5g4f S*7h 7i7h 5e6g+ 5f6g 8e8g+ 7h7i 7f6g 2b5e+ 6d7e G*6e 7e8e N*7g 8e7f 6e7e 7f7e 5e6e 7e8d 6e8g S*6h 7i8i 6h7g+ R*8a N*8c P*8e 8d7c P*7d",this.kifu_body="\n先手の囲い：銀矢倉\n後手の囲い：銀矢倉\n先手の戦型：角換わり腰掛け銀\n後手の戦型：角換わり腰掛け銀\n手合割：平手\n手数----指手---------消費時間--\n   1 ７六歩(77)   (00:00/00:00:00)\n   2 ８四歩(83)   (00:00/00:00:00)\n   3 ２六歩(27)   (00:00/00:00:00)\n   4 ３二金(41)   (00:00/00:00:00)\n   5 ７八金(69)   (00:00/00:00:00)\n   6 ８五歩(84)   (00:00/00:00:00)\n   7 ７七角(88)   (00:00/00:00:00)\n   8 ３四歩(33)   (00:00/00:00:00)\n   9 ６八銀(79)   (00:00/00:00:00)\n  10 ７七角成(22) (00:00/00:00:00)\n  11 ７七銀(68)   (00:00/00:00:00)\n*▲戦型：角換わり\n  12 ２二銀(31)   (00:00/00:00:00)\n  13 ３八銀(39)   (00:00/00:00:00)\n  14 ６二銀(71)   (00:00/00:00:00)\n  15 ３六歩(37)   (00:00/00:00:00)\n  16 ３三銀(22)   (00:00/00:00:00)\n  17 ４六歩(47)   (00:00/00:00:00)\n  18 ６四歩(63)   (00:00/00:00:00)\n  19 ６八玉(59)   (00:00/00:00:00)\n  20 ６三銀(62)   (00:00/00:00:00)\n  21 ３七桂(29)   (00:00/00:00:00)\n  22 ４二玉(51)   (00:00/00:00:00)\n  23 ４七銀(38)   (00:00/00:00:00)\n  24 ７四歩(73)   (00:00/00:00:00)\n  25 ４八金(49)   (00:00/00:00:00)\n  26 ７三桂(81)   (00:00/00:00:00)\n  27 ２九飛(28)   (00:00/00:00:00)\n  28 ８一飛(82)   (00:00/00:00:00)\n  29 ６六歩(67)   (00:00/00:00:00)\n  30 ６二金(61)   (00:00/00:00:00)\n  31 ５六銀(47)   (00:00/00:00:00)\n*▲戦型：角換わり腰掛け銀\n  32 ９四歩(93)   (00:00/00:00:00)\n  33 ９六歩(97)   (00:00/00:00:00)\n  34 １四歩(13)   (00:00/00:00:00)\n  35 １六歩(17)   (00:00/00:00:00)\n  36 ５四銀(63)   (00:00/00:00:00)\n*△戦型：角換わり腰掛け銀\n  37 ７九玉(68)   (00:00/00:00:00)\n  38 ６三銀(54)   (00:00/00:00:00)\n  39 ８八玉(79)   (00:00/00:00:00)\n  40 ５四銀(63)   (00:00/00:00:00)\n  41 ２五歩(26)   (00:00/00:00:00)\n  42 ６三銀(54)   (00:00/00:00:00)\n  43 ６七銀(56)   (00:00/00:00:00)\n*▲囲い：銀矢倉\n  44 ５四銀(63)   (00:00/00:00:00)\n  45 ５六歩(57)   (00:00/00:00:00)\n  46 ４四歩(43)   (00:00/00:00:00)\n  47 ５九飛(29)   (00:00/00:00:00)\n  48 ３一玉(42)   (00:00/00:00:00)\n  49 ５五歩(56)   (00:00/00:00:00)\n  50 ４三銀(54)   (00:00/00:00:00)\n  51 ５六銀(67)   (00:00/00:00:00)\n  52 ２二玉(31)   (00:00/00:00:00)\n*△囲い：銀矢倉\n  53 ６九飛(59)   (00:00/00:00:00)\n  54 ３一玉(22)   (00:00/00:00:00)\n  55 ２九飛(69)   (00:00/00:00:00)\n  56 ２二玉(31)   (00:00/00:00:00)\n  57 ４五歩(46)   (00:00/00:00:00)\n  58 ４五歩(44)   (00:00/00:00:00)\n  59 ４五銀(56)   (00:00/00:00:00)\n  60 ８六歩(85)   (00:00/00:00:00)\n  61 ８六歩(87)   (00:00/00:00:00)\n  62 ８五歩打     (00:00/00:00:00)\n  63 ８五歩(86)   (00:00/00:00:00)\n  64 ９五歩(94)   (00:00/00:00:00)\n  65 ９五歩(96)   (00:00/00:00:00)\n  66 ７五歩(74)   (00:00/00:00:00)\n  67 ７五歩(76)   (00:00/00:00:00)\n  68 ６五歩(64)   (00:00/00:00:00)\n  69 ７六角打     (00:00/00:00:00)\n  70 ５二金(62)   (00:00/00:00:00)\n  71 ８六銀(77)   (00:00/00:00:00)\n  72 ６六歩(65)   (00:00/00:00:00)\n  73 ７七桂(89)   (00:00/00:00:00)\n  74 ４四歩打     (00:00/00:00:00)\n  75 ５六銀(45)   (00:00/00:00:00)\n  76 ３五歩(34)   (00:00/00:00:00)\n  77 ３五歩(36)   (00:00/00:00:00)\n  78 ８五桂(73)   (00:00/00:00:00)\n  79 ８五桂(77)   (00:00/00:00:00)\n  80 ３六歩打     (00:00/00:00:00)\n  81 ４五桂(37)   (00:00/00:00:00)\n  82 ４五歩(44)   (00:00/00:00:00)\n  83 ６四歩打     (00:00/00:00:00)\n  84 ７二桂打     (00:00/00:00:00)\n  85 ６三歩成(64) (00:00/00:00:00)\n  86 ６三金(52)   (00:00/00:00:00)\n  87 ４三角成(76) (00:00/00:00:00)\n  88 ４三金(32)   (00:00/00:00:00)\n  89 ５二銀打     (00:00/00:00:00)\n  90 ７六角打     (00:00/00:00:00)\n  91 ７七金(78)   (00:00/00:00:00)\n  92 ８七歩打     (00:00/00:00:00)\n  93 ８七金(77)   (00:00/00:00:00)\n  94 ６七角打     (00:00/00:00:00)\n  95 ６七銀(56)   (00:00/00:00:00)\n  96 ８七角成(76) (00:00/00:00:00)\n  97 ８七玉(88)   (00:00/00:00:00)\n  98 ６七歩成(66) (00:00/00:00:00)\n  99 ８九角打     (00:00/00:00:00)\n 100 ６六と(67)   (00:00/00:00:00)\n 101 ４三銀成(52) (00:00/00:00:00)\n 102 ７六金打     (00:00/00:00:00)\n 103 ８八玉(87)   (00:00/00:00:00)\n 104 ８六金(76)   (00:00/00:00:00)\n 105 ７九玉(88)   (00:00/00:00:00)\n 106 ７七金(86)   (00:00/00:00:00)\n 107 ６八歩打     (00:00/00:00:00)\n 108 ６七銀打     (00:00/00:00:00)\n 109 ６七角(89)   (00:00/00:00:00)\n 110 ６七と(66)   (00:00/00:00:00)\n 111 ３三全(43)   (00:00/00:00:00)\n 112 ３三玉(22)   (00:00/00:00:00)\n 113 ３四銀打     (00:00/00:00:00)\n 114 ４四玉(33)   (00:00/00:00:00)\n 115 ２二角打     (00:00/00:00:00)\n 116 ３三銀打     (00:00/00:00:00)\n 117 ３三銀(34)   (00:00/00:00:00)\n 118 ５五玉(44)   (00:00/00:00:00)\n 119 ３二銀(33)   (00:00/00:00:00)\n 120 ６四玉(55)   (00:00/00:00:00)\n 121 ７六桂打     (00:00/00:00:00)\n 122 ７六金(77)   (00:00/00:00:00)\n 123 ６七歩(68)   (00:00/00:00:00)\n 124 ４六角打     (00:00/00:00:00)\n 125 ５七銀打     (00:00/00:00:00)\n 126 ５五桂打     (00:00/00:00:00)\n 127 ５六銀打     (00:00/00:00:00)\n 128 ８五飛(81)   (00:00/00:00:00)\n 129 ４六銀(57)   (00:00/00:00:00)\n 130 ７八銀打     (00:00/00:00:00)\n 131 ７八玉(79)   (00:00/00:00:00)\n 132 ６七桂成(55) (00:00/00:00:00)\n 133 ６七銀(56)   (00:00/00:00:00)\n 134 ８七飛成(85) (00:00/00:00:00)\n 135 ７九玉(78)   (00:00/00:00:00)\n 136 ６七金(76)   (00:00/00:00:00)\n 137 ５五角成(22) (00:00/00:00:00)\n 138 ７五玉(64)   (00:00/00:00:00)\n 139 ６五金打     (00:00/00:00:00)\n 140 ８五玉(75)   (00:00/00:00:00)\n 141 ７七桂打     (00:00/00:00:00)\n 142 ７六玉(85)   (00:00/00:00:00)\n 143 ７五金(65)   (00:00/00:00:00)\n 144 ７五玉(76)   (00:00/00:00:00)\n 145 ６五馬(55)   (00:00/00:00:00)\n 146 ８四玉(75)   (00:00/00:00:00)\n 147 ８七馬(65)   (00:00/00:00:00)\n 148 ６八銀打     (00:00/00:00:00)\n 149 ８九玉(79)   (00:00/00:00:00)\n 150 ７七銀成(68) (00:00/00:00:00)\n 151 ８一飛打     (00:00/00:00:00)\n 152 ８三桂打     (00:00/00:00:00)\n 153 ８五歩打     (00:00/00:00:00)\n 154 ７三玉(84)   (00:00/00:00:00)\n 155 ７四歩打     (00:00/00:00:00)\n 156 投了\nまで155手で先手の勝ち\n"},data:function(){return{kifu_body:null}},components:{ShogiPlayer:r.default}}},xKc6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n("E9Zr"),r=(o=i)&&o.__esModule?o:{default:o};t.default=r.default}},["NHnr"]);
//# sourceMappingURL=app.d3e182c1d1559581f0d4.js.map