{"version":3,"sources":["webpack:///./src/point.js","webpack:///./node_modules/bootstrap-vue/es/components/table/table.vue","webpack:///node_modules/bootstrap-vue/es/components/table/table.vue","webpack:///src/components/ShogiPlayer.vue","webpack:///./src/battler.js","webpack:///./src/components/piece_stand.vue?b726","webpack:///./src/memory_record.js","webpack:///./node_modules/bootstrap-vue/es/components/form-input/form-input.vue","webpack:///./node_modules/bootstrap-vue/es/components/modal/modal.vue","webpack:///./node_modules/bootstrap-vue/es/components/form-file/form-file.vue","webpack:///./src/App.vue?17d3","webpack:///./src/mediator.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/piece.js","webpack:///./src/components/piece_stand.vue","webpack:///./src/sfen_serializer.js","webpack:///node_modules/bootstrap-vue/es/components/modal/modal.vue","webpack:///node_modules/bootstrap-vue/es/components/form-input/form-input.vue","webpack:///./src/board.js","webpack:///./src/components/ShogiPlayer.vue?af69","webpack:///./src/location.js","webpack:///node_modules/bootstrap-vue/es/components/form-file/form-file.vue","webpack:///src/components/piece_stand.vue","webpack:///./src/components/ShogiPlayer.vue","webpack:///./node_modules/bootstrap-vue/es/components/progress/progress.vue","webpack:///./src/sfen_parser.js","webpack:///src/App.vue","webpack:///node_modules/bootstrap-vue/es/components/progress/progress.vue"],"names":["_board","__webpack_require__","Point","point","_classCallCheck3","default","this","x","y","_point$split","split","_point$split2","_slicedToArray3","Board","board_size","Number","charCodeAt","_point","_ref","_x","_y","v","_freeze2","toString","process","argv","__filename","console","log","fetch","to_key","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_table_vue___default","a","__webpack_exports__","_table","_piece","_mediator","Object","defineProperty","_vue2","prototype","value","_lodash2","PieceStand","_piece_stand2","mediator_update","metaKey","e","key","code","turn_min","turn_max","gap","force_value","preventDefault","Mediator","current_turn","run","turn_now","name","Battler","attributes","_assign2","piece","location","promoted","promoted_name","battler","Piece","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","class","$parent","env","_v","_s","_f","_l","Array","from","mediator","hold_pieces","get","ref","piece_key","count","_e","staticRenderFns","MemoryRecord","values_map","element","lookup","Error","warn","_this","_values_map","_map2","define","map","_values","_from2","values","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_form_input_vue___default","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_modal_vue___default","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_form_file_vue___default","attrs","id","kifu_body","turn_start","directives","rawName","expression","domProps","on","input","$event","target","composing","_m","href","_underscore","_sfen_parser","_battler3","_sfen_serializer","sfen_parser","current_field","move_info","SfenParser","parse","field","move_infos","num","_","times","i","m","stroke_piece","set","undefined","origin_pos","promoted_trigger","delete","str","klass","push","index","turn_clamp","SfenSerializer","to_s","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7c041adf_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default","use","_bootstrapVue2","config","productionTip","el","template","components","App","_get3","__proto__","_getPrototypeOf2","call","toUpperCase","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_33a93a9c_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_piece_stand_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_piece_stand_vue___default","_location","parts","to_baord_sfen","location_of","to_hold_pieces","join","rows","space","toLowerCase","_this2","Location","location_info","compact","isEmpty","sfen_serializer","_modal","_formInput","enable","board_turn","cell_class","cell_view","click","modifiers","number","type","min","max","__r","_n","blur","$forceUpdate","readonly","to_sfen","_formFile","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1f9d5c82_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_ShogiPlayer_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_ShogiPlayer_vue___default","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_progress_vue___default","_battler","replace","regex","_xregexp2","exec","offset","turn_counter_next","test","forEach","__location_by","_hold_pieces","length","_this3","md","_ShogiPlayer","ShogiPlayer","_ShogiPlayer2","_progress"],"mappings":"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","file":"static/js/app.50253e49f562f839cb5a.js","sourcesContent":["// -*- compile-command: \"babel-node point.js\" -*-\n\nimport { Board } from \"./board\"\n\nclass Point {\n  static fetch(v) {\n    return Object.freeze(new Point(v))\n  }\n\n  constructor(point) {\n    let x, y\n    if (typeof point === \"string\") {\n      [x, y] = point.split(\"\")\n      x = Board.board_size - Number(x)\n      y = y.charCodeAt(0) - \"a\".charCodeAt(0)\n    } else {\n      [x, y] = point\n    }\n    [this._x, this._y] = [x, y]\n  }\n\n  get to_key() {\n    return [this._x, this._y].toString()\n  }\n\n  get x() {\n    return this._x\n  }\n\n  get y() {\n    return this._y\n  }\n}\n\nexport { Point }\n\nif (process.argv[1] === __filename) {\n  console.log(Point.fetch(\"6a\").to_key)\n  console.log(Point.fetch([1, 2]).to_key)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/point.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36796224\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./table.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./table.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-vue/es/components/table/table.vue\n// module id = +Gxq\n// module chunks = 1","<style>\n    /* Add support for fixed layout table */\n    table.b-table.b-table-fixed {\n        table-layout: fixed;\n    }\n\n    /* Busy table styling */\n    table.b-table[aria-busy=\"false\"] {\n        opacity: 1;\n    }\n    table.b-table[aria-busy=\"true\"] {\n        opacity: .6;\n    }\n\n    /* Sort styling */\n    table.b-table>thead>tr>th,\n    table.b-table>tfoot>tr>th {\n        position: relative;\n    }\n    table.b-table>thead>tr>th.sorting,\n    table.b-table>tfoot>tr>th.sorting {\n        padding-right: 1.5em;\n        cursor: pointer;\n    }\n    table.b-table>thead>tr>th.sorting::before,\n    table.b-table>thead>tr>th.sorting::after,\n    table.b-table>tfoot>tr>th.sorting::before,\n    table.b-table>tfoot>tr>th.sorting::after {\n        position: absolute;\n        bottom: 0;\n        display: block;\n        opacity: 0.4;\n        padding-bottom: inherit;\n        font-size: inherit;\n        line-height: 180%\n    }\n    table.b-table>thead>tr>th.sorting::before,\n    table.b-table>tfoot>tr>th.sorting::before {\n        right: 0.75em;\n        content: \"\\2191\";\n    }\n    table.b-table>thead>tr>th.sorting::after,\n    table.b-table>tfoot>tr>th.sorting::after {\n        right: 0.25em;\n        content: \"\\2193\";\n    }\n    table.b-table>thead>tr>th.sorting_asc::after,\n    table.b-table>thead>tr>th.sorting_desc::before,\n    table.b-table>tfoot>tr>th.sorting_asc::after,\n    table.b-table>tfoot>tr>th.sorting_desc::before {\n        opacity: 1;\n    }\n\n    /* stacked table layout */\n    /* Derived from http://blog.adrianroselli.com/2017/11/a-responsive-accessible-table.html */\n    /* Always stacked */\n    table.b-table.b-table-stacked {\n        width: 100%;\n    }\n    table.b-table.b-table-stacked,\n    table.b-table.b-table-stacked>tbody,\n    table.b-table.b-table-stacked>tbody>tr,\n    table.b-table.b-table-stacked>tbody>tr>td,\n    table.b-table.b-table-stacked>tbody>tr>th,\n    table.b-table.b-table-stacked>caption {\n        display: block;\n    }\n    /* hide stuff we can't deal with, or shouldn't show */\n    table.b-table.b-table-stacked>thead,\n    table.b-table.b-table-stacked>tfoot,\n    table.b-table.b-table-stacked>tbody>tr.b-table-top-row,\n    table.b-table.b-table-stacked>tbody>tr.b-table-bottom-row {\n        display: none;\n    }\n    /* inter-row top border */\n    table.b-table.b-table-stacked>tbody>tr>:first-child {\n        border-top-width: .4rem;\n    }\n    /* convert TD/TH contents to \"cells\". Caveat: child elements become cells! */\n    table.b-table.b-table-stacked>tbody>tr>[data-label] {\n        display: grid;\n        grid-template-columns: 40% auto;\n        grid-gap: .25rem 1rem;\n    }\n    /* generate row cell \"heading\" */\n    table.b-table.b-table-stacked>tbody>tr>[data-label]::before {\n        content: attr(data-label);\n        display: inline;\n        text-align: right;\n        overflow-wrap: break-word;\n        font-weight: bold;\n        font-style: normal;\n    }\n    @media all and (max-width: 575.99px) {\n        /* Under SM */\n        table.b-table.b-table-stacked-sm {\n            width: 100%;\n        }\n        table.b-table.b-table-stacked-sm,\n        table.b-table.b-table-stacked-sm>tbody,\n        table.b-table.b-table-stacked-sm>tbody>tr,\n        table.b-table.b-table-stacked-sm>tbody>tr>td,\n        table.b-table.b-table-stacked-sm>tbody>tr>th,\n        table.b-table.b-table-stacked-sm>caption {\n            display: block;\n        }\n        /* hide stuff we can't deal with, or shouldn't show */\n        table.b-table.b-table-stacked-sm>thead,\n        table.b-table.b-table-stacked-sm>tfoot,\n        table.b-table.b-table-stacked-sm>tbody>tr.b-table-top-row,\n        table.b-table.b-table-stacked-sm>tbody>tr.b-table-bottom-row {\n            display: none;\n        }\n        /* inter-row top border */\n        table.b-table.b-table-stacked-sm>tbody>tr>:first-child {\n            border-top-width: .4rem;\n        }\n        /* convert TD/TH contents to \"cells\". Caveat: child elements become cells! */\n        table.b-table.b-table-stacked-sm>tbody>tr>[data-label] {\n            display: grid;\n            grid-template-columns: 40% auto;\n            grid-gap: .25rem 1rem;\n        }\n        /* generate row cell \"heading\" */\n        table.b-table.b-table-stacked-sm>tbody>tr>[data-label]::before {\n            content: attr(data-label);\n            display: inline;\n            text-align: right;\n            overflow-wrap: break-word;\n            font-weight: bold;\n            font-style: normal;\n        }\n    }\n    @media all and (max-width: 767.99px) {\n        /* under MD  */\n        table.b-table.b-table-stacked-md {\n            width: 100%;\n        }\n        table.b-table.b-table-stacked-md,\n        table.b-table.b-table-stacked-md>tbody,\n        table.b-table.b-table-stacked-md>tbody>tr,\n        table.b-table.b-table-stacked-md>tbody>tr>td,\n        table.b-table.b-table-stacked-md>tbody>tr>th,\n        table.b-table.b-table-stacked-md>caption {\n            display: block;\n        }\n        /* hide stuff we can't deal with, or shouldn't show */\n        table.b-table.b-table-stacked-md>thead,\n        table.b-table.b-table-stacked-md>tfoot,\n        table.b-table.b-table-stacked-md>tbody>tr.b-table-top-row,\n        table.b-table.b-table-stacked-md>tbody>tr.b-table-bottom-row {\n            display: none;\n        }\n        /* inter-row top border */\n        table.b-table.b-table-stacked-md>tbody>tr>:first-child {\n            border-top-width: .4rem;\n        }\n        /* convert TD/TH contents to \"cells\". Caveat: child elements become cells! */\n        table.b-table.b-table-stacked-md>tbody>tr>[data-label] {\n            display: grid;\n            grid-template-columns: 40% auto;\n            grid-gap: .25rem 1rem;\n        }\n        /* generate row cell \"heading\" */\n        table.b-table.b-table-stacked-md>tbody>tr>[data-label]::before {\n            content: attr(data-label);\n            display: inline;\n            text-align: right;\n            overflow-wrap: break-word;\n            font-weight: bold;\n            font-style: normal;\n        }\n    }\n    @media all and (max-width: 991.99px) {\n        /* under LG  */\n        table.b-table.b-table-stacked-lg {\n            width: 100%;\n        }\n        table.b-table.b-table-stacked-lg,\n        table.b-table.b-table-stacked-lg>tbody,\n        table.b-table.b-table-stacked-lg>tbody>tr,\n        table.b-table.b-table-stacked-lg>tbody>tr>td,\n        table.b-table.b-table-stacked-lg>tbody>tr>th,\n        table.b-table.b-table-stacked-lg>caption {\n            display: block;\n        }\n        /* hide stuff we can't deal with, or shouldn't show */\n        table.b-table.b-table-stacked-lg>thead,\n        table.b-table.b-table-stacked-lg>tfoot,\n        table.b-table.b-table-stacked-lg>tbody>tr.b-table-top-row,\n        table.b-table.b-table-stacked-lg>tbody>tr.b-table-bottom-row {\n            display: none;\n        }\n        /* inter-row top border */\n        table.b-table.b-table-stacked-lg>tbody>tr>:first-child {\n            border-top-width: .4rem;\n        }\n        /* convert TD/TH contents to \"cells\". Caveat: child elements become cells! */\n        table.b-table.b-table-stacked-lg>tbody>tr>[data-label] {\n            display: grid;\n            grid-template-columns: 40% auto;\n            grid-gap: .25rem 1rem;\n        }\n        /* generate row cell \"heading\" */\n        table.b-table.b-table-stacked-lg>tbody>tr>[data-label]::before {\n            content: attr(data-label);\n            display: inline;\n            text-align: right;\n            overflow-wrap: break-word;\n            font-weight: bold;\n            font-style: normal;\n        }\n    }\n    @media all and (max-width: 1199.99px) {\n        /* under XL  */\n        table.b-table.b-table-stacked-xl {\n            width: 100%;\n        }\n        table.b-table.b-table-stacked-xl,\n        table.b-table.b-table-stacked-xl>tbody,\n        table.b-table.b-table-stacked-xl>tbody>tr,\n        table.b-table.b-table-stacked-xl>tbody>tr>td,\n        table.b-table.b-table-stacked-xl>tbody>tr>th,\n        table.b-table.b-table-stacked-xl>caption {\n            display: block;\n        }\n        /* hide stuff we can't deal with, or shouldn't show */\n        table.b-table.b-table-stacked-xl>thead,\n        table.b-table.b-table-stacked-xl>tfoot,\n        table.b-table.b-table-stacked-xl>tbody>tr.b-table-top-row,\n        table.b-table.b-table-stacked-xl>tbody>tr.b-table-bottom-row {\n            display: none;\n        }\n        /* inter-row top border */\n        table.b-table.b-table-stacked-xl>tbody>tr>:first-child {\n            border-top-width: .4rem;\n        }\n        /* convert TD/TH contents to \"cells\". Caveat: child elements become cells! */\n        table.b-table.b-table-stacked-xl>tbody>tr>[data-label] {\n            display: grid;\n            grid-template-columns: 40% auto;\n            grid-gap: .25rem 1rem;\n        }\n        /* generate row cell \"heading\" */\n        table.b-table.b-table-stacked-xl>tbody>tr>[data-label]::before {\n            content: attr(data-label);\n            display: inline;\n            text-align: right;\n            overflow-wrap: break-word;\n            font-weight: bold;\n            font-style: normal;\n        }\n    }\n\n    /* Details row styling */\n    table.b-table>tbody>tr.b-table-details>td {\n        border-top: none;\n    }\n</style>\n\n<script>\n  import bTable from './_table'\n  export default bTable\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/bootstrap-vue/es/components/table/table.vue","<template>\n<div class=\"shogi-player\">\n  <p>{{mediator.turn_now}}手目</p>\n  <div class=\"board_container board_turn\" :class=\"{enable: board_turn}\">\n    <PieceStand :location=\"'white'\"/>\n    <div class=\"flex_item board\">\n      <table>\n        <tr v-for=\"y in mediator.board_size\">\n          <template v-for=\"x in mediator.board_size\">\n            <td :class=\"mediator.cell_class(x -1, y - 1)\">\n              {{mediator.cell_view(x - 1, y - 1)}}\n            </td>\n          </template>\n        </tr>\n      </table>\n    </div>\n    <PieceStand :location=\"'black'\"/>\n  </div>\n  <p>\n    <div class=\"controller\">\n      <div class=\"--btn-group\">\n        <button class=\"btn btn-default first\"      @click=\"current_turn = mediator.sfen_parser.turn_min\">|◀</button>\n        <button class=\"btn btn-default previous\"   @click=\"current_turn -= 1\">◀</button>\n        <button class=\"btn btn-default next\"       @click=\"current_turn += 1\">▶</button>\n        <button class=\"btn btn-default last\"       @click=\"current_turn = mediator.sfen_parser.turn_max\">▶|</button>\n        <button class=\"btn btn-default board_turn\" @click=\"board_turn = !board_turn\">&#x21BB;</button>\n      </div>\n    </div>\n  </p>\n  <p>\n    <input type=\"range\" v-model.number=\"current_turn\" :min=\"mediator.sfen_parser.turn_min\" :max=\"mediator.sfen_parser.turn_max\" />\n  </p>\n  <p>\n    <input type=\"text\" :value=\"mediator.to_sfen\" class=\"form-control\" readonly=\"readonly\"/>\n  </p>\n  <template v-if=\"env !== 'production'\">\n    {{mediator.hold_pieces}}\n  </template>\n</div>\n</template>\n\n<script>\nimport { Piece } from \"../piece\"\nimport { Mediator } from \"../mediator\"\nimport PieceStand from \"./piece_stand\"\n\nimport Vue from 'vue'\nimport lodash from \"lodash\"\nObject.defineProperty(Vue.prototype, '$lodash', {value: lodash})\n\n/* eslint-disable no-new */\nexport default {\n  name: 'ShogiPlayer',\n\n  props: [\n    \"kifu_body\",\n    \"turn_start\",\n  ],\n\n  components: {\n    PieceStand,\n  },\n\n  data() {\n    return {\n      current_turn: 0,\n      mediator: null,\n      board_turn: false,\n      env: process.env.NODE_ENV,\n    }\n  },\n\n  created() {\n    this.current_turn = this.turn_start || 0\n    this.mediator_update()\n    // document.addEventListener(\"keydown\", this.keyboard_operation)\n  },\n\n  watch: {\n    current_turn: function () {\n      this.mediator_update()\n    },\n    kifu_body: function () {\n      this.mediator_update()\n    },\n  },\n\n  methods: {\n    keyboard_operation: function (e) {\n      if (this.env !== \"production\") {\n        console.log(e.shiftKey, e.ctrlKey, e.altKey, e.metaKey)\n        console.log(\"e\", e)\n        console.log(\"key\", e.key)\n        console.log(\"code\", e.code)\n      }\n\n      let gap = null\n      let force_value = null\n\n      if (e.code === \"Space\" || e.code === \"Enter\" || e.code === \"ArrowDown\" || e.code === \"ArrowRight\" || e.key === \"j\" || e.key === \"n\" || e.key === \"f\") {\n        gap = 1\n      }\n      if (e.code === \"Backspace\" || e.code === \"ArrowUp\" || e.code === \"ArrowLeft\" || e.key === \"k\" || e.key === \"p\" || e.key === \"b\") {\n        gap = -1\n      }\n      if (e.key === \"PageUp\") {\n        gap = -10\n      }\n      if (e.key === \"PageDown\") {\n        gap = 10\n      }\n      if (e.shiftKey || e.ctrlKey || e.altKey || e.metaKey) {\n        if (gap) {\n          gap *= 10\n        }\n      }\n      if (e.key === \"[\" || e.key === \"Home\" || e.code === \"Escape\") {\n        force_value = this.mediator.sfen_parser.turn_min\n      }\n      if (e.key === \"]\" || e.key === \"End\") {\n        force_value = this.mediator.sfen_parser.turn_max\n      }\n\n      if (gap !== null) {\n        this.current_turn += gap\n      }\n      if (force_value !== null) {\n        this.current_turn = force_value\n      }\n\n      if (gap !== null || force_value !== null) {\n        e.preventDefault()\n      }\n    },\n\n    mediator_update() {\n      this.mediator = new Mediator()\n      this.mediator.kifu_body = this.kifu_body || \"position startpos\"\n      this.mediator.current_turn = this.current_turn\n      this.mediator.run()\n      this.current_turn = this.mediator.turn_now\n    },\n  },\n\n  filters: {\n    piece_name(piece_key) {\n      return Piece.fetch(piece_key).name\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"sass\">\n  @import \"ShogiPlayer\"\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ShogiPlayer.vue","// -*- compile-command: \"babel-node battler.js\" -*-\n\nimport { Point } from './point.js'\nimport { Piece } from './piece.js'\n\nclass Battler {\n  constructor(attributes) {\n    this.attributes = Object.assign({}, attributes)\n  }\n\n  get piece() {\n    return this.attributes.piece\n  }\n\n  get point() {\n    return this.attributes.point\n  }\n\n  get location() {\n    return this.attributes.location\n  }\n\n  get promoted() {\n    return this.attributes.promoted\n  }\n\n  set promoted(v) {\n    this.attributes.promoted = v\n  }\n\n  get name() {\n    if (this.promoted) {\n      return this.piece.promoted_name\n    }\n    return this.piece.name\n  }\n}\n\nexport { Battler }\n\nif (process.argv[1] === __filename) {\n  const battler = new Battler({\n    point: new Point([1, 2]),\n    piece: Piece.fetch(\"P\"),\n    promoted: true,\n    location: \"white\",\n  })\n  console.log(battler.name)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/battler.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex_item piece_stand\",class:[_vm.location, _vm.$parent.env]},[_c('ul',[_c('li',[_vm._v(_vm._s(_vm._f(\"location_name\")(_vm.location)))]),_vm._v(\" \"),_vm._l((Array.from(_vm.$parent.mediator.hold_pieces.get(_vm.location))),function(ref){\nvar piece_key = ref[0];\nvar count = ref[1];\nreturn [(count >= 1)?[_c('li',[_c('span',{staticClass:\"piece_name\"},[_vm._v(_vm._s(_vm._f(\"piece_name\")(piece_key)))]),_vm._v(\" \"),(count >= 2)?[_c('span',{staticClass:\"piece_count\"},[_vm._v(_vm._s(count))])]:_vm._e()],2)]:_vm._e()]})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33a93a9c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/piece_stand.vue\n// module id = BQ6n\n// module chunks = 1","// -*- compile-command: \"babel-node memory_record.js\" -*-\n\nclass MemoryRecord {\n  static get define() {\n    console.warn(\"not implemented\")\n\n    return [\n      { key: \"(key)\", },\n    ]\n  }\n\n  static lookup(key) {\n    return this.values_map.get(key)\n  }\n\n  static fetch(key) {\n    const element = this.lookup(key)\n    if (!element) {\n      throw new Error(`Key not found: ${key}`)\n    }\n    return element\n  }\n\n  static get values_map() {\n    this._values_map = this._values_map || new Map(this.define.map((e) => [e.key, Object.freeze(new this(e))]))\n    return this._values_map\n  }\n\n  static get values() {\n    this._values = this._values || Array.from(this.values_map.values())\n    return this._values\n  }\n\n  constructor(attributes) {\n    this.attributes = attributes\n  }\n\n  get key() {\n    return this.attributes.key\n  }\n\n  get name() {\n    return this.attributes.name || this.key.toString()\n  }\n}\n\nexport { MemoryRecord }\n\nif (process.argv[1] === __filename) {\n  console.log(MemoryRecord.lookup(\"(key)\").name)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/memory_record.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17478c3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./form-input.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./form-input.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./form-input.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-vue/es/components/form-input/form-input.vue\n// module id = HUt/\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d4373a32\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./modal.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./modal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./modal.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-vue/es/components/modal/modal.vue\n// module id = JCpY\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a320cda\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./form-file.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./form-file.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./form-file.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-vue/es/components/form-file/form-file.vue\n// module id = JDVb\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container\"},[_c('ShogiPlayer',{attrs:{\"kifu_body\":_vm.kifu_body,\"turn_start\":121}}),_vm._v(\" \"),_c('h3',[_vm._v(\"棋譜\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.kifu_body),expression:\"kifu_body\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.kifu_body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.kifu_body=$event.target.value}}}),_vm._v(\" \"),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"links\"},[_c('a',{attrs:{\"href\":\"https://github.com/akicho8/shogi-player\"}},[_vm._v(\"Github\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c041adf\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = Lb37\n// module chunks = 1","// -*- compile-command: \"babel-node mediator.js\" -*-\n\nimport { _ } from \"underscore\"\n\nimport { SfenParser } from \"./sfen_parser\"\nimport { Board } from \"./board\"\nimport { Point } from \"./point\"\nimport { Battler } from \"./battler\"\nimport { SfenSerializer } from \"./sfen_serializer\"\n\nclass Mediator {\n  constructor() {\n    this.sfen_parser = null\n    this.current_turn = null\n    this.current_field = null\n    this.hold_pieces = null\n    this.move_info = null\n\n    this.env = process.env.NODE_ENV\n    this.kifu_body = \"position startpos\"\n  }\n\n  run() {\n    this.sfen_parser = new SfenParser()\n    this.sfen_parser.kifu_body = this.kifu_body\n    this.sfen_parser.parse()\n\n    this.current_field = this.sfen_parser.field\n    this.hold_pieces = this.sfen_parser.hold_pieces\n    this.move_info = null\n\n    const move_infos = this.sfen_parser.move_infos\n\n    const num = this.turn_now - this.sfen_parser.turn_min\n    _(num).times((i) => {\n      const m = move_infos[i]\n      this.move_info = m\n      if (m.stroke_piece) {\n        const battler = new Battler({\n          piece: m.stroke_piece,\n          point: m.point,\n          promoted: m.promoted,\n          location: m.location,\n        })\n        {\n          const count = this.hold_pieces.get(m.location).get(battler.piece.key) - 1\n          this.hold_pieces.get(m.location).set(battler.piece.key, count)\n        }\n        this.current_field.set(battler.point.to_key, battler)\n      } else {\n        {\n          const battler = this.current_field.get(m.point.to_key)\n          if (battler) {\n            if (this.hold_pieces.get(m.location) === undefined) {\n              this.hold_pieces.set(m.location, new Map())\n            }\n            const count = (this.hold_pieces.get(m.location).get(battler.piece.key) || 0) + 1\n            this.hold_pieces.get(m.location).set(battler.piece.key, count)\n          }\n        }\n        const battler = this.current_field.get(m.origin_pos.to_key)\n        if (m.promoted_trigger) {\n          battler.promoted = true\n        }\n        this.current_field.delete(m.origin_pos.to_key)\n        this.current_field.set(m.point.to_key, battler)\n      }\n    })\n  }\n\n  cell_view(x, y) {\n    const battler = this.current_field.get(Point.fetch([x, y]).to_key)\n    let str = \"\"\n    if (battler) {\n      str = battler.name\n    }\n    return str\n  }\n\n  cell_class(x, y) {\n    const battler = this.current_field.get(Point.fetch([x, y]).to_key)\n    let klass = []\n    if (battler) {\n      klass.push(battler.location)\n    }\n    if (this.move_info) {\n      const origin_pos = this.move_info.origin_pos\n      if (origin_pos) {\n        if (origin_pos.x === x && origin_pos.y === y) {\n          klass.push(\"origin_pos\")\n        }\n      }\n      const point = this.move_info.point\n      if (point.x === x && point.y === y) {\n        klass.push(\"current\")\n      }\n    }\n    return klass\n  }\n\n  turn_clamp(v) {\n    if (this.sfen_parser) {\n      if (v < this.sfen_parser.turn_min) {\n        v = this.sfen_parser.turn_min\n      }\n      if (this.sfen_parser.turn_max < v) {\n        v = this.sfen_parser.turn_max\n      }\n    }\n    return v\n  }\n\n  get board_size() {\n    return Board.board_size\n  }\n\n  // ruby style array index access\n  get turn_now() {\n    let index = this.current_turn\n    if (index < 0) {\n      index += this.sfen_parser.turn_max + 1\n    }\n    return this.turn_clamp(index)\n  }\n\n  get to_sfen() {\n    return (new SfenSerializer(this)).to_s\n  }\n}\n\nexport { Mediator }\n\n\n\n// WEBPACK FOOTER //\n// ./src/mediator.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c041adf\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c041adf\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nimport BootstrapVue from 'bootstrap-vue'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nVue.use(BootstrapVue)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// -*- compile-command: \"babel-node piece.js\" -*-\n\nimport { MemoryRecord } from \"./memory_record\"\n\nclass Piece extends MemoryRecord {\n  static get define() {\n    return [\n      { key: \"K\", name: \"玉\", promoted_name: null, },\n      { key: \"R\", name: \"飛\", promoted_name: \"龍\", },\n      { key: \"B\", name: \"角\", promoted_name: \"馬\", },\n      { key: \"G\", name: \"金\", promoted_name: null, },\n      { key: \"S\", name: \"銀\", promoted_name: \"全\", },\n      { key: \"N\", name: \"桂\", promoted_name: \"圭\", },\n      { key: \"L\", name: \"香\", promoted_name: \"杏\", },\n      { key: \"P\", name: \"歩\", promoted_name: \"と\", },\n    ]\n  }\n\n  static lookup(key) {\n    return super.lookup(key.toUpperCase())\n  }\n\n  get promoted_name() {\n    return this.attributes.promoted_name\n  }\n}\n\nexport { Piece }\n\nif (process.argv[1] === __filename) {\n  // console.log(Piece.fetch(\"K\"))\n  // console.log(Piece.fetch(\"K\"))\n  // console.log(Piece.lookup(\"\"))\n  console.log(Piece.values)\n  console.log(Piece.values_map.get(\"K\"))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/piece.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33a93a9c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./piece_stand.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./piece_stand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./piece_stand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33a93a9c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./piece_stand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-33a93a9c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/piece_stand.vue\n// module id = QERr\n// module chunks = 1","// -*- compile-command: \"babel-node sfen_serializer.js\" -*-\n\nimport _ from \"lodash\"\n\nimport { Piece } from \"./piece\"\nimport { Point } from \"./point\"\nimport { Mediator } from \"./mediator\"\nimport { Location } from \"./location\"\nimport { Board } from \"./board\"\n\nclass SfenSerializer {\n  constructor(mediator) {\n    this.mediator = mediator\n  }\n\n  get to_s() {\n    const parts = []\n    parts.push(this.to_baord_sfen)\n    parts.push(this.mediator.sfen_parser.location_of(this.mediator.current_turn)[0])\n    parts.push(this.to_hold_pieces)\n    parts.push(this.mediator.turn_now + 1)\n    return parts.join(\" \")\n  }\n\n  get to_baord_sfen() {\n    const rows = []\n    _.times(Board.board_size, (y) => {\n      let str = \"\"\n      let space = 0\n      _.times(Board.board_size, (x) => {\n        const point = Point.fetch([x, y])\n        const battler = this.mediator.current_field.get(point.to_key)\n        if (battler === undefined) {\n          space += 1\n        } else {\n          if (space >= 1) {\n            str += space\n            space = 0\n          }\n          if (battler.promoted) {\n            str += \"+\"\n          }\n          let key = battler.piece.key\n          if (battler.location === \"white\") {\n            key = key.toLowerCase()\n          }\n          str += key\n        }\n      })\n      if (space >= 1) {\n        str += space\n      }\n      rows.push(str)\n    })\n    return rows.join(\"/\")\n  }\n\n  get to_hold_pieces() {\n    let str = Location.values.map((location_info) => {\n      const hold_pieces = this.mediator.hold_pieces.get(location_info.key)\n      const values = Piece.values.map((e) => {\n        let count = hold_pieces.get(e.key) || 0\n        let str = \"\"\n        if (count === 0) {\n          return\n        }\n        if (count >= 2) {\n          str += count\n        }\n        let key = e.key\n        if (location_info.key === \"white\") {\n          key = key.toLowerCase()\n        } else {\n          key = key.toUpperCase()\n        }\n        str += key\n        return str\n      })\n      return _.compact(values).join(\"\")\n    }).join(\"\")\n\n    if (_.isEmpty(str)) {\n      str = \"-\"\n    }\n\n    return str\n  }\n}\n\nexport { SfenSerializer }\n\nif (process.argv[1] === __filename) {\n  const mediator = new Mediator()\n  mediator.kifu_body = \"position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d\"\n  mediator.current_turn = 1\n  mediator.run()\n  const sfen_serializer = new SfenSerializer(mediator)\n  console.log(sfen_serializer.to_s)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sfen_serializer.js","<style>\n    /*\n      This CSS can be removed once Bootstrap V4.beta.3 is released\n      https://github.com/twbs/bootstrap/pull/24510\n      Once BSV4.beta.3 is released, the script section can be moved into the modal.js file\n      V4.beta.3 will be changing modal margin to rem units\n    */\n    .modal-dialog-centered {\n        display: flex;\n        align-items: center;\n        /* min-height: calc(100% - (1rem * 2)); */\n        min-height: calc(100% - (10px * 2));\n    }\n    .modal-dialog-centered .modal-content {\n        width: 100%;\n    }\n    @media (min-width: 576px) {\n        .modal-dialog-centered {\n            /* min-height: calc(100% - (1.75rem * 2)); */\n            min-height: calc(100% - (30px * 2));\n        }\n    }\n</style>\n\n<script>\n  import bModal from './_modal'\n  export default bModal\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/bootstrap-vue/es/components/modal/modal.vue","<style>\n    /* Special styling for type=range and type=color input */\n    input.form-control[type=\"range\"],\n    input.form-control[type=\"color\"] {\n        height: 2.25rem;\n    }\n    input.form-control.form-control-sm[type=\"range\"],\n    input.form-control.form-control-sm[type=\"color\"] {\n        height: 1.9375rem;\n    }\n    input.form-control.form-control-lg[type=\"range\"],\n    input.form-control.form-control-lg[type=\"color\"] {\n        height: 3rem;\n    }\n    /* Less padding on type=color */\n    input.form-control[type=\"color\"] {\n        padding: 0.25rem 0.25rem;\n    }\n    input.form-control.form-control-sm[type=\"color\"] {\n        padding: 0.125rem 0.125rem;\n    }\n</style>\n\n<script>\n  import bFormInput from './_form-input'\n  export default bFormInput\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/bootstrap-vue/es/components/form-input/form-input.vue","// -*- compile-command: \"babel-node board.js\" -*-\n\nclass Board {\n  static get board_size() {\n    return 9\n  }\n}\n\nexport { Board }\n\nif (process.argv[1] === __filename) {\n  console.log(Board.board_size)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/board.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shogi-player\"},[_c('p',[_vm._v(_vm._s(_vm.mediator.turn_now)+\"手目\")]),_vm._v(\" \"),_c('div',{staticClass:\"board_container board_turn\",class:{enable: _vm.board_turn}},[_c('PieceStand',{attrs:{\"location\":'white'}}),_vm._v(\" \"),_c('div',{staticClass:\"flex_item board\"},[_c('table',_vm._l((_vm.mediator.board_size),function(y){return _c('tr',[_vm._l((_vm.mediator.board_size),function(x){return [_c('td',{class:_vm.mediator.cell_class(x -1, y - 1)},[_vm._v(\"\\n              \"+_vm._s(_vm.mediator.cell_view(x - 1, y - 1))+\"\\n            \")])]})],2)}))]),_vm._v(\" \"),_c('PieceStand',{attrs:{\"location\":'black'}})],1),_vm._v(\" \"),_c('p'),_c('div',{staticClass:\"controller\"},[_c('div',{staticClass:\"--btn-group\"},[_c('button',{staticClass:\"btn btn-default first\",on:{\"click\":function($event){_vm.current_turn = _vm.mediator.sfen_parser.turn_min}}},[_vm._v(\"|◀\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-default previous\",on:{\"click\":function($event){_vm.current_turn -= 1}}},[_vm._v(\"◀\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-default next\",on:{\"click\":function($event){_vm.current_turn += 1}}},[_vm._v(\"▶\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-default last\",on:{\"click\":function($event){_vm.current_turn = _vm.mediator.sfen_parser.turn_max}}},[_vm._v(\"▶|\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-default board_turn\",on:{\"click\":function($event){_vm.board_turn = !_vm.board_turn}}},[_vm._v(\"↻\")])])]),_vm._v(\" \"),_c('p'),_vm._v(\" \"),_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.current_turn),expression:\"current_turn\",modifiers:{\"number\":true}}],attrs:{\"type\":\"range\",\"min\":_vm.mediator.sfen_parser.turn_min,\"max\":_vm.mediator.sfen_parser.turn_max},domProps:{\"value\":(_vm.current_turn)},on:{\"__r\":function($event){_vm.current_turn=_vm._n($event.target.value)},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('p',[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":\"readonly\"},domProps:{\"value\":_vm.mediator.to_sfen}})]),_vm._v(\" \"),(_vm.env !== 'production')?[_vm._v(\"\\n    \"+_vm._s(_vm.mediator.hold_pieces)+\"\\n  \")]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1f9d5c82\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ShogiPlayer.vue\n// module id = k44m\n// module chunks = 1","// -*- compile-command: \"babel-node location.js\" -*-\n\nimport { MemoryRecord } from \"./memory_record\"\n\nclass Location extends MemoryRecord {\n  static get define() {\n    return [\n      { key: \"black\", name: '☗', },\n      { key: \"white\", name: '☖', },\n    ]\n  }\n}\n\nexport { Location }\n\nif (process.argv[1] === __filename) {\n  console.log(Location.fetch(\"black\"))\n\n  Location.values.map((e) => {\n    console.log(e)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/location.js","<style>\n    /* Custom-file focus styling: These can possibly be removed once BSV4.beta.3 is released */\n    /* Although the focus handling/style will still be needed for Firefox keyboard-only users */\n    /* Which will be addressed if PR https://github.com/twbs/bootstrap/pull/24138 is merged */\n\n    /* Regular focus styling */\n    .b-form-file.custom-file .custom-file-input.focus ~ .custom-file-control,\n    .b-form-file.custom-file .custom-file-input:focus ~ .custom-file-control {\n        color: #495057;\n        background-color: #fff;\n        border-color: #80bdff;\n        box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n        outline: none;\n    }\n    /* Invalid focus styling */\n    .b-form-file.custom-file .custom-file-input.is-invalid.focus ~ .custom-file-control,\n    .b-form-file.custom-file .custom-file-input.is-invalid:focus ~ .custom-file-control,\n    .was-validated .b-form-file.custom-file .custom-file-input:invalid.focus ~ .custom-file-control,\n    .was-validated .b-form-file.custom-file .custom-file-input:invalid:focus ~ .custom-file-control {\n        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n        border-color: #dc3545;\n    }\n    /* valid focus styling */\n    .b-form-file.custom-file .custom-file-input.is-valid.focus ~ .custom-file-control,\n    .b-form-file.custom-file .custom-file-input.is-valid:focus ~ .custom-file-control,\n    .was-validated .b-form-file.custom-file .custom-file-input:valid.focus ~ .custom-file-control,\n    .was-validated .b-form-file.custom-file .custom-file-input:valid:focus ~ .custom-file-control {\n        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);\n        border-color: #28a745;\n    }\n    \n    /* Interim fix (until BS V4.beta.3) for is-{state} feedback for plain form-file input */\n    /* See issue https://github.com/twbs/bootstrap/issues/24831 */\n\n    .form-control-file.is-invalid ~ .invalid-feedback,\n    .form-control-file.is-valid ~ .valid-feedback,\n    .was-validated .form-control-file:invalid ~ .invalid-feedback,\n    .was-validated .form-control-file:valid ~ .valid-feedback {\n        display: block;\n    }\n\n    /* Drag/Drop and filenames/prompts custom styling */\n\n    .b-form-file.custom-file .custom-file-control {\n        overflow: hidden;\n    }\n    .b-form-file.custom-file .custom-file-control {\n        overflow: hidden;\n    }\n    .b-form-file.custom-file .custom-file-control.dragging {\n        overflow: hidden;\n        filter: blur(3px);\n    }\n    .b-form-file.custom-file .custom-file-control[data-selected]::after {\n        content: attr(data-selected);\n    }\n    .b-form-file.custom-file .custom-file-control[data-choose]::before {\n        content: attr(data-choose);\n    }\n    .b-form-file.custom-file .drop-here {\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, .5);\n        border-radius: 3px;\n        z-index: 99999;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .b-form-file.custom-file .drop-here::before {\n        color: white;\n        content: attr(data-drop);\n    }\n</style>\n\n<script>\n    import bFormFile from './_form-file'\n    export default bFormFile\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/bootstrap-vue/es/components/form-file/form-file.vue","<template>\n<div class=\"flex_item piece_stand\" :class=\"[location, $parent.env]\">\n  <ul>\n    <li>{{location | location_name}}</li>\n    <template v-for=\"[piece_key, count] in Array.from($parent.mediator.hold_pieces.get(location))\">\n      <template v-if=\"count >= 1\">\n        <li>\n          <span class=\"piece_name\">{{piece_key | piece_name}}</span>\n          <template v-if=\"count >= 2\">\n            <span class=\"piece_count\">{{count}}</span>\n          </template>\n        </li>\n      </template>\n    </template>\n  </ul>\n</div>\n</template>\n\n<script>\nimport { Piece } from \"../piece\"\nimport { Location } from \"../location\"\n\nexport default {\n  props: [\n    \"location\",\n  ],\n  filters: {\n    piece_name(key) {\n      return Piece.fetch(key).name\n    },\n    location_name(key) {\n      return Location.fetch(key).name\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"sass\">\n@import \"variables\"\n\n.shogi-player\n  .piece_stand\n    min-width: 10vmin\n    margin: 0 1vmin\n    text-align: left\n\n    // &.development\n    border: 2px solid $line-color\n    background: $board-bg-color\n    border-radius: 0.5vmin\n\n    ul\n      list-style-type: none\n      padding: 1vmin\n      margin: 1vmin\n      li\n        // 歩(2) の並びを横軸中央で揃える\n        display: flex\n        align-items: center\n\n        // 持駒\n        color: $piece-color\n        font-size: $font-size\n\n        // 持駒数\n        .piece_count\n          vertical-align: middle\n          margin-left: 0.3rem\n          font-size: $font-size * 0.8\n\n        // 駒台の上のマーク\n        .location_mark\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/piece_stand.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f9d5c82\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShogiPlayer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShogiPlayer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShogiPlayer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f9d5c82\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShogiPlayer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f9d5c82\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ShogiPlayer.vue\n// module id = oS6v\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3878dde4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./progress.vue\")\n}\nvar normalizeComponent = require(\"!../../../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./progress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./progress.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bootstrap-vue/es/components/progress/progress.vue\n// module id = r15W\n// module chunks = 1","// -*- compile-command: \"babel-node sfen_parser.js\" -*-\n\nimport XRegExp from \"xregexp\"\n\nimport { Piece } from \"./piece\"\nimport { Point } from \"./point\"\nimport { Battler } from \"./battler\"\n\nclass SfenParser {\n  constructor() {\n    this.kifu_body = null\n    this.attributes = null\n  }\n\n  parse() {\n    this.kifu_body = this.kifu_body.replace(/startpos/, \"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1\")\n    const regex = XRegExp(\"sfen\\\\s+(?<sfen>\\\\S+)\\\\s+(?<b_or_w>\\\\S+)\\\\s+(?<hold_pieces>\\\\S+)\\\\s+(?<turn_counter_next>\\\\d+)(\\\\s+moves\\\\s+(?<moves>.*))?\")\n    this.attributes = XRegExp.exec(this.kifu_body, regex)\n    if (process.env.NODE_ENV === \"deveopment\") {\n      console.log(this.attributes)\n    }\n  }\n\n  get field() {\n    let field = new Map()\n    this.attributes[\"sfen\"].split(\"/\").forEach((e, y) => {\n      let x = 0\n      XRegExp.forEach(e, XRegExp(\"(?<promoted>\\\\+?)(?<piece>\\\\S)\"), (m, i) => {\n        if (/\\d+/.test(m.piece)) {\n          x += Number(m.piece)\n        } else {\n          const battler = new Battler({\n            point: new Point([x, y]),\n            piece: Piece.fetch(m.piece),\n            promoted: (m.promoted === \"+\"),\n            location: this.__location_by(m.piece),\n          })\n          field.set(battler.point.to_key, battler)\n          x += 1\n        }\n      })\n    })\n    return field\n  }\n\n  get location() {\n    if (this.attributes[\"b_or_w\"] === \"b\") {\n      return \"black\"\n    }\n    return \"white\"\n  }\n\n  get hold_pieces() {\n    const _hold_pieces = new Map([[\"black\", new Map()], [\"white\", new Map()]])\n    if (this.attributes[\"hold_pieces\"] !== \"-\") {\n      XRegExp.forEach(this.attributes[\"hold_pieces\"], XRegExp(\"(?<count>\\\\d+)?(?<piece_key>\\\\S)\"), (m, i) => {\n        const piece = Piece.fetch(m.piece_key)\n        let count = Number(m.count || 1)\n        const location = this.__location_by(m.piece_key)\n        count += _hold_pieces.get(location).get(piece.key) || 0\n        _hold_pieces.get(location).set(piece.key, count)\n      })\n    }\n    return _hold_pieces\n  }\n\n  get turn_counter_next() {\n    return Number(this.attributes[\"turn_counter_next\"])\n  }\n\n  get turn_min() {\n    return this.turn_counter_next - 1\n  }\n\n  get turn_max() {\n    return this.turn_min + this.move_infos.length\n  }\n\n  get komaochi_p() {\n    return (this.turn_counter_next % 2) === 1 && this.location === \"white\"\n  }\n\n  location_of(offset) {\n    const index = this.turn_counter_next + offset\n    let retval = null\n    if ((index % 2) === 1) {\n      retval = \"black\"\n    } else {\n      retval = \"white\"\n    }\n    return retval\n  }\n\n  get move_infos() {\n    if (this.attributes[\"moves\"] === undefined) {\n      return []\n    }\n    return this.attributes[\"moves\"].split(/\\s+/).map((e, i) => {\n      const attrs = {}\n      if (true) {\n        attrs[\"scene_index\"] = this.turn_min + i\n        attrs[\"scene_offsert\"] = i\n      }\n      attrs[\"location\"] = this.location_of(i)\n      const md = XRegExp.exec(e, XRegExp(\"(?<origin_x>\\\\S)(?<origin_y>\\\\S)(?<pos_x>\\\\S)(?<pos_y>\\\\S)(?<promoted>\\\\+?)?\"))\n      attrs[\"promoted_trigger\"] = (md.promoted === \"+\")\n      if (md[\"origin_y\"] === \"*\") {\n        attrs[\"stroke_piece\"] = Piece.fetch(md[\"origin_x\"])\n      } else {\n        attrs[\"origin_pos\"] = Point.fetch(`${md[\"origin_x\"]}${md[\"origin_y\"]}`)\n      }\n      attrs[\"point\"] = Point.fetch(`${md[\"pos_x\"]}${md[\"pos_y\"]}`)\n      return attrs\n    })\n  }\n\n  __location_by(v) {\n    if (/[A-Z]/.test(v)) {\n      return \"black\"\n    }\n    return \"white\"\n  }\n}\n\nexport { SfenParser }\n\nif (process.argv[1] === __filename) {\n  const sfen_parser = new SfenParser()\n  sfen_parser.kifu_body = \"position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d\"\n  sfen_parser.parse()\n  console.log(sfen_parser.field)\n  console.log(sfen_parser.location)\n  console.log(sfen_parser.hold_pieces)\n  console.log(sfen_parser.move_infos)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sfen_parser.js","<template>\n<div id=\"app\">\n  <div class=\"container\">\n    <ShogiPlayer :kifu_body=\"kifu_body\" :turn_start=\"121\" />\n    <h3>棋譜</h3>\n    <textarea v-model=\"kifu_body\" class=\"form-control\" />\n    <p class=\"links\">\n      <a href=\"https://github.com/akicho8/shogi-player\">Github</a>\n    </p>\n  </div>\n</div>\n</template>\n\n<script>\nimport ShogiPlayer from './components/ShogiPlayer'\n\nexport default {\n  name: 'app',\n\n  created() {\n    this.kifu_body = \"position startpos moves 7g7f 8c8d 2g2f 4a3b 6i7h 8d8e 8h7g 3c3d 7i6h 2b7g+ 6h7g 3a2b 3i3h 7a6b 3g3f 2b3c 4g4f 6c6d 5i6h 6b6c 2i3g 5a4b 3h4g 7c7d 4i4h 8a7c 2h2i 8b8a 6g6f 6a6b 4g5f 9c9d 9g9f 1c1d 1g1f 6c5d 6h7i 5d6c 7i8h 6c5d 2f2e 5d6c 5f6g 6c5d 5g5f 4c4d 2i5i 4b3a 5f5e 5d4c 6g5f 3a2b 5i6i 2b3a 6i2i 3a2b 4f4e 4d4e 5f4e 8e8f 8g8f P*8e 8f8e 9d9e 9f9e 7d7e 7f7e 6d6e B*7f 6b5b 7g8f 6e6f 8i7g P*4d 4e5f 3d3e 3f3e 7c8e 7g8e P*3f 3g4e 4d4e P*6d N*7b 6d6c+ 5b6c 7f4c+ 3b4c S*5b B*7f 7h7g P*8g 7g8g B*6g 5f6g 7f8g+ 8h8g 6f6g+ B*8i 6g6f 5b4c+ G*7f 8g8h 7f8f 8h7i 8f7g P*6h S*6g 8i6g 6f6g 4c3c 2b3c S*3d 3c4d B*2b S*3c 3d3c 4d5e 3c3b 5e6d N*7f 7g7f 6h6g B*4f S*5g N*5e S*5f 8a8e 5g4f S*7h 7i7h 5e6g+ 5f6g 8e8g+ 7h7i 7f6g 2b5e+ 6d7e G*6e 7e8e N*7g 8e7f 6e7e 7f7e 5e6e 7e8d 6e8g S*6h 7i8i 6h7g+ R*8a N*8c P*8e 8d7c P*7d\"\n  },\n\n  data() {\n    return {\n      kifu_body: null,\n      current_sfen: null,\n    }\n  },\n\n  components: {\n    ShogiPlayer\n  },\n}\n</script>\n\n<style lang=\"sass\">\nbody\n  color: white ! important\n  margin: 0\n  padding: 0\n  background: black ! important\n  min-height: 100vh\n\n#app\n  font-family: 'Avenir', Helvetica, Arial, sans-serif\n  -webkit-font-smoothing: antialiased\n  -moz-osx-font-smoothing: grayscale\n  text-align: center\n  margin-top: 20px\n\n.links\n  margin-top: 1rem\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<style>\n    /*\n     * Temporary fix, as BS V4.beta.2 mistakenly removed progress-bar transition.\n     * This should be able to be removed once V4.beta.3 is released.\n     * And this full component can be moved into the progress.js file\n     */\n    .progress-bar {\n        transition: width .6s ease;\n    }\n</style>\n\n<script>\n  import bProgress from './_progress'\n  export default bProgress\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/bootstrap-vue/es/components/progress/progress.vue"],"sourceRoot":""}