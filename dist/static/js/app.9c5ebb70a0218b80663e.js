webpackJsonp([1],{"+BTF":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserBase=void 0;var i=s(n("Zrlr")),o=s(n("wxAW")),u=s(n("M4fF")),a=n("kHiN");function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){(0,i.default)(this,t),this.kifu_body=null,this.header={}}return(0,o.default)(t,[{key:"parse",value:function(){}},{key:"location_by_offset",value:function(t){var e=null;return e=(this.turn_min+t+(this.komaochi_p?1:0))%2==0?"black":"white",a.Location.fetch(e)}},{key:"board",get:function(){}},{key:"hold_pieces",get:function(){return u.default.reduce(a.Location.values,function(t,e){return t[e.key]={},t},{})}},{key:"turn_min",get:function(){return 0}},{key:"turn_max",get:function(){return this.turn_min+this.move_infos.length}},{key:"move_infos",get:function(){}},{key:"comments_pack",get:function(){return null}}]),t}();e.ParserBase=c,t.argv[1]}).call(e,n("W2nU"),"/index.js")},"+RM/":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"+uFZ":function(t,e,n){var r=n("INr1");r(r.S+r.F,"Object",{assign:n("CBVZ")})},"/0Pq":function(t,e,n){n("+uFZ"),t.exports=n("szHS").Object.assign},"/B1h":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SideInfo=void 0;var i=f(n("Zx67")),o=f(n("Zrlr")),u=f(n("wxAW")),a=f(n("zwoO")),s=f(n("Pf15")),c=n("o44n"),l=n("kHiN");function f(t){return t&&t.__esModule?t:{default:t}}var _=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"locations",get:function(){return this.location_keys.map(function(t){return l.Location.fetch(t)})}}],[{key:"define",get:function(){return[{key:"both",name:"☗☖",location_keys:["black","white"]},{key:"black",name:"☗",location_keys:["black"]},{key:"white",name:"☖",location_keys:["white"]},{key:"none",name:"なし",location_keys:[]}]}}]),e}(c.MemoryRecord);e.SideInfo=_,t.argv[1]}).call(e,n("W2nU"),"/index.js")},"/S5J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("article",{staticClass:"message is-danger has-text-left"},[e("div",{staticClass:"message-header"},[this._t("header")],2),e("div",{staticClass:"message-body"},[this._t("default")],2)])])])},staticRenderFns:[]},i=n("VU/8")(null,r,!1,null,null,null);e.default=i.exports},"/m6w":function(t,e,n){var r=n("INr1"),i=n("szHS"),o=n("dPOy");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",u)}},"/yon":function(t,e){},"0Rqa":function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"0Sh9":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.VariationInfo=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,null,[{key:"define",get:function(){return[{key:"a"},{key:"b"},{key:"c"},{key:"d"},{key:"e"},{key:"f"},{key:"g"},{key:"h"},{key:"i"},{key:"j"},{key:"k"},{key:"l"},{key:"m"},{key:"n"},{key:"o"},{key:"p"},{key:"q"},{key:"r"},{key:"s"},{key:"t"},{key:"u"},{key:"v"},{key:"w"},{key:"x"},{key:"y"},{key:"z"}]}}]),e}(n("o44n").MemoryRecord);e.VariationInfo=l,t.argv[1]}).call(e,n("W2nU"),"/index.js")},"0liN":function(t,e,n){n("H/nQ"),t.exports=n("szHS").Object.keys},"1/es":function(t,e){t.exports={}},"119h":function(t,e,n){t.exports={default:n("Tu+/"),__esModule:!0}},"1I1s":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=w(n("Dd8w")),i=w(n("M4fF")),o=w(n("7+uW")),u=n("NYxO"),a=w(n("IcnI")),s=n("M4xR"),c=n("KqNh"),l=n("usXP"),f=n("pelb"),_=w(n("a83v")),d=w(n("zlNq")),h=w(n("/S5J")),p=w(n("lujB")),v=w(n("XXBo")),m=w(n("z7Bs")),y=w(n("2igQ")),g=w(n("4DpC")),b=w(n("dGAP")),k=w(n("6jcy"));function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(o.default.prototype,"_",{value:i.default}),n("T0qj")({request:function(t,e){t("Request with "+e.headers["content-type"])},response:function(t,e){t("Response with "+e.headers["content-type"],"from "+e.config.url)},error:function(t,e){t("Boom",e)}}),e.default={name:"ShogiPlayer",store:a.default,mixins:[v.default,m.default,y.default,g.default,b.default,k.default],props:{run_mode:{type:String,default:"view_mode"},kifu_body:{type:String,default:null},start_turn:{type:Number,default:-1},sfen_show:{type:Boolean,default:!1},url_embed_turn:{type:Boolean,default:!1},theme:{type:String,default:"real"},size:{type:String,default:"default"},variation:{type:String,default:"a"},debug_mode:{type:Boolean,default:!1},digit_show:{type:Boolean,default:!1},final_label:{type:String,default:null}},components:{PieceStand:_.default,SettingModal:d.default,ErrorNotify:h.default,CommentArea:p.default},data:function(){return{current_run_mode:this.run_mode,turn_edit_value:null,mediator:null,turn_edit:!1,error_message:null,update_counter:0,setting_modal_p:!1,inside_custom_kifu:null,env:"production"}},created:function(){this.inside_custom_kifu=null,this.$store.state.current_debug_mode=this.debug_mode,this.$store.state.current_theme=this.theme,this.$store.state.current_size=this.size,this.$store.state.current_variation=this.variation,"view_mode"===this.current_run_mode&&(this.kifu_url?(this.axios_call(),this.polling_interval_update()):this.mediator_setup(this.start_turn)),"play_mode"===this.current_run_mode&&(this.mediator_setup(this.start_turn),this.play_mode_setup_from("view_mode")),"edit_mode"===this.current_run_mode&&(this.preset_key?this.mediator_setup_by_preset(this.preset_key):this.mediator_setup(this.start_turn))},watch:{turn_edit_value:function(){this.current_turn_set(this.turn_edit_value)},start_turn:function(){this.current_turn_set(this.start_turn)},kifu_source:function(){var t=this.turn_max;this.mediator_setup(this.start_turn),"play_mode"===this.current_run_mode&&(this.play_mode_setup_from("view_mode"),t!==this.turn_max&&this.sound_call("piece_sound"))},current_run_mode:function(t,e){if(this.$emit("update:run_mode",this.current_run_mode),"view_mode"===this.current_run_mode&&(this.log("current_run_mode: view_mode"),this.view_mode_mediator_update(this.real_turn)),"play_mode"===this.current_run_mode&&this.play_mode_setup_from(e),"edit_mode"===this.current_run_mode){this.log("current_run_mode: edit_mode");var n=this.mediator.to_position_sfen;this.mediator=new s.Mediator,this.mediator.data_source=this.data_source_by(n),this.mediator.current_turn=0,this.mediator.run(),this.init_location_key=this.mediator.current_location.key}},current_debug_mode:function(t){this.$emit("update:debug_mode",t)},debug_mode:function(t){this.$store.commit("current_debug_mode_set",t)},run_mode:function(t){this.current_run_mode=t},current_theme:function(t){this.$emit("update:theme",t)},theme:function(t){this.$store.state.current_theme=t},current_size:function(t){this.$emit("update:size",t)},size:function(t){this.$store.state.current_size=t},current_variation:function(t){this.$emit("update:variation",t)},variation:function(t){this.$store.state.current_variation=t}},methods:{mediator_setup:function(t){this.mediator=new s.Mediator,this.mediator.data_source=this.data_source_by(this.kifu_source),this.mediator.current_turn=t,this.mediator.run()},view_mode_mediator_update:function(t){this.mediator_setup(t),this.url_embed_turn&&(document.location.hash=this.real_turn),this.sound_call("piece_sound"),this.update_counter++},data_source_by:function(t){var e=null;return(e=/position/.test(t)?new l.SfenParser:new f.KifParser).kifu_body=t,e.parse(),e},turn_edit_run:function(){var t=this;this.turn_edit=!0,this.turn_edit_value=this.real_turn,this.$nextTick(function(){return t.$refs.turn_edit_input.focus()})},log:function(t){this.current_debug_mode},piece_outer_class:function(t){var e=c.Place.fetch(t),n=this.mediator.board.lookup(e),r=[];if(this.mediator.last_hand){var o=this.mediator.last_hand.origin_place;o&&i.default.isEqual(o,e)&&r.push("origin_place"),i.default.isEqual(this.mediator.last_hand.place,e)&&r.push("current")}return i.default.isEqual(this.place_from,e)?r.push("holding_p"):n&&("edit_mode"===this.current_run_mode||!this.cpu_location_p&&this.mediator.current_location===n.location)&&r.push("selectable_p"),r},update_kifu_source:function(t){this.inside_custom_kifu=t,this.$emit("update:kifu_body",t)}},computed:(0,r.default)({kifu_source:function(){return this.inside_custom_kifu||this.kifu_body_from_url||this.kifu_body||this.init_preset_sfen||"position startpos"},real_turn:function(){return this.mediator.real_turn},turn_min:function(){return this.mediator.turn_min},turn_max:function(){return this.mediator.turn_max}},(0,u.mapState)({}),(0,u.mapState)(["current_debug_mode","current_theme","current_size","current_variation"]))}},"2igQ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("M4fF"),o=(r=i)&&r.__esModule?r:{default:r},u=n("M4xR"),a=n("kHiN"),s=n("/B1h");e.default={props:{human_side_key:{type:String,default:"both"}},data:function(){return{moves:[],init_sfen:null,init_location_key:"black"}},created:function(){},mounted:function(){},watch:{},methods:{play_mode_setup_from:function(t){this.log("play_mode_setup_from"),void 0!==this.mediator.data_source.init_sfen?("view_mode"===t&&(this.init_sfen=this.mediator.data_source.init_sfen,this.moves=this.mediator.data_source.moves),"edit_mode"===t&&this.init_sfen_build()):("view_mode"===t&&(this.init_location_key=this.mediator.current_location.key),this.init_sfen_build()),this.play_mode_mediator_seek_to(this.real_turn)},init_sfen_build:function(){var t=this.mediator.sfen_serializer;this.init_sfen="position sfen "+t.to_board_sfen+" "+this.init_location.key[0]+" "+t.to_hold_pieces+" 1",this.moves=[]},play_mode_mediator_seek_to:function(t){this.mediator=new u.Mediator,this.mediator.data_source=this.data_source_by(this.play_mode_current_sfen),this.mediator.current_turn=t,this.mediator.run()},moves_set:function(t){this.moves=o.default.take(this.moves,this.real_turn),this.moves.push(t)},turn_next:function(){"play_mode"===this.current_run_mode&&(this.mediator=new u.Mediator,this.mediator.data_source=this.data_source_by(this.play_mode_current_sfen),this.mediator.current_turn=-1,this.mediator.run(),this.sound_call("piece_sound"),this.$emit("update:play_mode_long_sfen",this.play_mode_current_sfen),this.$emit("update:play_mode_move",o.default.last(this.moves)),this.$emit("update:play_mode_short_sfen",this.mediator.to_position_sfen))}},computed:{play_mode_current_sfen:function(){return this.init_sfen?this.init_sfen+" moves "+this.moves.join(" "):null},init_location:function(){return a.Location.fetch(this.init_location_key)},human_locations:function(){return s.SideInfo.fetch(this.human_side_key).locations}}}},"2uHW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("7+uW"),o=(r=i)&&r.__esModule?r:{default:r},u=n("pioc"),a=n("ABOW"),s=n("a0AN"),c=n("0Sh9");Object.defineProperty(o.default.prototype,"RunModeInfo",{value:u.RunModeInfo}),Object.defineProperty(o.default.prototype,"ThemeInfo",{value:a.ThemeInfo}),Object.defineProperty(o.default.prototype,"SizeInfo",{value:s.SizeInfo}),Object.defineProperty(o.default.prototype,"VariationInfo",{value:c.VariationInfo}),e.default={props:{run_mode:{required:!0},kifu_source:{required:!1}},data:function(){return{current_run_mode:this.run_mode,kifu_source2:this.kifu_source}},watch:{current_run_mode:function(t){this.$emit("update:run_mode",t)},kifu_source2:function(t){this.$emit("update:kifu_body",t)}},methods:{},computed:{flip:{get:function(){return this.$store.state.current_flip},set:function(t){this.$store.state.current_flip=t}},current_debug_mode:{get:function(){return this.$store.state.current_debug_mode},set:function(t){this.$store.commit("current_debug_mode_set",t)}}}}},"33D0":function(t,e,n){t.exports={default:n("WVih"),__esModule:!0}},"39Rn":function(t,e,n){var r=n("szHS"),i=n("nZBM"),o="__core-js_shared__",u=i[o]||(i[o]={});(t.exports=function(t,e){return u[t]||(u[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("HXVr")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"3PCD":function(t,e,n){var r=n("0Rqa"),i=n("TTBf").onFreeze;n("/m6w")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"48Kw":function(t,e,n){var r=n("nZBM"),i=n("szHS"),o=n("HXVr"),u=n("CeZ2"),a=n("eY+q").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},"4DpC":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n("M4fF")),i=n("bmB0"),o=a(n("N1+3")),u=a(n("G1k4"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={props:{sound_effect:{type:Boolean,default:!1},volume:{type:Number,default:.5}},data:function(){return{piece_sound:null}},created:function(){this.sound_setup()},watch:{sound_effect:function(){this.sound_setup()},volume:function(){this.sound_setup()}},methods:{sound_call:function(t){if(this.sound_effect){var e=this[t];e&&e.play()}},sound_setup:function(){this.sound_load("piece_sound",o.default),this.sound_load("flip_sound",u.default)},sound_load:function(t,e){if(this.sound_effect){var n=this[t];r.default.isNil(n)&&(this[t]=new i.Sound(e)),this[t].options.volume=this.volume}}}}},"5ZH5":function(t,e,n){n("HbgW"),t.exports=n("szHS").Object.values},"652U":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.PresetInfo=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,null,[{key:"define",get:function(){return[{key:"詰将棋",sfen:"position sfen 4k4/9/9/9/9/9/9/9/9 b rb4g4s4n4l18p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"平手",sfen:"position sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",first_location_key:"black",piece_box:[]},{key:"香落ち",sfen:"position sfen lnsgkgsn1/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"右香落ち",sfen:"position sfen 1nsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"角落ち",sfen:"position sfen lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1]]},{key:"飛車落ち",sfen:"position sfen lnsgkgsnl/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1]]},{key:"飛香落ち",sfen:"position sfen lnsgkgsn1/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1],["L",1]]},{key:"二枚落ち",sfen:"position sfen lnsgkgsnl/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1]]},{key:"三枚落ち",sfen:"position sfen lnsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",1]]},{key:"四枚落ち",sfen:"position sfen 1nsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2]]},{key:"六枚落ち",sfen:"position sfen 2sgkgs2/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2]]},{key:"八枚落ち",sfen:"position sfen 3gkg3/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2]]},{key:"十枚落ち",sfen:"position sfen 4k4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2]]},{key:"十九枚落ち",sfen:"position sfen 4k4/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9]]},{key:"二十枚落ち",sfen:"position sfen 9/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9],["K",1]]}]}}]),e}(n("o44n").MemoryRecord);e.PresetInfo=l,t.argv[1]}).call(e,n("W2nU"),"/index.js")},"6hdJ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n("7+uW")),i=u(n("M4fF")),o=u(n("k/Ns"));function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r.default.prototype,"_",{value:i.default}),e.default={props:{comments_pack:{required:!0},current_comments:{required:!0}},created:function(){this.autolinker=new o.default},methods:{auto_link:function(t){return this.autolinker.link(t)}}}},"6jcy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mtWM"),o=(r=i)&&r.__esModule?r:{default:r};var u=n("Fy0/")("debug");e.default={props:{kifu_url:{type:String,default:null},polling_interval:{type:Number,default:0}},data:function(){return{interval_id:null,kifu_body_from_url:null}},created:function(){},mounted:function(){},watch:{kifu_url:function(){this.axios_call()},polling_interval:function(){this.polling_interval_update()}},methods:{polling_interval_update:function(){var t=this;this.polling_interval>=1&&(this.interval_id&&(this.log("clearInterval("+this.interval_id+")"),clearInterval(this.interval_id),this.interval_id=null),this.interval_id=setInterval(function(){t.axios_call()},1e3*this.polling_interval),this.log("setInterval() => "+this.interval_id))},axios_call:function(){var t=this,e=this.kifu_url,n=Date.now().toString();(0,o.default)({url:e,method:"get",params:{accessd_at:n},responseType:"text",timeout:3e3,headers:{"X-SHOGI-PLAYER-TIMESTAMP":n}}).then(function(e){t.error_message=null,t.inside_custom_kifu=null,t.kifu_body_from_url=e.data}).catch(function(e){e.response?(u("error.response.data: %o",e.response.data),u("error.response.status: %o",e.response.status),u("error.response.statusText: %o",e.response.statusText),u("error.response.headers: %o",e.response.headers)):e.request?u("error.request: %o",e.request):u("error.message: %o",e.message),u("error.config: %o",e.config),t.kifu_body_from_url=null,t.error_message=e.message})}},computed:{}}},"7G4J":function(t,e,n){t.exports={default:n("Y5MO"),__esModule:!0}},"85J4":function(t,e,n){n("48Kw")("asyncIterator")},"9KOG":function(t,e,n){n("WtKA");var r=n("szHS").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"9VA/":function(t,e,n){var r=n("0Rqa");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"9bRx":function(t,e,n){var r=n("MAUS"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},"9dbb":function(t,e){e.f=Object.getOwnPropertySymbols},A5FL:function(t,e,n){n("jWx9"),t.exports=n("szHS").Object.setPrototypeOf},ABOW:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeInfo=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,null,[{key:"define",get:function(){return[{key:"none",name:"なし"},{key:"simple",name:"紙面風"},{key:"real",name:"リアル"}]}}]),e}(n("o44n").MemoryRecord);e.ThemeInfo=l,t.argv[1]}).call(e,n("W2nU"),"/index.js")},BZaW:function(t,e,n){t.exports={default:n("D/Rj"),__esModule:!0}},CBVZ:function(t,e,n){"use strict";var r=n("azD8"),i=n("9dbb"),o=n("kfbD"),u=n("W9cr"),a=n("j4j3"),s=Object.assign;t.exports=!s||n("dPOy")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=u(t),s=arguments.length,c=1,l=i.f,f=o.f;s>c;)for(var _,d=a(arguments[c++]),h=l?r(d).concat(l(d)):r(d),p=h.length,v=0;p>v;)f.call(d,_=h[v++])&&(n[_]=d[_]);return n}:s},CXlO:function(t,e,n){var r=n("s0pp"),i=n("b4Bz"),o=n("Rvfj")(!1),u=n("W/3L")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)n!=u&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},CeZ2:function(t,e,n){e.f=n("aQ10")},"D/Rj":function(t,e,n){n("3PCD"),t.exports=n("szHS").Object.freeze},DhxH:function(t,e,n){var r=n("0Rqa");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},E6NZ:function(t,e,n){"use strict";var r=n("nZBM"),i=n("s0pp"),o=n("gJiE"),u=n("INr1"),a=n("I3F1"),s=n("TTBf").KEY,c=n("dPOy"),l=n("39Rn"),f=n("ZXsH"),_=n("e5D4"),d=n("aQ10"),h=n("CeZ2"),p=n("48Kw"),v=n("uSzJ"),m=n("wA+f"),y=n("9VA/"),g=n("0Rqa"),b=n("b4Bz"),k=n("DhxH"),w=n("qgw9"),P=n("ZhRK"),x=n("LK2p"),S=n("yZsH"),C=n("eY+q"),j=n("azD8"),O=S.f,M=C.f,L=x.f,N=r.Symbol,R=r.JSON,z=R&&R.stringify,E="prototype",A=d("_hidden"),I=d("toPrimitive"),B={}.propertyIsEnumerable,W=l("symbol-registry"),$=l("symbols"),T=l("op-symbols"),G=Object[E],F="function"==typeof N,D=r.QObject,q=!D||!D[E]||!D[E].findChild,V=o&&c(function(){return 7!=P(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(G,e);r&&delete G[e],M(t,e,n),r&&t!==G&&M(G,e,r)}:M,K=function(t){var e=$[t]=P(N[E]);return e._k=t,e},Z=F&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},H=function(t,e,n){return t===G&&H(T,e,n),y(t),e=k(e,!0),y(n),i($,e)?(n.enumerable?(i(t,A)&&t[A][e]&&(t[A][e]=!1),n=P(n,{enumerable:w(0,!1)})):(i(t,A)||M(t,A,w(1,{})),t[A][e]=!0),V(t,e,n)):M(t,e,n)},U=function(t,e){y(t);for(var n,r=v(e=b(e)),i=0,o=r.length;o>i;)H(t,n=r[i++],e[n]);return t},J=function(t){var e=B.call(this,t=k(t,!0));return!(this===G&&i($,t)&&!i(T,t))&&(!(e||!i(this,t)||!i($,t)||i(this,A)&&this[A][t])||e)},X=function(t,e){if(t=b(t),e=k(e,!0),t!==G||!i($,e)||i(T,e)){var n=O(t,e);return!n||!i($,e)||i(t,A)&&t[A][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=L(b(t)),r=[],o=0;n.length>o;)i($,e=n[o++])||e==A||e==s||r.push(e);return r},Y=function(t){for(var e,n=t===G,r=L(n?T:b(t)),o=[],u=0;r.length>u;)!i($,e=r[u++])||n&&!i(G,e)||o.push($[e]);return o};F||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=_(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(T,n),i(this,A)&&i(this[A],t)&&(this[A][t]=!1),V(this,t,w(1,n))};return o&&q&&V(G,t,{configurable:!0,set:e}),K(t)})[E],"toString",function(){return this._k}),S.f=X,C.f=H,n("WcPy").f=x.f=Q,n("kfbD").f=J,n("9dbb").f=Y,o&&!n("HXVr")&&a(G,"propertyIsEnumerable",J,!0),h.f=function(t){return K(d(t))}),u(u.G+u.W+u.F*!F,{Symbol:N});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=j(d.store),rt=0;nt.length>rt;)p(nt[rt++]);u(u.S+u.F*!F,"Symbol",{for:function(t){return i(W,t+="")?W[t]:W[t]=N(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),u(u.S+u.F*!F,"Object",{create:function(t,e){return void 0===e?P(t):U(P(t),e)},defineProperty:H,defineProperties:U,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Y}),R&&u(u.S+u.F*(!F||c(function(){var t=N();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!Z(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Z(e))return e}),r[1]=e,z.apply(R,r)}}),N[E][I]||n("sVMs")(N[E],I,N[E].valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},FyVW:function(t,e){t.exports="# --- Kifu for Windows (Pro) V6.65.07 棋譜ファイル ---\n対局ID：7151\n記録ID：5a44ac5b15764900041b28c2\n開始日時：2018/01/14 14:00\n終了日時：2018/01/14 16:10\n表題：朝日杯将棋オープン戦\n棋戦：第11回朝日杯将棋オープン戦本戦\n戦型：横歩取り△３三角型\n持ち時間：各40分\n消費時間：121▲40△40\n場所：愛知県・東桜会館\n振り駒：1,0,佐\n計時方式：チェスクロック\n秒読み：60秒\n先手消費時間加算：0\n後手消費時間加算：0\n手合割：平手　　\n先手：藤井聡太四段\n後手：佐藤天彦名人\n先手省略名：藤井聡\n後手省略名：佐藤天\n手数----指手---------消費時間--\n*佐藤天彦名人に藤井聡太四段が挑む。第11回朝日杯将棋オープン戦（主催：朝日新聞社）本戦２回戦、佐藤天彦名人−藤井聡太四段戦は１月14日の14時に開始される。対局場は愛知県名古屋市「東桜会館」。持ち時間は各40分（チェスクロック使用）、切れると一分将棋。\n*名古屋の公開対局の協賛は、東海東京証券、トーエネック、豊田自動織機、松坂屋名古屋店、明治。\n*本局は本局は朝日新聞デジタル（主に現地大盤解説）、ニコニコ生放送、AbemaTVで動画中継が行われる。現地大盤解説会は木村一基九段・杉本昌隆七段・貞升南女流初段・中澤沙耶女流初段、ニコニコ生放送は井出隼平四段・塚田恵梨花女流１級、AbemaTVは三枚堂達也六段・佐々木大地四段・中村桃子女流初段・飯野愛女流１級が担当する。\n*\n*【第11回 朝日杯将棋オープン戦 名古屋対局｜朝日新聞デジタル】\n*http://www.asahi.com/ad/asahihai2018/ \n*\n*【第11回朝日杯将棋オープン戦 本戦 佐藤天彦名人・永瀬拓矢七段・澤田真吾六段・藤井聡太四段 Cブロック - 2018/01/14 10:00開始 - ニコニコ生放送】\n*http://live.nicovideo.jp/watch/lv310027714 \n*\n*【第11回朝日杯将棋オープン戦本戦トーナメント1-2回戦 | AbemaTV(アベマTV)】 \n*https://abema.tv/channels/shogi/slots/9J1e3V9tVDdC95 \n*\n*(棋譜･コメント入力=紋蛇)\n*[棋譜表示の*はコメント付きの指し手。#は局後の感想が追記された指し手。【】内は中継ブログタイトルならびにリンク]\n   1 ２六歩(27)   ( 0:16/00:00:16)\n*佐藤の振り歩先で振り駒が行われ、と金が４枚。藤井の先手が決まった。\n   2 ３四歩(33)   ( 0:22/00:00:22)\n*藤井が公式戦でタイトルホルダーと対戦するのは、本局が初めて。名人との対局とあって、報道陣がずらりと並んでいる。\n   3 ７六歩(77)   ( 0:06/00:00:22)\n*◆藤井 聡太（ふじい そうた）四段◆\n*2002年７月19日生まれ、愛知県瀬戸市出身。杉本昌隆七段門下。2016年、四段。棋士番号は307。\n   4 ８四歩(83)   ( 0:13/00:00:35)\n*◆佐藤 天彦（さとう あまひこ）名人◆ 1988年１月16日生まれ、福岡県福岡市出身。中田功七段門下。2006年、四段。2016年、九段。棋士番号は263。 タイトル戦登場は４回。獲得は名人２期。棋戦優勝は３回。\n   5 ２五歩(26)   ( 0:09/00:00:31)\n*藤井の今年度成績は47勝11敗(0.810)\n*通算成績は57勝11敗(0.838)\n   6 ８五歩(84)   ( 0:16/00:00:51)\n*佐藤の今年度成績は15勝15敗（0.500）\n*通算成績は318勝145敗（0.687）\n   7 ７八金(69)   ( 0:04/00:00:35)\n*藤井は朝日杯に今回からの参加。一次予選で藤岡隼太アマ、大石直嗣六段、竹内雄悟四段、宮本広志五段を破って二次予選入り。二次予選で屋敷伸之九段、松尾歩八段を破って本戦に進んだ。本日行われた本戦１回戦では、澤田真吾六段を破った。\n   8 ３二金(41)   ( 0:09/00:01:00)\n*佐藤は本戦から登場し、１回戦で永瀬拓矢七段に勝った。朝日杯には第１回から参加し、14勝10敗(0.583)。本戦参加は第９、10回に続いてで、過去２回は１回戦で敗退している。\n   9 ２四歩(25)   ( 0:04/00:00:39)\n*朝日新聞デジタルでは、藤井の特集が多く組まれている。朝日杯全棋譜と解説、自宅でくつろぐ様子、藤井のライバルや名人戦・順位戦の説明など、盛りだくさんだ。\n*\n*【藤井四段、地元で初の公式戦へ　朝日杯将棋オープン戦：朝日新聞デジタル】\n*https://www.asahi.com/articles/ASL1C3T6JL1COIPE00J.html \n*\n*【藤井聡太四段、朝日杯に挑む - 第11回朝日杯将棋オープン戦中継：朝日新聞デジタル】\n*http://www.asahi.com/shougi/asahicup_live/fujii_souta/ \n*\n*【将棋｜名人への道 藤井聡太：朝日新聞デジタル】\n*http://www.asahi.com/shougi/fujii_sota/ \n*\n*【藤井聡太に関するトピックス：朝日新聞デジタル】\n*http://www.asahi.com/topics/word/%E8%97%A4%E4%BA%95%E8%81%A1%E5%A4%AA.html?iref=pc_extlink \n  10 同　歩(23)   ( 0:10/00:01:10)\n  11 同　飛(28)   ( 0:06/00:00:45)\n  12 ８六歩(85)   ( 0:12/00:01:22)\n  13 同　歩(87)   ( 0:07/00:00:52)\n  14 同　飛(82)   ( 0:09/00:01:31)\n  15 ３四飛(24)   ( 0:07/00:00:59)\n*横歩取りへ。藤井は３局経験しているが、３連敗と苦戦している。\n  16 ３三角(22)   ( 0:12/00:01:43)\n*横歩取りは佐藤が名人獲得の原動力になった戦法。エースを新鋭との勝負に持ってきた。\n  17 ５八玉(59)   ( 0:17/00:01:16)\n*▲５八玉は今月６日の王位戦予選・大橋貴洸戦で指した手。ほかに▲６八玉と▲３六飛を指していた。▲５八玉は▲３六歩から▲３七桂の青野流を含みにしている。\n  18 ６二玉(51)   ( 1:31/00:03:14)\n*「これは佐藤名人が力戦に誘導しようとしていますね」（木村一基九段）\n*△６二玉の前例は５局しかない。圧倒的に多いのは△５二玉だった。\n*\n*※局後の感想※\n*「△６二玉は指してみたい手でした」（佐藤）\n  19 ３六飛(34)   ( 3:47/00:05:03)\n*３分47秒の考慮で▲３六飛。藤井は飛車を引く。穏やかな手で、突っ張るなら▲３六歩から▲３七桂が予想された。\n  20 ８四飛(86)   ( 2:54/00:06:08)\n*後手は△６二玉と上がったので、次は△７二銀や△７二玉から後手陣の右辺に囲うことになりそうだ。\n  21 ３八金(49)   ( 3:01/00:08:04)\n*先手は金開きに構える。\n*「△２四飛に▲２七歩は、△８四飛と戻られて歩の打ち損です。▲２八銀と受けるのが形です」（木村九段）\n*「以下△２七歩に、▲同銀は△８八角成▲同銀△５四角と攻められるので、▲３九銀と引いてどうか」（鈴木大介九段）\n*\n*※局後の感想※\n*「▲３八金に代えて▲２六飛は、△８八角成▲同銀△４四角で先手不利です」（藤井）\n  22 ９四歩(93)   ( 3:49/00:09:57)\n  23 ９六歩(97)   ( 2:53/00:10:57)\n  24 ７二銀(71)   ( 0:24/00:10:21)\n  25 ４八銀(39)   ( 1:23/00:12:20)\n  26 ２四飛(84)   ( 4:00/00:14:21)\n*先手は４筋に銀を上がったので、２筋に歩を受けるしかない。\n  27 ２八歩打     ( 1:06/00:13:26)\n*低く受ける。形が悪いが、「▲２七歩は△８八角成▲同銀△５四角の筋が気になったのでしょう」と木村九段。\n  28 ８四飛(24)   ( 1:48/00:16:09)\n*歩を打たせたことに満足して、飛車をもとの位置に戻す。横歩取りは大駒の働きに加えて、持ち歩の数が重要。２筋に歩が打てないので、先手の攻め筋が減っている。後手が少しポイントを挙げた。\n*「後手は玉を中住まいに戻すんじゃないかな」（木村九段）\n  29 ７七桂(89)   ( 0:21/00:13:47)\n*先手はどこに主張を求めるかが難しい。▲８七歩はさらに持ち歩が減るので、打ちにくかった。▲７七桂は△８六歩に▲８五歩を用意している。\n  30 ５二玉(62)   ( 2:34/00:18:43)\n*「ほら」（木村九段）\n*「自分だったら浮かばないな」（鈴木九段）\n*佐藤は玉を中住まいにした。木村九段が指摘していた構想だ。玉寄りは手損でも、先手に２筋の歩を打たせたのが大きいと見ている。\n  31 ２六飛(36)   ( 3:38/00:17:25)\n*飛車成りをどう受けるか、態度を尋ねた。持ち歩を温存するなら△２二銀。△４二銀と上がりたいなら△２三歩や△２四歩が考えられる。\n*\n*※局後の感想※\n*▲２六飛に代えて▲５六飛△４二銀▲２六飛もあった。後手は４二に銀を上がっているので、２筋に歩を打って受けることになる。\n  32 ２二銀(31)   ( 0:19/00:19:02)\n  33 ５六飛(26)   ( 0:15/00:17:40)\n*「先手は▲３六歩から▲３七桂で、２枚の桂を跳ねる攻めを狙うのでしょうか」（鈴木九段）\n  34 ４二角(33)   ( 0:43/00:19:45)\n*角を引き、あらかじめ▲３七桂から▲４五桂の当たりを避ける。△３三銀から△４四銀と中央に使えば、玉が堅い。\n  35 ７五歩(76)   ( 1:08/00:18:48)\n*飛車の可動域を広げた。▲８五歩△２四飛▲８六飛と使うのかもしれない。\n  36 ４一玉(52)   ( 1:15/00:21:00)\n*さらに玉を後手陣の左辺に進める。代えて△６四歩は、▲８五歩で△８二飛と引く手に限定された。\n  37 ８五歩打     ( 1:10/00:19:58)\n  38 ２四飛(84)   ( 0:17/00:21:17)\n*互いに模様の取り方が難しい。横歩取りは研究将棋になりやすい戦型だが、本局は力戦形。構想力が問われている。\n  39 ３六歩(37)   ( 0:28/00:20:26)\n  40 ３三銀(22)   ( 0:47/00:22:04)\n  41 ３七桂(29)   ( 0:13/00:20:39)\n*眠っていた桂を使った。\n  42 ４四銀(33)   ( 1:15/00:23:19)\n*▲４五桂を先に受ける。後手は７二銀と６一金を使いにくいのが課題。\n  43 ８四歩(85)   ( 0:34/00:21:13)\n*飛車の横利きが止まったのを見て、すかさず伸ばす。\n  44 ８二歩打     ( 0:28/00:23:47)\n*▲８三歩成△同銀▲８二歩を受けた。後手は歩を手放したので、主張が減っている。\n  45 ４六歩(47)   ( 0:50/00:22:03)\n  46 ３三桂(21)   ( 0:22/00:24:09)\n  47 ４七銀(48)   ( 1:19/00:23:22)\n*木村九段と鈴木九段は、先手の模様がよいと見ている。\n*「後手も歩を手放したから、そうなると歩得の先手がよく見えます」（鈴木九段）\n*「４七銀の形ができているからなぁ。後手のほうが駒組みに苦労しそうです」（木村九段）\n  48 ６四歩(63)   ( 5:22/00:29:31)\n*先手は▲２七歩や▲６八銀など、指したい手が多い。後手は△６三銀と上がれない。▲８三歩成△同歩▲８二歩と攻められてしまう。しかし、このままでは７二銀と６一金が使えない。\n*\n*※局後の感想※\n*△６四歩に代えて△２五桂だったか。佐藤は▲同桂△同飛▲３七桂で後手がつまらないと見た。以下△７五飛は▲９七角△７四飛▲４五歩△３三銀▲６五桂で中央突破できる先手がよいが、△２四飛▲６五桂△５二金▲４五桂△６一桂は難しい。\n  49 ７六飛(56)   ( 1:19/00:24:41)\n*先手は角を９七に使うことになりそうか。左辺だけ見れば石田流の形である。\n  50 ５四歩(53)   ( 1:28/00:30:59)\n*「▲７四歩と来てくれれば、△同歩▲同飛△６三銀▲７六飛△７四歩▲８三歩成△同歩▲８二歩と勝負できるかもしれないですが。このままだと、金銀が使えません」（鈴木九段）\n  51 ６八銀(79)   ( 0:54/00:25:35)\n*先手は７筋の壁を解消でき、強く戦えるようになった。\n  52 １四歩(13)   ( 1:05/00:32:04)\n*※局後の感想※\n*△１四歩に代えて△５五歩は、▲５六歩で反発される。\n*「後手は厚みがないので。▲５六歩に指したい手がないです」（佐藤）\n  53 ５六歩(57)   ( 1:08/00:26:43)\n  54 ３五歩打     ( 1:15/00:33:19)\n*「勝負手だ」「機敏だ」「待っていたんだよ、飛車の利きが止まるのを」「難しくなったか」\n*木村九段と鈴木九段が声をそろえる。▲３五同歩は△同銀▲３六歩△２六銀で、△３七銀成▲同金△２八飛成や△２七歩が受からない。▲５六歩を突かないで飛車の横利きを通していれば、３五に銀が来ても▲４五歩と軽く受けることができた。\n*15時ごろの局面。現局面までの消費時間は▲藤井26分、△佐藤33分。\n  55 ８五桂(77)   ( 3:05/00:29:48)\n*角を働かせて攻めを待つ。\n  56 ３六歩(35)   ( 0:41/00:34:00)\n  57 同　銀(47)   ( 0:10/00:29:58)\n  58 ３四飛(24)   ( 0:25/00:34:25)\n*本格的な戦いが始まった。▲４七銀は△３六歩がある。\n  59 ２七金(38)   ( 1:52/00:31:50)\n*金を上がってヒモをつける。\n*木村九段と鈴木九段は先手持ちだ。後手のほうが陣形が悪いという。ポイントを奪えば、一気に先手は押し切れそうだ。後手は玉が薄く、粘りにくい。\n*\n*※局後の感想※\n*「▲２七金と上がられてひと押しがなかった。後手の動きは大したことがなかったですか」（佐藤）\n  60 ３五歩打     ( 2:14/00:36:39)\n*後手は歩切れに。先手は２歩を手持ちにしている。\n  61 ４七銀(36)   ( 0:19/00:32:09)\n*後手に１歩あれば△２四飛から△２六歩だが……。後手は手が難しい。\n  62 ６五歩(64)   ( 1:07/00:37:46)\n  63 ５七銀(68)   ( 0:31/00:32:40)\n*「後手がきつい」と木村九段。先手は▲４五歩の攻めが楽しみだ。△同桂は▲同桂△同銀▲１一角成で駒得になるし、△５三銀は▲４六銀左から▲２六金や▲７九角で３五を突破される。\n  64 ５二玉(41)   ( 1:48/00:39:34)\n*佐藤は自分から動くことはできない。決戦に備えて、少しでも玉形を整えたい。\n  65 ６八金(78)   ( 1:49/00:34:29)\n*金を玉に近づけた。△８七銀の筋には気をつけたい。\n*\n*※局後の感想※\n*▲６八金に代えて▲４五歩は、△５三銀▲４六銀左△６四銀▲９七角が並べられた。\n  66 ６二金(61)   ( 0:23/00:39:57)\n*玉の脇腹を締める。遊び駒に玉を近づけたことで、金銀が守り駒に昇格した。\n  67 ７九飛(76)   ( 3:30/00:37:59)\n*じっと手を渡す。互いに動きが難しくなってきたか。鈴木九段は形勢互角と判定している。\n  68 ２三金(32)   ( 0:03/00:40:00)\n*佐藤は持ち時間を使いきった。\n  69 ４五歩(46)   ( 0:27/00:38:26)\n*△４五同桂▲同桂△同銀は▲１一角成で先手の駒得。\n  70 ５三銀(44)   ( 0:00/00:40:00)\n*「銀多伝でどうですか。▲４六銀左に△２四金と３五を強化したら、いきなり▲９五歩から端攻めして、▲２六桂の飛車の捕獲を狙います」（鈴木九段）\n  71 ７四歩(75)   ( 1:34/00:40:00)\n*藤井も持ち時間を使いきった。ここから一分将棋の叩き合いだ。\n*「７筋を突き捨てて、▲４六銀左に△５五歩から△８四飛を消すつもりですか」（鈴木九段）\n  72 同　歩(73)   ( 0:00/00:40:00)\n  73 ４六銀(57)   ( 0:00/00:40:00)\n*銀が縦に並んだ形は、お互いの死角を消して好形だ。後手の飛車が狭い。▲３六歩から２七金を使って飛車を狙われそうだ。\n*「先手が形勢よしと見て、後手の勝負手を消しながら丁寧に指している印象です」（鈴木九段）\n  74 ５五歩(54)   ( 0:00/00:40:00)\n*佐藤は苦しくなったといわれている。先手の陣形が厚い。\n*\n*※局後の感想※\n*△５五歩に代えて、藤井の指摘した△２四金がまさったか。▲７三歩△６三銀▲８三歩成△同歩▲８二歩で、▲２六桂の飛車の捕獲を狙われるが、▲８二歩に△２六歩▲同金△２五歩▲２七金△７三桂▲同桂成△同金▲５七銀△２三金▲４六桂△２四飛▲３四歩△同金▲同桂△同飛で、佐藤は「このほうが粘りがありましたか」と話す。先手は歩切れなので、もうひと押しがあるかは明快ではない。\n  75 同　角(88)   ( 0:00/00:40:00)\n*後手は飛車を５四に逃げられるようになった。\n  76 ６四銀(53)   ( 0:00/00:40:00)\n*▲８二角成を受ける。\n  77 ８八角(55)   ( 0:00/00:40:00)\n  78 ７五歩(74)   ( 0:00/00:40:00)\n*鈴木九段は▲４四歩を指摘している。△同歩に▲４五歩の継ぎ歩攻めや▲３六歩とすれば、４六の銀に活が入る。\n  79 ４四歩(45)   ( 0:00/00:40:00)\n  80 同　歩(43)   ( 0:00/00:40:00)\n  81 ３六歩打     ( 0:00/00:40:00)\n*後手は玉の近くに飛車角がいる悪形だ。玉は６三に行きたいが、▲４三銀のキズができてしまう。\n  82 同　歩(35)   ( 0:00/00:40:00)\n  83 同　金(27)   ( 0:00/00:40:00)\n*「△２四飛が痛いかと思いきや、▲２九飛がぴったりですか」（鈴木九段）\n  84 ２四飛(34)   ( 0:00/00:40:00)\n  85 ２九飛(79)   ( 0:00/00:40:00)\n*▲７九飛を生かした受け。先手陣に遊び駒がない。次に▲３五銀がある。「先手がさらに一本取っています」と鈴木九段。先手優勢だ。しかも、ただのリードではない。先手は玉が厚い。将棋は逆転勝ちが多いゲームだが、先手に嫌みがないと焦らせることができない。このまま藤井が手堅く押し切る可能性も高い。\n*\n*※局後の感想※\n*藤井は▲７九飛と引いたあたりから、▲２九飛と使うのを考えていたという。つまり、▲７九飛は▲３六歩△同歩▲同金の活用を狙い、△２四飛に▲２九飛を用意した意味だった。\n  86 ３四歩打     ( 0:00/00:40:00)\n*▲３五銀を受ける。佐藤はひたすら辛抱の時間だ。\n  87 ３五歩打     ( 0:00/00:40:00)\n*相手が守ったところを、すぐこじ開けにいった。\n*\n*※局後の感想※\n*▲３五歩に代えて▲２七歩△６三玉▲２六歩△１五歩▲２五歩も先手有力。「これもきついです」と佐藤。\n  88 ６三玉(52)   ( 0:00/00:40:00)\n*玉の逃走を開始。中段玉で粘れるか。\n  89 ３四歩(35)   ( 0:00/00:40:00)\n  90 同　金(23)   ( 0:00/00:40:00)\n*▲３五歩に△４五金と勝負してどうか。駒損を甘受してでも、さばくしかない。\n  91 ４三歩打     ( 0:00/00:40:00)\n*△３一角は３三の桂が浮き、▲３五歩に△４五金がやりにくくなる。８八の角を３三に成られては、大駒が狭い。\n*\n*※局後の感想※\n*▲４三歩では▲３五歩も有力だった。以下△４五金に▲同桂△同歩▲５五銀と進める。\n  92 ５三角(42)   ( 0:00/00:40:00)\n  93 ３五歩打     ( 0:00/00:40:00)\n*藤井がさらに優位を拡大するか、それとも佐藤が踏みとどまって押し返すのか。勝負どころだ。\n  94 ２五金(34)   ( 0:00/00:40:00)\n*金は五段目でも、２五に出る。桂を手に入れて、△７六桂と打つのが狙いのようだ。\n*\n*※局後の感想※\n*△２五金に代えて△４五歩は、▲３四歩△４六歩▲同銀△３四飛▲３五歩△４四飛▲４二歩成が一例。▲４二歩成に△同飛は▲３三角成、△４二同角は▲４四角で先手よしだが、歩を成った瞬間は甘い。しかし、感想戦で後手に有力手は見つからなかった。\n  95 同　桂(37)   ( 0:00/00:40:00)\n  96 同　桂(33)   ( 0:00/00:40:00)\n*先手は金桂交換の駒得。藤井は模様だけでなく、実利も手にした。\n  97 ４二歩成(43) ( 0:00/00:40:00)\n  98 同　角(53)   ( 0:00/00:40:00)\n  99 ３四歩(35)   ( 0:00/00:40:00)\n*△３四同飛は▲２五金だ。△７六桂は▲４四角と軽やかにさばいてどうか。\n*\n*※局後の感想※\n*「▲３四歩に代償がなかったです」（佐藤）\n 100 ６六歩(65)   ( 0:00/00:40:00)\n*佐藤はアヤをつけるしかない。まずは玉のコビンに手をつける。\n*\n*※局後の感想※\n*△６六歩に代えて△７六桂は、▲４四角から▲５四金を狙われて受けにくい。\n 101 同　角(88)   ( 0:00/00:40:00)\n 102 ５四桂打     ( 0:00/00:40:00)\n*「この両取りはうれしくありません。差が開いていると思います」（脇謙二八段）\n 103 ５七角(66)   ( 0:00/00:40:00)\n*角を出なかった。△４六桂に▲同角が飛車取り。一時的に自陣に戻っても、後手は駒損を回復しようとすれば、一気に角が働き。\n 104 ７三桂(81)   ( 0:00/00:40:00)\n*桂をぶつけて手駒を増やしにいった。△６五桂と打てれば、先手に嫌みが出てくる。\n 105 ５五銀(46)   ( 0:00/00:40:00)\n*天王山に銀を出た。飛車取りにもなっている。\n 106 同　銀(64)   ( 0:00/00:40:00)\n 107 同　歩(56)   ( 0:00/00:40:00)\n*「△６五桂▲２四角△同角▲２三飛△３三銀▲同歩成に△６八角成と勝負しますか」（鈴木九段）\n*それを先手が嫌うなら、▲５四歩△５七桂成▲同金とするほうが手堅いようだ。\n 108 ６五桂(73)   ( 0:00/00:40:00)\n 109 ５四歩(55)   ( 0:00/00:40:00)\n*鈴木九段が推奨していた▲５四歩。△５七桂成と角を取られても、▲同金で厚い玉形がキープされている。\n 110 ５七桂成(65) ( 0:00/00:40:00)\n 111 同　金(68)   ( 0:00/00:40:00)\n*盤上にいる駒の数が兵力差につながっている。後手は先手に迫れない。\n 112 ７六歩(75)   ( 0:00/00:40:00)\n 113 ６五金打     ( 0:00/00:40:00)\n*玉をしばった。「手厚いねぇ」と脇八段。△７五角を消して手堅い。\n 114 １七桂(25)   ( 0:00/00:40:00)\n*飛車取りだが、手抜いてしばるのも有力だ。\n*「こういうのは取るんですか」（鈴木九段）\n*「昔は取らなかったけど、最近は取るんですよ」（杉本七段）\n 115 同　香(19)   ( 0:00/00:40:00)\n*落ち着いて駒を補充。\n 116 １八角打     ( 0:00/00:40:00)\n*飛車を逃げれば△２八飛成で逆転。\n 117 ４三銀打     ( 0:00/00:40:00)\n*頃はよしと詰めろをかける。\n 118 ６一銀(72)   ( 0:00/00:40:00)\n*▲５五桂の詰めろを受ける。\n 119 ４二銀成(43) ( 0:00/00:40:00)\n 120 ２九角成(18) ( 0:00/00:40:00)\n*後手玉に即詰みがある。\n 121 ８一角打     ( 0:00/00:40:00)\n*△７二銀は▲７五桂まで。△７二金は▲同角成△同玉▲６四桂△６二玉▲７四桂△７一玉▲８二桂成△同玉▲７四桂△７一玉▲８二金までの詰み。\n*この局面で佐藤が投了。藤井が名人をくだした。終局時刻は16時10分。消費時間は、▲藤井40分、△佐藤40分。\n*藤井はベスト４に進出し、準決勝で羽生善治竜王と対戦する。その対局は２月17日に東京都千代田区「有楽町朝日ホール」で行われる。\n*\n*※局後の感想※\n*「ちょっとずつポイントを失った気がします。歩切れになって、△５二玉から△６二金と狙いのない手を指す状態になっては苦しいと感じました。厚みを失っていく展開になったので、△５五歩では△２四金のほうがよかったです」（佐藤）\n*「難しいと思っていましたが、▲２九飛と回って指しやすくなりました」（藤井）\n 122 投了         ( 0:00/00:40:00)\nまで121手で先手の勝ち\n"},G1k4:function(t,e,n){t.exports=n.p+"static/media/flip_sound.2c50e2c.wav"},G3xy:function(t,e,n){var r=n("0Rqa"),i=n("nZBM").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},GL4m:function(t,e){t.exports="| 名前                       | 意味                        | 備考                                                     | 初期値              | .sync          |\n|----------------------------|-----------------------------|----------------------------------------------------------|---------------------|----------------|\n| run_mode                   | 実行モード                  | view_mode:再生 play_mode:操作 編集:edit_mode。           | 'view_mode'         | ○             |\n| human_side_key             | 人間が操作する側            | play_mode時のみ有効 both, black, white, none             | 'both'              |                |\n| kifu_body                  | 棋譜の本体                  | KIF と SFEN に対応。駒落ちは SFEN のみ                   | null                |                |\n| kifu_url                   | 棋譜ファイルURL             |                                                          | null                |                |\n| theme                      | テーマ名                    | none:なし simple:シンプル real:木目                      | 'real'              | ○             |\n| variation                  | realテーマ内の亜種          | a, b, c, ...                                             | 'a'                 | ○             |\n| size                       | 盤面の大きさ                | none xx-small x-small small default medium large x-large xx-large xxx-large | 'default'           | ○             |\n| start_turn                 | N手目の局面から表示         | 例 0:開始前 1:初手 -1:投了図 -2:投了一手前               | -1                  |                |\n| slider_show                | 局面スライダー表示          |                                                          | false               |                |\n| controller_show            | 前後移動用のボタン類の表示  |                                                          | false               |                |\n| sfen_show                  | 局面を sfen で表示          | 主に局面ペディア用                                       | false               |                |\n| sound_effect               | 駒音の有無                  |                                                          | false               |                |\n| volume                     | 駒音の大きさ                | 0 から 1.0                                               | 0.5                 |                |\n| key_event_capture          | キーボード操作を監視        | どこにもフォーカスしていないときでも左右キーが反応       | false               |                |\n| polling_interval           | ポーリング間隔(秒)          | 1以上で有効。30 なら30秒間隔で kifu_url を読み直す       | 0                   |                |\n| shift_key_mag              | shiftキー押下時の倍速       | 1 または null 指定で無効にできる                         | 10                  |                |\n| system_key_mag             | システムキー押下時の倍速    | 1 または null 指定で無効にできる                         | 50                  |                |\n| url_embed_turn             | URLのハッシュに手番を埋める | 固定URLを作りたいときの実験用の機能                      | false               |                |\n| debug_mode                 | デバッグモード              | 主に開発用                                               | false               |  ○            |\n| flip                       | 盤面を反転する              | △が下にくる                                             | false               |  ○            |\n| digit_show                 | 盤面の側面に位置を表示      | 上に数字、右端に漢数字を表示する                         | false               |                |\n| final_label                | 結果の文字列                | 空だと「○の勝ち」                                       | null                |                |\n| preset_key                 | 盤面の初期配置              | kifu_body の代わりに指定するとその配置になる             | null                |                |\n\n<br>\n\n<article class=\"message is-info\">\n  <div class=\"message-header\">\n    <p>備考</p>\n  </div>\n  <div class=\"message-body\">\n    <ul>\n      <li>kifu_body も preset_key も指定がない場合は 'position startpos' (平手) が初期配置になります</li>\n      <li>**kifu_url** や **kifu_body** をあとから変更したときも同期して再読み込みします。</li>\n      <li>theme や size の値に **none** を指定したときは何もスタイルを設定しません。</li>\n    </ul>\n  </div>\n</article>\n\n<article class=\"message is-warning\">\n  <div class=\"message-header\">\n    <p>注意点</p>\n  </div>\n  <div class=\"message-body\">\n    **key_event_capture** は副作用があります。有効にするとどこにもフォーカスしていないときでも左右ボタンに反応するようになって便利な面もありますが、他のプログラムの操作を奪ってしまうことになるかもしれません。なので基本は false にしておいた方がよいです。\n  </div>\n</article>\n\n## イベント\n\n| 名前                        | 意味                                                    |\n|-----------------------------|---------------------------------------------------------|\n| update:play_mode_long_sfen  | 操作モードで指した直後の局面を発行(movesあり)           |                   \n| update:play_mode_short_sfen | 操作モードで指した直後の局面を発行(movesなし)           |\n| update:play_mode_move       | 操作モードで指した手(sfenのmovesの最後の1つ)            |\n| update:run_mode             | 設定ダイアログでモードが変更されたとき                  |\n| update:kifu_body            | 設定ダイアログで棋譜が変更されたとき                    |\n| update:debug_mode           | 設定ダイアログでデバッグモードが変更されたとき          |\n| update:flip                 | 盤面を反転したとき                                      |\n| update:theme                | テーマ変更                                              |\n| update:variation            | バリエーション変更                                      |\n| update:size                 | サイズ変更                                              |\n"},"Gz+W":function(t,e,n){"use strict";e.__esModule=!0;var r=u(n("oFSD")),i=u(n("7G4J")),o=u(n("WNBB"));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},"H/nQ":function(t,e,n){var r=n("W9cr"),i=n("azD8");n("/m6w")("keys",function(){return function(t){return i(r(t))}})},HLQd:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Soldier=void 0;var i=f(n("woOf")),o=f(n("Zrlr")),u=f(n("wxAW")),a=f(n("M4fF")),s=n("iy8a"),c=n("KqNh"),l=n("P4Jg");function f(t){return t&&t.__esModule?t:{default:t}}var _=function(){function t(e){(0,o.default)(this,t),this.attributes=(0,i.default)({},e)}return(0,u.default)(t,[{key:"piece",get:function(){return this.attributes.piece}},{key:"place",set:function(t){this.attributes.place=t},get:function(){return this.attributes.place}},{key:"location",get:function(){return this.attributes.location}},{key:"promoted",get:function(){return!!this.attributes.promoted},set:function(t){this.attributes.promoted=t}},{key:"name",get:function(){return this.promoted?this.piece.promoted_name:this.piece.name}},{key:"piece_transform",get:function(){var e=null;return e=this.piece.promotable_p?this.promoted?{location:this.location.flip,promoted:!this.promoted}:{promoted:!this.promoted}:{location:this.location.flip},new t((0,i.default)({},this.attributes,e))}},{key:"promotable_p",get:function(){if(this.piece.promotable_p&&!this.promoted)return this.danger_zone_p}},{key:"danger_zone_p",get:function(){return"black"===this.location.key?this.place.y<s.Board.danger_zone_size:this.place.y>=s.Board.dimension-s.Board.danger_zone_size}},{key:"to_class_list",get:function(){var t=[];return t.push("location_"+this.location.key),t.push("promoted_"+this.promoted),t=a.default.concat(t,this.piece.css_class_list)}}]),t}();if(e.Soldier=_,t.argv[1]===r)new _({place:new c.Place([1,2]),piece:l.Piece.fetch("P"),promoted:!0,location_key:"white"})}).call(e,n("W2nU"),"/index.js")},HXVr:function(t,e){t.exports=!0},HbgW:function(t,e,n){var r=n("INr1"),i=n("mnZ8")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},HjA4:function(t,e,n){t.exports={default:n("tzqv"),__esModule:!0}},Hq0C:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},I3F1:function(t,e,n){t.exports=n("sVMs")},INr1:function(t,e,n){var r=n("nZBM"),i=n("szHS"),o=n("mrma"),u=n("sVMs"),a=n("s0pp"),s="prototype",c=function(t,e,n){var l,f,_,d=t&c.F,h=t&c.G,p=t&c.S,v=t&c.P,m=t&c.B,y=t&c.W,g=h?i:i[e]||(i[e]={}),b=g[s],k=h?r:p?r[e]:(r[e]||{})[s];h&&(n=e);for(l in n)(f=!d&&k&&void 0!==k[l])&&a(g,l)||(_=f?k[l]:n[l],g[l]=h&&"function"!=typeof k[l]?n[l]:m&&f?o(_,r):y&&k[l]==_?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[s]=t[s],e}(_):v&&"function"==typeof _?o(Function.call,_):_,v&&((g.virtual||(g.virtual={}))[l]=_,t&c.R&&b&&!b[l]&&u(b,l,_)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},IcnI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n("7+uW")),i=o(n("NYxO"));function o(t){return t&&t.__esModule?t:{default:t}}r.default.use(i.default);e.default=function(){return new i.default.Store({state:{current_flip:!1,current_debug_mode:!1,current_theme:null,current_size:null,current_variation:null},mutations:{flip_toggle:function(t){t.current_flip=!t.current_flip},current_debug_mode_set:function(t,e){t.current_debug_mode=e}}})}},JqaV:function(t,e){},KO0A:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-card has-text-left"},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"モード"}},[n("div",{staticClass:"block"},[t._l(t.RunModeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.current_run_mode,callback:function(e){t.current_run_mode=e},expression:"current_run_mode"}},[t._v(t._s(e.name))])]})],2)]),n("b-field",{attrs:{label:"反転"}},[n("b-switch",{model:{value:t.flip,callback:function(e){t.flip=e},expression:"flip"}})],1),n("b-field",{attrs:{label:"デバッグモード"}},[n("b-switch",{model:{value:t.current_debug_mode,callback:function(e){t.current_debug_mode=e},expression:"current_debug_mode"}})],1),n("b-field",{attrs:{label:"テーマ"}},[n("div",{staticClass:"block"},[t._l(t.ThemeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.$store.state.current_theme,callback:function(e){t.$set(t.$store.state,"current_theme",e)},expression:"$store.state.current_theme"}},[t._v(t._s(e.name))])]})],2)]),"real"===t.$store.state.current_theme?[n("b-field",{attrs:{label:"バリエーション"}},[n("div",{staticClass:"block"},[t._l(t.VariationInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.$store.state.current_variation,callback:function(e){t.$set(t.$store.state,"current_variation",e)},expression:"$store.state.current_variation"}},[t._v(t._s(e.name))])]})],2)])]:t._e(),n("b-field",{attrs:{label:"サイズ"}},[n("div",{staticClass:"block"},[t._l(t.SizeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.$store.state.current_size,callback:function(e){t.$set(t.$store.state,"current_size",e)},expression:"$store.state.current_size"}},[t._v(t._s(e.name))])]})],2)]),n("b-field",{attrs:{label:"棋譜"}},[n("b-input",{attrs:{type:"textarea"},model:{value:t.kifu_source2,callback:function(e){t.kifu_source2=e},expression:"kifu_source2"}})],1)],2),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-primary",on:{click:function(e){t.$parent.close()}}},[t._v("閉じる")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[this._v("設定")])])}]};e.a=r},KODq:function(t,e,n){t.exports={default:n("5ZH5"),__esModule:!0}},KqNh:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Place=void 0;var i=l(n("d7EF")),o=l(n("u2KI")),u=l(n("Zrlr")),a=l(n("wxAW")),s=l(n("M4fF")),c=n("iy8a");function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,u.default)(this,t);var n=void 0,r=void 0;if(s.default.isString(e)){var o=this._parse_from_string(e),a=(0,i.default)(o,2);n=a[0],r=a[1]}else{var c=(0,i.default)(e,2);n=c[0],r=c[1]}var l=[n,r];this._x=l[0],this._y=l[1]}return(0,a.default)(t,null,[{key:"fetch",value:function(e){return e instanceof this?e:(0,o.default)(new t(e))}}]),(0,a.default)(t,[{key:"_parse_from_string",value:function(t){var e=this,n=(t=t.replace(/([１-９一二三四五六七八九a-z])/g,function(t){return e._replace_table[t]})).split("").map(function(t){return Number(t)}),r=(0,i.default)(n,2),o=r[0],u=r[1];return[c.Board.dimension-o,u-1]}},{key:"key",get:function(){return[this._x,this._y].toString()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"flip",get:function(){return t.fetch([c.Board.dimension-1-this._x,c.Board.dimension-1-this._y])}},{key:"_replace_table",get:function(){return{"１":1,"２":2,"３":3,"４":4,"５":5,"６":6,"７":7,"８":8,"９":9,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9}}},{key:"to_sfen",get:function(){return[c.Board.dimension-this._x,["a","b","c","d","e","f","g","h","i"][this._y]].join("")}}]),t}();e.Place=f,t.argv[1]}).call(e,n("W2nU"),"/index.js")},LEJ8:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},LK2p:function(t,e,n){var r=n("b4Bz"),i=n("WcPy").f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(r(t))}},LUk7:function(t,e,n){var r=n("W9cr"),i=n("VShP");n("/m6w")("getPrototypeOf",function(){return function(t){return i(r(t))}})},LbXQ:function(t,e,n){"use strict";var r=n("N9Mn"),i=n("p18F"),o=n("1/es"),u=n("b4Bz");t.exports=n("wnso")(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},Lvxh:function(t,e,n){t.exports={default:n("0liN"),__esModule:!0}},M4xR:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mediator=void 0;var r=p(n("d7EF")),i=p(n("W3Iv")),o=p(n("Zrlr")),u=p(n("wxAW")),a=p(n("M4fF")),s=p(n("7+uW")),c=n("iy8a"),l=n("KqNh"),f=n("P4Jg"),_=n("HLQd"),d=n("usXP"),h=n("XJjB");function p(t){return t&&t.__esModule?t:{default:t}}var v=function(){function t(){(0,o.default)(this,t);var e=new d.SfenParser;e.kifu_body="position startpos",e.parse(),this.data_source=e,this.current_turn=0,this.board=null,this.hold_pieces=null,this.last_hand=null,this.piece_box={},this.env="production"}return(0,u.default)(t,[{key:"run",value:function(){var t=this;this.board=this.data_source.board,this.hold_pieces=this.data_source.hold_pieces,this.last_hand=null;var e=this.data_source.move_infos,n=this.real_turn-this.turn_min;(0,a.default)(n).times(function(n){t.execute_one(e[n])})}},{key:"execute_one",value:function(t){if(this.last_hand=t,t.drop_piece){var e=new _.Soldier({piece:t.drop_piece,place:t.place,promoted:t.promoted,location:t.location});this.hold_pieces_add(t.location,e.piece,-1),this.board.place_on(e)}else{var n=this.board.lookup(t.place);n&&this.hold_pieces_add(t.location,n.piece,1);var r=this.board.lookup(t.origin_place);t.promoted_trigger&&(r.promoted=!0),r.place=t.place,this.board.delete_at(t.origin_place),this.board.place_on(r)}}},{key:"hold_pieces_count",value:function(t,e){return this.hold_pieces[t.key][e.key]||0}},{key:"hold_pieces_add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.hold_pieces_count(t,e)+n,i=this.hold_pieces[t.key];r>=1?s.default.set(i,e.key,r):s.default.delete(i,e.key)}},{key:"board_safe_delete_on",value:function(t){this.board.delete_at(t)}},{key:"board_piece_inner_class",value:function(t){var e=l.Place.fetch(t),n=this.board.lookup(e);return n?n.to_class_list:[]}},{key:"cell_piece_class",value:function(t){var e=l.Place.fetch(t),n=this.board.lookup(e),r=[];return n&&r.push("location_"+n.location.key),r}},{key:"cell_view",value:function(t){var e=l.Place.fetch(t),n=this.board.lookup(e),r="";return n&&(r=n.name),r}},{key:"turn_clamp",value:function(t){return a.default.clamp(Number(t),this.turn_min,this.turn_max)}},{key:"current_turn_label",value:function(t){return this.real_turn===this.turn_max?t?"まで"+this.real_turn+"手で"+t:"まで"+this.real_turn+"手で"+this.previous_location.name+"の勝ち":this.real_turn+"手目"}},{key:"realized_hold_pieces_of",value:function(t){var e=(0,i.default)(this.hold_pieces[t]);return(0,a.default)(e).filter(function(t){var e=(0,r.default)(t,2);e[0];return e[1]>=1}).map(function(t){var e=(0,r.default)(t,2),n=e[0],i=e[1];return[f.Piece.fetch(n),i]}).sortBy(function(t){var e=(0,r.default)(t,2),n=e[0];e[1];return n.code}).value()}},{key:"piece_box_count",value:function(t){return this.piece_box[t.key]||0}},{key:"piece_box_add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.piece_box_count(t)+e;n>=1?s.default.set(this.piece_box,t.key,n):s.default.delete(this.piece_box,t.key)}},{key:"piece_box_realize",value:function(){var t=(0,i.default)(this.piece_box);return(0,a.default)(t).filter(function(t){var e=(0,r.default)(t,2);e[0];return e[1]>=1}).map(function(t){var e=(0,r.default)(t,2),n=e[0],i=e[1];return[f.Piece.fetch(n),i]}).sortBy(function(t){var e=(0,r.default)(t,2),n=e[0];e[1];return n.code}).value()}},{key:"dimension",get:function(){return c.Board.dimension}},{key:"real_turn",get:function(){var t=Number(this.current_turn);return t<0&&(t+=this.turn_max+1),this.turn_clamp(t)}},{key:"previous_location",get:function(){return this.data_source.location_by_offset(this.real_turn-1)}},{key:"current_location",get:function(){return this.data_source.location_by_offset(this.real_turn)}},{key:"current_comments",get:function(){if(this.data_source.comments_pack)return this.data_source.comments_pack[this.real_turn]}},{key:"turn_min",get:function(){return this.data_source.turn_min}},{key:"turn_max",get:function(){return this.data_source.turn_max}},{key:"to_sfen",get:function(){return this.sfen_serializer.to_s}},{key:"to_position_sfen",get:function(){return"position sfen "+this.to_sfen}},{key:"sfen_serializer",get:function(){return new h.SfenSerializer(this)}}]),t}();e.Mediator=v},M93x:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("xJD8"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("beUO");var a=function(t){n("/yon")},s=n("VU/8")(i.a,u.a,!1,a,null,null);e.default=s.exports},MAUS:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"N+at":function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.comments_pack?n("div",{staticClass:"comment_area"},[t.current_comments?n("div",[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("article",{staticClass:"message is-info has-text-left"},[n("div",{staticClass:"message-body"},[n("div",{staticClass:"content"},[t._l(t.current_comments,function(e){return[t._.isEmpty(e)?[n("br")]:[n("div",{domProps:{innerHTML:t._s(t.auto_link(e))}})]]})],2)])])])])]):t._e()]):t._e()},staticRenderFns:[]};e.a=r},"N1+3":function(t,e,n){t.exports=n.p+"static/media/piece_sound.8673c34.wav"},N9Mn:function(t,e){t.exports=function(){}},NHnr:function(t,e,n){"use strict";var r=o(n("7+uW")),i=o(n("M93x"));function o(t){return t&&t.__esModule?t:{default:t}}n("ZA4m"),n("sBSs"),r.default.config.productionTip=!1,new r.default({el:"#app",template:"<App/>",components:{App:i.default}})},NSkS:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("WNBB"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},Nc0F:function(t,e,n){var r=n("eY+q"),i=n("9VA/"),o=n("azD8");t.exports=n("gJiE")?Object.defineProperties:function(t,e){i(t);for(var n,u=o(e),a=u.length,s=0;a>s;)r.f(t,n=u[s++],e[n]);return t}},P4Jg:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Piece=void 0;var i=l(n("Zx67")),o=l(n("Zrlr")),u=l(n("wxAW")),a=l(n("zwoO")),s=l(n("yEsh")),c=l(n("Pf15"));function l(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,u.default)(e,[{key:"css_class_list",get:function(){return["piece_name","piece_"+this.key]}},{key:"promotable_p",get:function(){return!!this.promoted_name}}],[{key:"lookup",value:function(t){return"string"==typeof t&&(t=t.toUpperCase()),(0,s.default)(e.__proto__||(0,i.default)(e),"lookup",this).call(this,t)}},{key:"kif_lookup",value:function(t){return this.values.find(function(e){return[e.name,e.alias_name].includes(t)})}},{key:"kif_promoted_lookup",value:function(t){return this.values.find(function(e){return[e.promoted_name,e.promoted_alias_name].includes(t)})}},{key:"define",get:function(){return[{key:"K",name:"玉",alias_name:"王",promoted_name:null,promoted_alias_name:null},{key:"R",name:"飛",alias_name:null,promoted_name:"龍",promoted_alias_name:"竜"},{key:"B",name:"角",alias_name:null,promoted_name:"馬",promoted_alias_name:null},{key:"G",name:"金",alias_name:null,promoted_name:null,promoted_alias_name:null},{key:"S",name:"銀",alias_name:null,promoted_name:"全",promoted_alias_name:null},{key:"N",name:"桂",alias_name:null,promoted_name:"圭",promoted_alias_name:null},{key:"L",name:"香",alias_name:null,promoted_name:"杏",promoted_alias_name:null},{key:"P",name:"歩",alias_name:null,promoted_name:"と",promoted_alias_name:null}]}}]),e}(n("iPg/").MemoryRecord);e.Piece=f,t.argv[1]}).call(e,n("W2nU"),"/index.js")},PjdQ:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("v+rs"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},Rdt1:function(t,e,n){n("LbXQ");for(var r=n("nZBM"),i=n("sVMs"),o=n("1/es"),u=n("aQ10")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var c=a[s],l=r[c],f=l&&l.prototype;f&&!f[u]&&i(f,u,c),o[c]=o.Array}},Rvfj:function(t,e,n){var r=n("b4Bz"),i=n("uRsJ"),o=n("9bRx");t.exports=function(t){return function(e,n,u){var a,s=r(e),c=i(s.length),l=o(u,c);if(t&&n!=n){for(;c>l;)if((a=s[l++])!=a)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}}},SEMX:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"piece_stand_outer",class:t.piece_stand_outer_class},[n("div",{staticClass:"location_mark",domProps:{innerHTML:t._s(t.location_name)}}),n("ul",{staticClass:"piece_stand",on:{click:function(e){e.stopPropagation(),t.$parent.piece_stand_click(t.location,e)},contextmenu:function(e){return e.preventDefault(),t.$parent.hold_cancel(e)}}},t._l(t.hold_pieces,function(e){var r=e[0],i=e[1];return n("li",{on:{click:function(e){e.stopPropagation(),t.$parent.piece_stand_piece_click(t.location,r,e)}}},[n("div",{staticClass:"piece_outer",class:t.piece_outer_class(r)},[n("div",{staticClass:"piece_inner_wrap"},[n("span",{staticClass:"piece_inner",class:t.piece_class(r)},[t._v(t._s(r.name))])])]),i>=2?n("span",{staticClass:"piece_count"},[t._v(t._s(i))]):t._e()])}))])},staticRenderFns:[]};e.a=r},TTBf:function(t,e,n){var r=n("e5D4")("meta"),i=n("0Rqa"),o=n("s0pp"),u=n("eY+q").f,a=0,s=Object.isExtensible||function(){return!0},c=!n("dPOy")(function(){return s(Object.preventExtensions({}))}),l=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!s(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&s(t)&&!o(t,r)&&l(t),t}}},"Tu+/":function(t,e,n){var r=n("szHS"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},VFUL:function(t,e,n){t.exports={default:n("qZ6Y"),__esModule:!0}},VShP:function(t,e,n){var r=n("s0pp"),i=n("W9cr"),o=n("W/3L")("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},"W/3L":function(t,e,n){var r=n("39Rn")("keys"),i=n("e5D4");t.exports=function(t){return r[t]||(r[t]=i(t))}},W9cr:function(t,e,n){var r=n("Hq0C");t.exports=function(t){return Object(r(t))}},WNBB:function(t,e,n){"use strict";e.__esModule=!0;var r=u(n("VFUL")),i=u(n("33D0")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},WVih:function(t,e,n){n("E6NZ"),n("JqaV"),n("85J4"),n("ztKH"),t.exports=n("szHS").Symbol},WcPy:function(t,e,n){var r=n("CXlO"),i=n("LEJ8").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},WtKA:function(t,e,n){var r=n("INr1");r(r.S+r.F*!n("gJiE"),"Object",{defineProperty:n("eY+q").f})},XJjB:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SfenSerializer=void 0;var i=_(n("Zrlr")),o=_(n("wxAW")),u=_(n("M4fF")),a=n("P4Jg"),s=n("KqNh"),c=n("M4xR"),l=n("kHiN"),f=n("iy8a");function _(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){(0,i.default)(this,t),this.mediator=e}return(0,o.default)(t,[{key:"to_s",get:function(){var t=[];return t.push(this.to_board_sfen),t.push(this.mediator.current_location.key[0]),t.push(this.to_hold_pieces),t.push(this.mediator.real_turn+1),t.join(" ")}},{key:"to_board_sfen",get:function(){var t=this,e=[];return u.default.times(f.Board.dimension,function(n){var r="",i=0;u.default.times(f.Board.dimension,function(e){var o=s.Place.fetch([e,n]),a=t.mediator.board.lookup(o);if(u.default.isNil(a))i++;else{i>=1&&(r+=i,i=0),a.promoted&&(r+="+");var c=a.piece.key;"white"===a.location.key&&(c=c.toLowerCase()),r+=c}}),i>=1&&(r+=i),e.push(r)}),e.join("/")}},{key:"to_hold_pieces",get:function(){var t=this,e=l.Location.values.map(function(e){var n=t.mediator.hold_pieces[e.key],r=a.Piece.values.map(function(t){var r=n[t.key]||0,i="";if(0===r)return null;r>=2&&(i+=r);var o=t.key;return i+=o="white"===e.key?o.toLowerCase():o.toUpperCase()});return u.default.compact(r).join("")}).join("");return u.default.isEmpty(e)&&(e="-"),e}}]),t}();if(e.SfenSerializer=d,t.argv[1]===r){var h=new c.Mediator;h.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",h.current_turn=1,h.run();new d(h)}}).call(e,n("W2nU"),"/index.js")},XXBo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n("woOf")),i=u(n("M4fF")),o=n("NYxO");function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:{slider_show:{type:Boolean,default:!1},controller_show:{type:Boolean,default:!1},key_event_capture:{type:Boolean,default:!1},shift_key_mag:{type:Number,default:10},system_key_mag:{type:Number,default:50},flip:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){window.addEventListener("keydown",this.keydown_hook,!1)},created:function(){this.$store.state.current_flip=this.flip},watch:{current_flip:function(t){this.$emit("update:flip",t)},flip:function(t){this.$store.state.current_flip=t}},methods:{keydown_hook:function(t){if(this.current_debug_mode,this.key_event_capture){var e=document.activeElement,n=[this.$refs.first,this.$refs.previous,this.$refs.next,this.$refs.last];(void 0===e||"BODY"===e.tagName||i.default.includes(n,e))&&("Backspace"!==t.code&&"ArrowUp"!==t.code&&"ArrowLeft"!==t.code&&"k"!==t.key&&"p"!==t.key&&"b"!==t.key||(this.relative_move(-1,t),t.preventDefault()),"Space"!==t.code&&"Enter"!==t.code&&"ArrowDown"!==t.code&&"ArrowRight"!==t.code&&"j"!==t.key&&"n"!==t.key&&"f"!==t.key||(this.relative_move(1,t),t.preventDefault()))}},navi_relative_move:function(t,e){this.relative_move(t*this.flip_sign,e)},relative_move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(e.shiftKey&&this.shift_key_mag&&(t*=this.shift_key_mag),(e.ctrlKey||e.altKey||e.metaKey)&&this.system_key_mag&&(t*=this.system_key_mag)),this.current_turn_add(t),this.focus_to("turn_slider")||(t>0?this.focus_to("next"):this.focus_to("previous"))},move_to_first:function(){this.current_turn_set(this.turn_min),this.focus_to("turn_slider")||this.focus_to("first")},move_to_last:function(){this.current_turn_set(this.turn_max),this.focus_to("turn_slider")||this.focus_to("last")},current_turn_add:function(t){this.current_turn_set(this.mediator.real_turn+t)},current_turn_set:function(t){var e=this.mediator.turn_clamp(t);this.real_turn!==e&&("view_mode"===this.current_run_mode&&this.view_mode_mediator_update(e),"play_mode"===this.current_run_mode&&(this.play_mode_mediator_seek_to(e),this.sound_call("piece_sound")))},focus_to:function(t){var e=this.$refs[t];return!!e&&(e.focus(),!0)},board_flip_run:function(){this.$store.commit("flip_toggle"),this.sound_call("flip_sound"),this.focus_to("turn_slider")}},computed:(0,r.default)({},{flip_sign:function(){return this.current_flip?-1:1}},(0,o.mapState)(["current_flip"]))}},Y5MO:function(t,e,n){n("s4P9");var r=n("szHS").Object;t.exports=function(t,e){return r.create(t,e)}},ZA4m:function(t,e){},ZXsH:function(t,e,n){var r=n("eY+q").f,i=n("s0pp"),o=n("aQ10")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},ZhRK:function(t,e,n){var r=n("9VA/"),i=n("Nc0F"),o=n("LEJ8"),u=n("W/3L")("IE_PROTO"),a=function(){},s="prototype",c=function(){var t,e=n("G3xy")("iframe"),r=o.length;for(e.style.display="none",n("uXnu").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c[s][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[s]=r(t),n=new a,a[s]=null,n[u]=t):n=c(),void 0===e?n:i(n,e)}},a0AN:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeInfo=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,null,[{key:"define",get:function(){return[{key:"none"},{key:"xx-small"},{key:"x-small"},{key:"small"},{key:"default"},{key:"medium"},{key:"large"},{key:"x-large"},{key:"xx-large"},{key:"xxx-large"}]}}]),e}(n("o44n").MemoryRecord);e.SizeInfo=l,t.argv[1]}).call(e,n("W2nU"),"/index.js")},a83v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("rQIc"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("SEMX"),a=n("VU/8")(i.a,u.a,!1,null,null,null);e.default=a.exports},aQ10:function(t,e,n){var r=n("39Rn")("wks"),i=n("e5D4"),o=n("nZBM").Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},azD8:function(t,e,n){var r=n("CXlO"),i=n("LEJ8");t.exports=Object.keys||function(t){return r(t,i)}},"b/M2":function(t,e,n){(function(t,r){var i;(function(){var o,u=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",_=1,d=2,h=4,p=1,v=2,m=1,y=2,g=4,b=8,k=16,w=32,P=64,x=128,S=256,C=512,j=30,O="...",M=800,L=16,N=1,R=2,z=1/0,E=9007199254740991,A=1.7976931348623157e308,I=NaN,B=4294967295,W=B-1,$=B>>>1,T=[["ary",x],["bind",m],["bindKey",y],["curry",b],["curryRight",k],["flip",C],["partial",w],["partialRight",P],["rearg",S]],G="[object Arguments]",F="[object Array]",D="[object AsyncFunction]",q="[object Boolean]",V="[object Date]",K="[object DOMException]",Z="[object Error]",H="[object Function]",U="[object GeneratorFunction]",J="[object Map]",X="[object Number]",Q="[object Null]",Y="[object Object]",tt="[object Promise]",et="[object Proxy]",nt="[object RegExp]",rt="[object Set]",it="[object String]",ot="[object Symbol]",ut="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ct="[object ArrayBuffer]",lt="[object DataView]",ft="[object Float32Array]",_t="[object Float64Array]",dt="[object Int8Array]",ht="[object Int16Array]",pt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",yt="[object Uint16Array]",gt="[object Uint32Array]",bt=/\b__p \+= '';/g,kt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Pt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,St=RegExp(Pt.source),Ct=RegExp(xt.source),jt=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(zt.source),At=/^\s+|\s+$/g,It=/^\s+/,Bt=/\s+$/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$t=/\{\n\/\* \[wrapped with (.+)\] \*/,Tt=/,? & /,Gt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ft=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Vt=/^[-+]0x[0-9a-f]+$/i,Kt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Yt="\\ud800-\\udfff",te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ee="\\u2700-\\u27bf",ne="a-z\\xdf-\\xf6\\xf8-\\xff",re="A-Z\\xc0-\\xd6\\xd8-\\xde",ie="\\ufe0e\\ufe0f",oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ue="['’]",ae="["+Yt+"]",se="["+oe+"]",ce="["+te+"]",le="\\d+",fe="["+ee+"]",_e="["+ne+"]",de="[^"+Yt+oe+le+ee+ne+re+"]",he="\\ud83c[\\udffb-\\udfff]",pe="[^"+Yt+"]",ve="(?:\\ud83c[\\udde6-\\uddff]){2}",me="[\\ud800-\\udbff][\\udc00-\\udfff]",ye="["+re+"]",ge="\\u200d",be="(?:"+_e+"|"+de+")",ke="(?:"+ye+"|"+de+")",we="(?:['’](?:d|ll|m|re|s|t|ve))?",Pe="(?:['’](?:D|LL|M|RE|S|T|VE))?",xe="(?:"+ce+"|"+he+")"+"?",Se="["+ie+"]?",Ce=Se+xe+("(?:"+ge+"(?:"+[pe,ve,me].join("|")+")"+Se+xe+")*"),je="(?:"+[fe,ve,me].join("|")+")"+Ce,Oe="(?:"+[pe+ce+"?",ce,ve,me,ae].join("|")+")",Me=RegExp(ue,"g"),Le=RegExp(ce,"g"),Ne=RegExp(he+"(?="+he+")|"+Oe+Ce,"g"),Re=RegExp([ye+"?"+_e+"+"+we+"(?="+[se,ye,"$"].join("|")+")",ke+"+"+Pe+"(?="+[se,ye+be,"$"].join("|")+")",ye+"?"+be+"+"+we,ye+"+"+Pe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",le,je].join("|"),"g"),ze=RegExp("["+ge+Yt+te+ie+"]"),Ee=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ie=-1,Be={};Be[ft]=Be[_t]=Be[dt]=Be[ht]=Be[pt]=Be[vt]=Be[mt]=Be[yt]=Be[gt]=!0,Be[G]=Be[F]=Be[ct]=Be[q]=Be[lt]=Be[V]=Be[Z]=Be[H]=Be[J]=Be[X]=Be[Y]=Be[nt]=Be[rt]=Be[it]=Be[at]=!1;var We={};We[G]=We[F]=We[ct]=We[lt]=We[q]=We[V]=We[ft]=We[_t]=We[dt]=We[ht]=We[pt]=We[J]=We[X]=We[Y]=We[nt]=We[rt]=We[it]=We[ot]=We[vt]=We[mt]=We[yt]=We[gt]=!0,We[Z]=We[H]=We[at]=!1;var $e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Te=parseFloat,Ge=parseInt,Fe="object"==typeof t&&t&&t.Object===Object&&t,De="object"==typeof self&&self&&self.Object===Object&&self,qe=Fe||De||Function("return this")(),Ve="object"==typeof e&&e&&!e.nodeType&&e,Ke=Ve&&"object"==typeof r&&r&&!r.nodeType&&r,Ze=Ke&&Ke.exports===Ve,He=Ze&&Fe.process,Ue=function(){try{var t=Ke&&Ke.require&&Ke.require("util").types;return t||He&&He.binding&&He.binding("util")}catch(t){}}(),Je=Ue&&Ue.isArrayBuffer,Xe=Ue&&Ue.isDate,Qe=Ue&&Ue.isMap,Ye=Ue&&Ue.isRegExp,tn=Ue&&Ue.isSet,en=Ue&&Ue.isTypedArray;function nn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function rn(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function on(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function un(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function an(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function sn(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function cn(t,e){return!!(null==t?0:t.length)&&gn(t,e,0)>-1}function ln(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function fn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function _n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function dn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function hn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vn=Pn("length");function mn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function yn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function gn(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):yn(t,kn,n)}function bn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function kn(t){return t!=t}function wn(t,e){var n=null==t?0:t.length;return n?Cn(t,e)/n:I}function Pn(t){return function(e){return null==e?o:e[t]}}function xn(t){return function(e){return null==t?o:t[e]}}function Sn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Cn(t,e){for(var n,r=-1,i=t.length;++r<i;){var u=e(t[r]);u!==o&&(n=n===o?u:n+u)}return n}function jn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function On(t){return function(e){return t(e)}}function Mn(t,e){return fn(e,function(e){return t[e]})}function Ln(t,e){return t.has(e)}function Nn(t,e){for(var n=-1,r=t.length;++n<r&&gn(e,t[n],0)>-1;);return n}function Rn(t,e){for(var n=t.length;n--&&gn(e,t[n],0)>-1;);return n}var zn=xn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),En=xn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function An(t){return"\\"+$e[t]}function In(t){return ze.test(t)}function Bn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Wn(t,e){return function(n){return t(e(n))}}function $n(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&u!==f||(t[n]=f,o[i++]=n)}return o}function Tn(t,e){return"__proto__"==e?o:t[e]}function Gn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Fn(t){return In(t)?function(t){var e=Ne.lastIndex=0;for(;Ne.test(t);)++e;return e}(t):vn(t)}function Dn(t){return In(t)?t.match(Ne)||[]:t.split("")}var qn=xn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Vn=function t(e){var n,r=(e=null==e?qe:Vn.defaults(qe.Object(),e,Vn.pick(qe,Ae))).Array,i=e.Date,Yt=e.Error,te=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,ue=r.prototype,ae=te.prototype,se=ne.prototype,ce=e["__core-js_shared__"],le=ae.toString,fe=se.hasOwnProperty,_e=0,de=(n=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",he=se.toString,pe=le.call(ne),ve=qe._,me=re("^"+le.call(fe).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=Ze?e.Buffer:o,ge=e.Symbol,be=e.Uint8Array,ke=ye?ye.allocUnsafe:o,we=Wn(ne.getPrototypeOf,ne),Pe=ne.create,xe=se.propertyIsEnumerable,Se=ue.splice,Ce=ge?ge.isConcatSpreadable:o,je=ge?ge.iterator:o,Oe=ge?ge.toStringTag:o,Ne=function(){try{var t=To(ne,"defineProperty");return t({},"",{}),t}catch(t){}}(),ze=e.clearTimeout!==qe.clearTimeout&&e.clearTimeout,$e=i&&i.now!==qe.Date.now&&i.now,Fe=e.setTimeout!==qe.setTimeout&&e.setTimeout,De=ee.ceil,Ve=ee.floor,Ke=ne.getOwnPropertySymbols,He=ye?ye.isBuffer:o,Ue=e.isFinite,vn=ue.join,xn=Wn(ne.keys,ne),Kn=ee.max,Zn=ee.min,Hn=i.now,Un=e.parseInt,Jn=ee.random,Xn=ue.reverse,Qn=To(e,"DataView"),Yn=To(e,"Map"),tr=To(e,"Promise"),er=To(e,"Set"),nr=To(e,"WeakMap"),rr=To(ne,"create"),ir=nr&&new nr,or={},ur=du(Qn),ar=du(Yn),sr=du(tr),cr=du(er),lr=du(nr),fr=ge?ge.prototype:o,_r=fr?fr.valueOf:o,dr=fr?fr.toString:o;function hr(t){if(La(t)&&!ga(t)&&!(t instanceof yr)){if(t instanceof mr)return t;if(fe.call(t,"__wrapped__"))return hu(t)}return new mr(t)}var pr=function(){function t(){}return function(e){if(!Ma(e))return{};if(Pe)return Pe(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function vr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new kr;++e<n;)this.add(t[e])}function Pr(t){var e=this.__data__=new br(t);this.size=e.size}function xr(t,e){var n=ga(t),r=!n&&ya(t),i=!n&&!r&&Pa(t),o=!n&&!r&&!i&&Wa(t),u=n||r||i||o,a=u?jn(t.length,ie):[],s=a.length;for(var c in t)!e&&!fe.call(t,c)||u&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zo(c,s))||a.push(c);return a}function Sr(t){var e=t.length;return e?t[wi(0,e-1)]:o}function Cr(t,e){return su(ro(t),Ar(e,0,t.length))}function jr(t){return su(ro(t))}function Or(t,e,n){(n===o||pa(t[e],n))&&(n!==o||e in t)||zr(t,e,n)}function Mr(t,e,n){var r=t[e];fe.call(t,e)&&pa(r,n)&&(n!==o||e in t)||zr(t,e,n)}function Lr(t,e){for(var n=t.length;n--;)if(pa(t[n][0],e))return n;return-1}function Nr(t,e,n,r){return Tr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Rr(t,e){return t&&io(e,us(e),t)}function zr(t,e,n){"__proto__"==e&&Ne?Ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Er(t,e){for(var n=-1,i=e.length,u=r(i),a=null==t;++n<i;)u[n]=a?o:es(t,e[n]);return u}function Ar(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Ir(t,e,n,r,i,u){var a,s=e&_,c=e&d,l=e&h;if(n&&(a=i?n(t,r,i,u):n(t)),a!==o)return a;if(!Ma(t))return t;var f,p,v,m,y,g,b,k,w,P=ga(t);if(P){if(b=t,k=b.length,w=new b.constructor(k),k&&"string"==typeof b[0]&&fe.call(b,"index")&&(w.index=b.index,w.input=b.input),a=w,!s)return ro(t,a)}else{var x=Do(t),S=x==H||x==U;if(Pa(t))return Xi(t,s);if(x==Y||x==G||S&&!i){if(a=c||S?{}:Vo(t),!s)return c?(v=t,g=t,m=(y=a)&&io(g,as(g),y),io(v,Fo(v),m)):(f=t,p=Rr(a,t),io(f,Go(f),p))}else{if(!We[x])return i?t:{};a=function(t,e,n){var r,i,o,u,a,s=t.constructor;switch(e){case ct:return Qi(t);case q:case V:return new s(+t);case lt:return u=t,a=n?Qi(u.buffer):u.buffer,new u.constructor(a,u.byteOffset,u.byteLength);case ft:case _t:case dt:case ht:case pt:case vt:case mt:case yt:case gt:return Yi(t,n);case J:return new s;case X:case it:return new s(t);case nt:return(o=new(i=t).constructor(i.source,qt.exec(i))).lastIndex=i.lastIndex,o;case rt:return new s;case ot:return r=t,_r?ne(_r.call(r)):{}}}(t,x,s)}}u||(u=new Pr);var C=u.get(t);if(C)return C;if(u.set(t,a),Aa(t))return t.forEach(function(r){a.add(Ir(r,e,n,r,t,u))}),a;if(Na(t))return t.forEach(function(r,i){a.set(i,Ir(r,e,n,i,t,u))}),a;var j=P?o:(l?c?zo:Ro:c?as:us)(t);return on(j||t,function(r,i){j&&(r=t[i=r]),Mr(a,i,Ir(r,e,n,i,t,u))}),a}function Br(t,e,n){var r=n.length;if(null==t)return!r;for(t=ne(t);r--;){var i=n[r],u=e[i],a=t[i];if(a===o&&!(i in t)||!u(a))return!1}return!0}function Wr(t,e,n){if("function"!=typeof t)throw new oe(s);return iu(function(){t.apply(o,n)},e)}function $r(t,e,n,r){var i=-1,o=cn,a=!0,s=t.length,c=[],l=e.length;if(!s)return c;n&&(e=fn(e,On(n))),r?(o=ln,a=!1):e.length>=u&&(o=Ln,a=!1,e=new wr(e));t:for(;++i<s;){var f=t[i],_=null==n?f:n(f);if(f=r||0!==f?f:0,a&&_==_){for(var d=l;d--;)if(e[d]===_)continue t;c.push(f)}else o(e,_,r)||c.push(f)}return c}hr.templateSettings={escape:jt,evaluate:Ot,interpolate:Mt,variable:"",imports:{_:hr}},hr.prototype=vr.prototype,hr.prototype.constructor=hr,mr.prototype=pr(vr.prototype),mr.prototype.constructor=mr,yr.prototype=pr(vr.prototype),yr.prototype.constructor=yr,gr.prototype.clear=function(){this.__data__=rr?rr(null):{},this.size=0},gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gr.prototype.get=function(t){var e=this.__data__;if(rr){var n=e[t];return n===c?o:n}return fe.call(e,t)?e[t]:o},gr.prototype.has=function(t){var e=this.__data__;return rr?e[t]!==o:fe.call(e,t)},gr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rr&&e===o?c:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=Lr(e,t);return!(n<0||(n==e.length-1?e.pop():Se.call(e,n,1),--this.size,0))},br.prototype.get=function(t){var e=this.__data__,n=Lr(e,t);return n<0?o:e[n][1]},br.prototype.has=function(t){return Lr(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=Lr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},kr.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new(Yn||br),string:new gr}},kr.prototype.delete=function(t){var e=Wo(this,t).delete(t);return this.size-=e?1:0,e},kr.prototype.get=function(t){return Wo(this,t).get(t)},kr.prototype.has=function(t){return Wo(this,t).has(t)},kr.prototype.set=function(t,e){var n=Wo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wr.prototype.add=wr.prototype.push=function(t){return this.__data__.set(t,c),this},wr.prototype.has=function(t){return this.__data__.has(t)},Pr.prototype.clear=function(){this.__data__=new br,this.size=0},Pr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pr.prototype.get=function(t){return this.__data__.get(t)},Pr.prototype.has=function(t){return this.__data__.has(t)},Pr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Yn||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kr(r)}return n.set(t,e),this.size=n.size,this};var Tr=ao(Hr),Gr=ao(Ur,!0);function Fr(t,e){var n=!0;return Tr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Dr(t,e,n){for(var r=-1,i=t.length;++r<i;){var u=t[r],a=e(u);if(null!=a&&(s===o?a==a&&!Ba(a):n(a,s)))var s=a,c=u}return c}function qr(t,e){var n=[];return Tr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Vr(t,e,n,r,i){var o=-1,u=t.length;for(n||(n=Ko),i||(i=[]);++o<u;){var a=t[o];e>0&&n(a)?e>1?Vr(a,e-1,n,r,i):_n(i,a):r||(i[i.length]=a)}return i}var Kr=so(),Zr=so(!0);function Hr(t,e){return t&&Kr(t,e,us)}function Ur(t,e){return t&&Zr(t,e,us)}function Jr(t,e){return sn(e,function(e){return Ca(t[e])})}function Xr(t,e){for(var n=0,r=(e=Zi(e,t)).length;null!=t&&n<r;)t=t[_u(e[n++])];return n&&n==r?t:o}function Qr(t,e,n){var r=e(t);return ga(t)?r:_n(r,n(t))}function Yr(t){return null==t?t===o?ut:Q:Oe&&Oe in ne(t)?function(t){var e=fe.call(t,Oe),n=t[Oe];try{t[Oe]=o;var r=!0}catch(t){}var i=he.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),i}(t):(e=t,he.call(e));var e}function ti(t,e){return t>e}function ei(t,e){return null!=t&&fe.call(t,e)}function ni(t,e){return null!=t&&e in ne(t)}function ri(t,e,n){for(var i=n?ln:cn,u=t[0].length,a=t.length,s=a,c=r(a),l=1/0,f=[];s--;){var _=t[s];s&&e&&(_=fn(_,On(e))),l=Zn(_.length,l),c[s]=!n&&(e||u>=120&&_.length>=120)?new wr(s&&_):o}_=t[0];var d=-1,h=c[0];t:for(;++d<u&&f.length<l;){var p=_[d],v=e?e(p):p;if(p=n||0!==p?p:0,!(h?Ln(h,v):i(f,v,n))){for(s=a;--s;){var m=c[s];if(!(m?Ln(m,v):i(t[s],v,n)))continue t}h&&h.push(v),f.push(p)}}return f}function ii(t,e,n){var r=null==(t=nu(t,e=Zi(e,t)))?t:t[_u(Su(e))];return null==r?o:nn(r,t,n)}function oi(t){return La(t)&&Yr(t)==G}function ui(t,e,n,r,i){return t===e||(null==t||null==e||!La(t)&&!La(e)?t!=t&&e!=e:function(t,e,n,r,i,u){var a=ga(t),s=ga(e),c=a?F:Do(t),l=s?F:Do(e),f=(c=c==G?Y:c)==Y,_=(l=l==G?Y:l)==Y,d=c==l;if(d&&Pa(t)){if(!Pa(e))return!1;a=!0,f=!1}if(d&&!f)return u||(u=new Pr),a||Wa(t)?Lo(t,e,n,r,i,u):function(t,e,n,r,i,o,u){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ct:return!(t.byteLength!=e.byteLength||!o(new be(t),new be(e)));case q:case V:case X:return pa(+t,+e);case Z:return t.name==e.name&&t.message==e.message;case nt:case it:return t==e+"";case J:var a=Bn;case rt:var s=r&p;if(a||(a=Gn),t.size!=e.size&&!s)return!1;var c=u.get(t);if(c)return c==e;r|=v,u.set(t,e);var l=Lo(a(t),a(e),r,i,o,u);return u.delete(t),l;case ot:if(_r)return _r.call(t)==_r.call(e)}return!1}(t,e,c,n,r,i,u);if(!(n&p)){var h=f&&fe.call(t,"__wrapped__"),m=_&&fe.call(e,"__wrapped__");if(h||m){var y=h?t.value():t,g=m?e.value():e;return u||(u=new Pr),i(y,g,n,r,u)}}return!!d&&(u||(u=new Pr),function(t,e,n,r,i,u){var a=n&p,s=Ro(t),c=s.length,l=Ro(e).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var _=s[f];if(!(a?_ in e:fe.call(e,_)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var h=!0;u.set(t,e),u.set(e,t);for(var v=a;++f<c;){_=s[f];var m=t[_],y=e[_];if(r)var g=a?r(y,m,_,e,t,u):r(m,y,_,t,e,u);if(!(g===o?m===y||i(m,y,n,r,u):g)){h=!1;break}v||(v="constructor"==_)}if(h&&!v){var b=t.constructor,k=e.constructor;b!=k&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof k&&k instanceof k)&&(h=!1)}return u.delete(t),u.delete(e),h}(t,e,n,r,i,u))}(t,e,n,r,ui,i))}function ai(t,e,n,r){var i=n.length,u=i,a=!r;if(null==t)return!u;for(t=ne(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<u;){var c=(s=n[i])[0],l=t[c],f=s[1];if(a&&s[2]){if(l===o&&!(c in t))return!1}else{var _=new Pr;if(r)var d=r(l,f,c,t,e,_);if(!(d===o?ui(f,l,p|v,r,_):d))return!1}}return!0}function si(t){return!(!Ma(t)||de&&de in t)&&(Ca(t)?me:Zt).test(du(t))}function ci(t){return"function"==typeof t?t:null==t?Rs:"object"==typeof t?ga(t)?pi(t[0],t[1]):hi(t):Gs(t)}function li(t){if(!Qo(t))return xn(t);var e=[];for(var n in ne(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function fi(t){if(!Ma(t))return function(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}(t);var e=Qo(t),n=[];for(var r in t)("constructor"!=r||!e&&fe.call(t,r))&&n.push(r);return n}function _i(t,e){return t<e}function di(t,e){var n=-1,i=ka(t)?r(t.length):[];return Tr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function hi(t){var e=$o(t);return 1==e.length&&e[0][2]?tu(e[0][0],e[0][1]):function(n){return n===t||ai(n,t,e)}}function pi(t,e){return Uo(t)&&Yo(e)?tu(_u(t),e):function(n){var r=es(n,t);return r===o&&r===e?ns(n,t):ui(e,r,p|v)}}function vi(t,e,n,r,i){t!==e&&Kr(e,function(u,a){if(Ma(u))i||(i=new Pr),function(t,e,n,r,i,u,a){var s=Tn(t,n),c=Tn(e,n),l=a.get(c);if(l)Or(t,n,l);else{var f=u?u(s,c,n+"",t,e,a):o,_=f===o;if(_){var d=ga(c),h=!d&&Pa(c),p=!d&&!h&&Wa(c);f=c,d||h||p?ga(s)?f=s:wa(s)?f=ro(s):h?(_=!1,f=Xi(c,!0)):p?(_=!1,f=Yi(c,!0)):f=[]:za(c)||ya(c)?(f=s,ya(s)?f=Ka(s):(!Ma(s)||r&&Ca(s))&&(f=Vo(c))):_=!1}_&&(a.set(c,f),i(f,c,r,u,a),a.delete(c)),Or(t,n,f)}}(t,e,a,n,vi,r,i);else{var s=r?r(Tn(t,a),u,a+"",t,e,i):o;s===o&&(s=u),Or(t,a,s)}},as)}function mi(t,e){var n=t.length;if(n)return Zo(e+=e<0?n:0,n)?t[e]:o}function yi(t,e,n){var r=-1;return e=fn(e.length?e:[Rs],On(Bo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(di(t,function(t,n,i){return{criteria:fn(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,u=i.length,a=n.length;++r<u;){var s=to(i[r],o[r]);if(s){if(r>=a)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function gi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var u=e[r],a=Xr(t,u);n(a,u)&&ji(o,Zi(u,t),a)}return o}function bi(t,e,n,r){var i=r?bn:gn,o=-1,u=e.length,a=t;for(t===e&&(e=ro(e)),n&&(a=fn(t,On(n)));++o<u;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(a,l,s,r))>-1;)a!==t&&Se.call(a,s,1),Se.call(t,s,1);return t}function ki(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Zo(i)?Se.call(t,i,1):$i(t,i)}}return t}function wi(t,e){return t+Ve(Jn()*(e-t+1))}function Pi(t,e){var n="";if(!t||e<1||e>E)return n;do{e%2&&(n+=t),(e=Ve(e/2))&&(t+=t)}while(e);return n}function xi(t,e){return ou(eu(t,e,Rs),t+"")}function Si(t){return Sr(ps(t))}function Ci(t,e){var n=ps(t);return su(n,Ar(e,0,n.length))}function ji(t,e,n,r){if(!Ma(t))return t;for(var i=-1,u=(e=Zi(e,t)).length,a=u-1,s=t;null!=s&&++i<u;){var c=_u(e[i]),l=n;if(i!=a){var f=s[c];(l=r?r(f,c,s):o)===o&&(l=Ma(f)?f:Zo(e[i+1])?[]:{})}Mr(s,c,l),s=s[c]}return t}var Oi=ir?function(t,e){return ir.set(t,e),t}:Rs,Mi=Ne?function(t,e){return Ne(t,"toString",{configurable:!0,enumerable:!1,value:Ms(e),writable:!0})}:Rs;function Li(t){return su(ps(t))}function Ni(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var u=r(o);++i<o;)u[i]=t[i+e];return u}function Ri(t,e){var n;return Tr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function zi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=$){for(;r<i;){var o=r+i>>>1,u=t[o];null!==u&&!Ba(u)&&(n?u<=e:u<e)?r=o+1:i=o}return i}return Ei(t,e,Rs,n)}function Ei(t,e,n,r){e=n(e);for(var i=0,u=null==t?0:t.length,a=e!=e,s=null===e,c=Ba(e),l=e===o;i<u;){var f=Ve((i+u)/2),_=n(t[f]),d=_!==o,h=null===_,p=_==_,v=Ba(_);if(a)var m=r||p;else m=l?p&&(r||d):s?p&&d&&(r||!h):c?p&&d&&!h&&(r||!v):!h&&!v&&(r?_<=e:_<e);m?i=f+1:u=f}return Zn(u,W)}function Ai(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n],a=e?e(u):u;if(!n||!pa(a,s)){var s=a;o[i++]=0===u?0:u}}return o}function Ii(t){return"number"==typeof t?t:Ba(t)?I:+t}function Bi(t){if("string"==typeof t)return t;if(ga(t))return fn(t,Bi)+"";if(Ba(t))return dr?dr.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}function Wi(t,e,n){var r=-1,i=cn,o=t.length,a=!0,s=[],c=s;if(n)a=!1,i=ln;else if(o>=u){var l=e?null:xo(t);if(l)return Gn(l);a=!1,i=Ln,c=new wr}else c=e?[]:s;t:for(;++r<o;){var f=t[r],_=e?e(f):f;if(f=n||0!==f?f:0,a&&_==_){for(var d=c.length;d--;)if(c[d]===_)continue t;e&&c.push(_),s.push(f)}else i(c,_,n)||(c!==s&&c.push(_),s.push(f))}return s}function $i(t,e){return null==(t=nu(t,e=Zi(e,t)))||delete t[_u(Su(e))]}function Ti(t,e,n,r){return ji(t,e,n(Xr(t,e)),r)}function Gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ni(t,r?0:o,r?o+1:i):Ni(t,r?o+1:0,r?i:o)}function Fi(t,e){var n=t;return n instanceof yr&&(n=n.value()),dn(e,function(t,e){return e.func.apply(e.thisArg,_n([t],e.args))},n)}function Di(t,e,n){var i=t.length;if(i<2)return i?Wi(t[0]):[];for(var o=-1,u=r(i);++o<i;)for(var a=t[o],s=-1;++s<i;)s!=o&&(u[o]=$r(u[o]||a,t[s],e,n));return Wi(Vr(u,1),e,n)}function qi(t,e,n){for(var r=-1,i=t.length,u=e.length,a={};++r<i;){var s=r<u?e[r]:o;n(a,t[r],s)}return a}function Vi(t){return wa(t)?t:[]}function Ki(t){return"function"==typeof t?t:Rs}function Zi(t,e){return ga(t)?t:Uo(t,e)?[t]:fu(Za(t))}var Hi=xi;function Ui(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Ni(t,e,n)}var Ji=ze||function(t){return qe.clearTimeout(t)};function Xi(t,e){if(e)return t.slice();var n=t.length,r=ke?ke(n):new t.constructor(n);return t.copy(r),r}function Qi(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Yi(t,e){var n=e?Qi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function to(t,e){if(t!==e){var n=t!==o,r=null===t,i=t==t,u=Ba(t),a=e!==o,s=null===e,c=e==e,l=Ba(e);if(!s&&!l&&!u&&t>e||u&&a&&c&&!s&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!u&&!l&&t<e||l&&n&&i&&!r&&!u||s&&n&&i||!a&&i||!c)return-1}return 0}function eo(t,e,n,i){for(var o=-1,u=t.length,a=n.length,s=-1,c=e.length,l=Kn(u-a,0),f=r(c+l),_=!i;++s<c;)f[s]=e[s];for(;++o<a;)(_||o<u)&&(f[n[o]]=t[o]);for(;l--;)f[s++]=t[o++];return f}function no(t,e,n,i){for(var o=-1,u=t.length,a=-1,s=n.length,c=-1,l=e.length,f=Kn(u-s,0),_=r(f+l),d=!i;++o<f;)_[o]=t[o];for(var h=o;++c<l;)_[h+c]=e[c];for(;++a<s;)(d||o<u)&&(_[h+n[a]]=t[o++]);return _}function ro(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function io(t,e,n,r){var i=!n;n||(n={});for(var u=-1,a=e.length;++u<a;){var s=e[u],c=r?r(n[s],t[s],s,n,t):o;c===o&&(c=t[s]),i?zr(n,s,c):Mr(n,s,c)}return n}function oo(t,e){return function(n,r){var i=ga(n)?rn:Nr,o=e?e():{};return i(n,t,Bo(r,2),o)}}function uo(t){return xi(function(e,n){var r=-1,i=n.length,u=i>1?n[i-1]:o,a=i>2?n[2]:o;for(u=t.length>3&&"function"==typeof u?(i--,u):o,a&&Ho(n[0],n[1],a)&&(u=i<3?o:u,i=1),e=ne(e);++r<i;){var s=n[r];s&&t(e,s,r,u)}return e})}function ao(t,e){return function(n,r){if(null==n)return n;if(!ka(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=ne(n);(e?o--:++o<i)&&!1!==r(u[o],o,u););return n}}function so(t){return function(e,n,r){for(var i=-1,o=ne(e),u=r(e),a=u.length;a--;){var s=u[t?a:++i];if(!1===n(o[s],s,o))break}return e}}function co(t){return function(e){var n=In(e=Za(e))?Dn(e):o,r=n?n[0]:e.charAt(0),i=n?Ui(n,1).join(""):e.slice(1);return r[t]()+i}}function lo(t){return function(e){return dn(Cs(ys(e).replace(Me,"")),t,"")}}function fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pr(t.prototype),r=t.apply(n,e);return Ma(r)?r:n}}function _o(t){return function(e,n,r){var i=ne(e);if(!ka(e)){var u=Bo(n,3);e=us(e),n=function(t){return u(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[u?e[a]:a]:o}}function ho(t){return No(function(e){var n=e.length,r=n,i=mr.prototype.thru;for(t&&e.reverse();r--;){var u=e[r];if("function"!=typeof u)throw new oe(s);if(i&&!a&&"wrapper"==Ao(u))var a=new mr([],!0)}for(r=a?r:n;++r<n;){var c=Ao(u=e[r]),l="wrapper"==c?Eo(u):o;a=l&&Jo(l[0])&&l[1]==(x|b|w|S)&&!l[4].length&&1==l[9]?a[Ao(l[0])].apply(a,l[3]):1==u.length&&Jo(u)?a[c]():a.thru(u)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&ga(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function po(t,e,n,i,u,a,s,c,l,f){var _=e&x,d=e&m,h=e&y,p=e&(b|k),v=e&C,g=h?o:fo(t);return function m(){for(var y=arguments.length,b=r(y),k=y;k--;)b[k]=arguments[k];if(p)var w=Io(m),P=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(i&&(b=eo(b,i,u,p)),a&&(b=no(b,a,s,p)),y-=P,p&&y<f){var x=$n(b,w);return wo(t,e,po,m.placeholder,n,b,x,c,l,f-y)}var S=d?n:this,C=h?S[t]:t;return y=b.length,c?b=function(t,e){for(var n=t.length,r=Zn(e.length,n),i=ro(t);r--;){var u=e[r];t[r]=Zo(u,n)?i[u]:o}return t}(b,c):v&&y>1&&b.reverse(),_&&l<y&&(b.length=l),this&&this!==qe&&this instanceof m&&(C=g||fo(C)),C.apply(S,b)}}function vo(t,e){return function(n,r){return i=n,o=t,u=e(r),a={},Hr(i,function(t,e,n){o(a,u(t),e,n)}),a;var i,o,u,a}}function mo(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Bi(n),r=Bi(r)):(n=Ii(n),r=Ii(r)),i=t(n,r)}return i}}function yo(t){return No(function(e){return e=fn(e,On(Bo())),xi(function(n){var r=this;return t(e,function(t){return nn(t,r,n)})})})}function go(t,e){var n=(e=e===o?" ":Bi(e)).length;if(n<2)return n?Pi(e,t):e;var r=Pi(e,De(t/Fn(e)));return In(e)?Ui(Dn(r),0,t).join(""):r.slice(0,t)}function bo(t){return function(e,n,i){return i&&"number"!=typeof i&&Ho(e,n,i)&&(n=i=o),e=Fa(e),n===o?(n=e,e=0):n=Fa(n),function(t,e,n,i){for(var o=-1,u=Kn(De((e-t)/(n||1)),0),a=r(u);u--;)a[i?u:++o]=t,t+=n;return a}(e,n,i=i===o?e<n?1:-1:Fa(i),t)}}function ko(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Va(e),n=Va(n)),t(e,n)}}function wo(t,e,n,r,i,u,a,s,c,l){var f=e&b;e|=f?w:P,(e&=~(f?P:w))&g||(e&=~(m|y));var _=[t,e,i,f?u:o,f?a:o,f?o:u,f?o:a,s,c,l],d=n.apply(o,_);return Jo(t)&&ru(d,_),d.placeholder=r,uu(d,t,e)}function Po(t){var e=ee[t];return function(t,n){if(t=Va(t),n=null==n?0:Zn(Da(n),292)){var r=(Za(t)+"e").split("e");return+((r=(Za(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var xo=er&&1/Gn(new er([,-0]))[1]==z?function(t){return new er(t)}:Bs;function So(t){return function(e){var n,r,i,o,u=Do(e);return u==J?Bn(e):u==rt?(n=e,r=-1,i=Array(n.size),n.forEach(function(t){i[++r]=[t,t]}),i):(o=e,fn(t(e),function(t){return[t,o[t]]}))}}function Co(t,e,n,i,u,a,c,l){var _=e&y;if(!_&&"function"!=typeof t)throw new oe(s);var d=i?i.length:0;if(d||(e&=~(w|P),i=u=o),c=c===o?c:Kn(Da(c),0),l=l===o?l:Da(l),d-=u?u.length:0,e&P){var h=i,p=u;i=u=o}var v,C,j,O,M,L,N,R,z,E,A,I,B,W=_?o:Eo(t),$=[t,e,n,i,u,h,p,a,c,l];if(W&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|y|x),u=r==x&&n==b||r==x&&n==S&&t[7].length<=e[8]||r==(x|S)&&e[7].length<=e[8]&&n==b;if(!o&&!u)return t;r&m&&(t[2]=e[2],i|=n&m?0:g);var a=e[3];if(a){var s=t[3];t[3]=s?eo(s,a,e[4]):a,t[4]=s?$n(t[3],f):e[4]}(a=e[5])&&(s=t[5],t[5]=s?no(s,a,e[6]):a,t[6]=s?$n(t[5],f):e[6]),(a=e[7])&&(t[7]=a),r&x&&(t[8]=null==t[8]?e[8]:Zn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}($,W),t=$[0],e=$[1],n=$[2],i=$[3],u=$[4],!(l=$[9]=$[9]===o?_?0:t.length:Kn($[9]-d,0))&&e&(b|k)&&(e&=~(b|k)),e&&e!=m)e==b||e==k?(N=e,R=l,z=fo(L=t),T=function t(){for(var e=arguments.length,n=r(e),i=e,u=Io(t);i--;)n[i]=arguments[i];var a=e<3&&n[0]!==u&&n[e-1]!==u?[]:$n(n,u);return(e-=a.length)<R?wo(L,N,po,t.placeholder,o,n,a,o,o,R-e):nn(this&&this!==qe&&this instanceof t?z:L,this,n)}):e!=w&&e!=(m|w)||u.length?T=po.apply(o,$):(C=n,j=i,O=e&m,M=fo(v=t),T=function t(){for(var e=-1,n=arguments.length,i=-1,o=j.length,u=r(o+n),a=this&&this!==qe&&this instanceof t?M:v;++i<o;)u[i]=j[i];for(;n--;)u[i++]=arguments[++e];return nn(a,O?C:this,u)});else var T=(A=n,I=e&m,B=fo(E=t),function t(){return(this&&this!==qe&&this instanceof t?B:E).apply(I?A:this,arguments)});return uu((W?Oi:ru)(T,$),t,e)}function jo(t,e,n,r){return t===o||pa(t,se[n])&&!fe.call(r,n)?e:t}function Oo(t,e,n,r,i,u){return Ma(t)&&Ma(e)&&(u.set(e,t),vi(t,e,o,Oo,u),u.delete(e)),t}function Mo(t){return za(t)?o:t}function Lo(t,e,n,r,i,u){var a=n&p,s=t.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var l=u.get(t);if(l&&u.get(e))return l==e;var f=-1,_=!0,d=n&v?new wr:o;for(u.set(t,e),u.set(e,t);++f<s;){var h=t[f],m=e[f];if(r)var y=a?r(m,h,f,e,t,u):r(h,m,f,t,e,u);if(y!==o){if(y)continue;_=!1;break}if(d){if(!pn(e,function(t,e){if(!Ln(d,e)&&(h===t||i(h,t,n,r,u)))return d.push(e)})){_=!1;break}}else if(h!==m&&!i(h,m,n,r,u)){_=!1;break}}return u.delete(t),u.delete(e),_}function No(t){return ou(eu(t,o,bu),t+"")}function Ro(t){return Qr(t,us,Go)}function zo(t){return Qr(t,as,Fo)}var Eo=ir?function(t){return ir.get(t)}:Bs;function Ao(t){for(var e=t.name+"",n=or[e],r=fe.call(or,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Io(t){return(fe.call(hr,"placeholder")?hr:t).placeholder}function Bo(){var t=hr.iteratee||zs;return t=t===zs?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Wo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function $o(t){for(var e=us(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Yo(i)]}return e}function To(t,e){var n,r=null==(n=t)?o:n[e];return si(r)?r:o}var Go=Ke?function(t){return null==t?[]:(t=ne(t),sn(Ke(t),function(e){return xe.call(t,e)}))}:qs,Fo=Ke?function(t){for(var e=[];t;)_n(e,Go(t)),t=we(t);return e}:qs,Do=Yr;function qo(t,e,n){for(var r=-1,i=(e=Zi(e,t)).length,o=!1;++r<i;){var u=_u(e[r]);if(!(o=null!=t&&n(t,u)))break;t=t[u]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Oa(i)&&Zo(u,i)&&(ga(t)||ya(t))}function Vo(t){return"function"!=typeof t.constructor||Qo(t)?{}:pr(we(t))}function Ko(t){return ga(t)||ya(t)||!!(Ce&&t&&t[Ce])}function Zo(t,e){var n=typeof t;return!!(e=null==e?E:e)&&("number"==n||"symbol"!=n&&Ut.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,n){if(!Ma(n))return!1;var r=typeof e;return!!("number"==r?ka(n)&&Zo(e,n.length):"string"==r&&e in n)&&pa(n[e],t)}function Uo(t,e){if(ga(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ba(t))||Nt.test(t)||!Lt.test(t)||null!=e&&t in ne(e)}function Jo(t){var e=Ao(t),n=hr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Eo(n);return!!r&&t===r[0]}(Qn&&Do(new Qn(new ArrayBuffer(1)))!=lt||Yn&&Do(new Yn)!=J||tr&&Do(tr.resolve())!=tt||er&&Do(new er)!=rt||nr&&Do(new nr)!=at)&&(Do=function(t){var e=Yr(t),n=e==Y?t.constructor:o,r=n?du(n):"";if(r)switch(r){case ur:return lt;case ar:return J;case sr:return tt;case cr:return rt;case lr:return at}return e});var Xo=ce?Ca:Vs;function Qo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Yo(t){return t==t&&!Ma(t)}function tu(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ne(n))}}function eu(t,e,n){return e=Kn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,u=Kn(i.length-e,0),a=r(u);++o<u;)a[o]=i[e+o];o=-1;for(var s=r(e+1);++o<e;)s[o]=i[o];return s[e]=n(a),nn(t,this,s)}}function nu(t,e){return e.length<2?t:Xr(t,Ni(e,0,-1))}var ru=au(Oi),iu=Fe||function(t,e){return qe.setTimeout(t,e)},ou=au(Mi);function uu(t,e,n){var r,i,o,u=e+"";return ou(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Wt,"{\n/* [wrapped with "+e+"] */\n")}(u,(o=u.match($t),r=o?o[1].split(Tt):[],i=n,on(T,function(t){var e="_."+t[0];i&t[1]&&!cn(r,e)&&r.push(e)}),r.sort())))}function au(t){var e=0,n=0;return function(){var r=Hn(),i=L-(r-n);if(n=r,i>0){if(++e>=M)return arguments[0]}else e=0;return t.apply(o,arguments)}}function su(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var u=wi(n,i),a=t[u];t[u]=t[n],t[n]=a}return t.length=e,t}var cu,lu,fu=(cu=ca(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Rt,function(t,n,r,i){e.push(r?i.replace(Ft,"$1"):n||t)}),e},function(t){return lu.size===l&&lu.clear(),t}),lu=cu.cache,cu);function _u(t){if("string"==typeof t||Ba(t))return t;var e=t+"";return"0"==e&&1/t==-z?"-0":e}function du(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function hu(t){if(t instanceof yr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pu=xi(function(t,e){return wa(t)?$r(t,Vr(e,1,wa,!0)):[]}),vu=xi(function(t,e){var n=Su(e);return wa(n)&&(n=o),wa(t)?$r(t,Vr(e,1,wa,!0),Bo(n,2)):[]}),mu=xi(function(t,e){var n=Su(e);return wa(n)&&(n=o),wa(t)?$r(t,Vr(e,1,wa,!0),o,n):[]});function yu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Da(n);return i<0&&(i=Kn(r+i,0)),yn(t,Bo(e,3),i)}function gu(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Da(n),i=n<0?Kn(r+i,0):Zn(i,r-1)),yn(t,Bo(e,3),i,!0)}function bu(t){return null!=t&&t.length?Vr(t,1):[]}function ku(t){return t&&t.length?t[0]:o}var wu=xi(function(t){var e=fn(t,Vi);return e.length&&e[0]===t[0]?ri(e):[]}),Pu=xi(function(t){var e=Su(t),n=fn(t,Vi);return e===Su(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ri(n,Bo(e,2)):[]}),xu=xi(function(t){var e=Su(t),n=fn(t,Vi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ri(n,o,e):[]});function Su(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Cu=xi(ju);function ju(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ou=No(function(t,e){var n=null==t?0:t.length,r=Er(t,e);return ki(t,fn(e,function(t){return Zo(t,n)?+t:t}).sort(to)),r});function Mu(t){return null==t?t:Xn.call(t)}var Lu=xi(function(t){return Wi(Vr(t,1,wa,!0))}),Nu=xi(function(t){var e=Su(t);return wa(e)&&(e=o),Wi(Vr(t,1,wa,!0),Bo(e,2))}),Ru=xi(function(t){var e=Su(t);return e="function"==typeof e?e:o,Wi(Vr(t,1,wa,!0),o,e)});function zu(t){if(!t||!t.length)return[];var e=0;return t=sn(t,function(t){if(wa(t))return e=Kn(t.length,e),!0}),jn(e,function(e){return fn(t,Pn(e))})}function Eu(t,e){if(!t||!t.length)return[];var n=zu(t);return null==e?n:fn(n,function(t){return nn(e,o,t)})}var Au=xi(function(t,e){return wa(t)?$r(t,e):[]}),Iu=xi(function(t){return Di(sn(t,wa))}),Bu=xi(function(t){var e=Su(t);return wa(e)&&(e=o),Di(sn(t,wa),Bo(e,2))}),Wu=xi(function(t){var e=Su(t);return e="function"==typeof e?e:o,Di(sn(t,wa),o,e)}),$u=xi(zu);var Tu=xi(function(t){var e=t.length,n=e>1?t[e-1]:o;return Eu(t,n="function"==typeof n?(t.pop(),n):o)});function Gu(t){var e=hr(t);return e.__chain__=!0,e}function Fu(t,e){return e(t)}var Du=No(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Zo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Fu,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var qu=oo(function(t,e,n){fe.call(t,n)?++t[n]:zr(t,n,1)});var Vu=_o(yu),Ku=_o(gu);function Zu(t,e){return(ga(t)?on:Tr)(t,Bo(e,3))}function Hu(t,e){return(ga(t)?un:Gr)(t,Bo(e,3))}var Uu=oo(function(t,e,n){fe.call(t,n)?t[n].push(e):zr(t,n,[e])});var Ju=xi(function(t,e,n){var i=-1,o="function"==typeof e,u=ka(t)?r(t.length):[];return Tr(t,function(t){u[++i]=o?nn(e,t,n):ii(t,e,n)}),u}),Xu=oo(function(t,e,n){zr(t,n,e)});function Qu(t,e){return(ga(t)?fn:di)(t,Bo(e,3))}var Yu=oo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ta=xi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ho(t,e[0],e[1])?e=[]:n>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,Vr(e,1),[])}),ea=$e||function(){return qe.Date.now()};function na(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Co(t,x,o,o,o,o,e)}function ra(t,e){var n;if("function"!=typeof e)throw new oe(s);return t=Da(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ia=xi(function(t,e,n){var r=m;if(n.length){var i=$n(n,Io(ia));r|=w}return Co(t,r,e,n,i)}),oa=xi(function(t,e,n){var r=m|y;if(n.length){var i=$n(n,Io(oa));r|=w}return Co(e,r,t,n,i)});function ua(t,e,n){var r,i,u,a,c,l,f=0,_=!1,d=!1,h=!0;if("function"!=typeof t)throw new oe(s);function p(e){var n=r,u=i;return r=i=o,f=e,a=t.apply(u,n)}function v(t){var n=t-l;return l===o||n>=e||n<0||d&&t-f>=u}function m(){var t,n,r=ea();if(v(r))return y(r);c=iu(m,(n=e-((t=r)-l),d?Zn(n,u-(t-f)):n))}function y(t){return c=o,h&&r?p(t):(r=i=o,a)}function g(){var t,n=ea(),u=v(n);if(r=arguments,i=this,l=n,u){if(c===o)return f=t=l,c=iu(m,e),_?p(t):a;if(d)return c=iu(m,e),p(l)}return c===o&&(c=iu(m,e)),a}return e=Va(e)||0,Ma(n)&&(_=!!n.leading,u=(d="maxWait"in n)?Kn(Va(n.maxWait)||0,e):u,h="trailing"in n?!!n.trailing:h),g.cancel=function(){c!==o&&Ji(c),f=0,r=l=i=c=o},g.flush=function(){return c===o?a:y(ea())},g}var aa=xi(function(t,e){return Wr(t,1,e)}),sa=xi(function(t,e,n){return Wr(t,Va(e)||0,n)});function ca(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(ca.Cache||kr),n}function la(t){if("function"!=typeof t)throw new oe(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ca.Cache=kr;var fa=Hi(function(t,e){var n=(e=1==e.length&&ga(e[0])?fn(e[0],On(Bo())):fn(Vr(e,1),On(Bo()))).length;return xi(function(r){for(var i=-1,o=Zn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return nn(t,this,r)})}),_a=xi(function(t,e){var n=$n(e,Io(_a));return Co(t,w,o,e,n)}),da=xi(function(t,e){var n=$n(e,Io(da));return Co(t,P,o,e,n)}),ha=No(function(t,e){return Co(t,S,o,o,o,e)});function pa(t,e){return t===e||t!=t&&e!=e}var va=ko(ti),ma=ko(function(t,e){return t>=e}),ya=oi(function(){return arguments}())?oi:function(t){return La(t)&&fe.call(t,"callee")&&!xe.call(t,"callee")},ga=r.isArray,ba=Je?On(Je):function(t){return La(t)&&Yr(t)==ct};function ka(t){return null!=t&&Oa(t.length)&&!Ca(t)}function wa(t){return La(t)&&ka(t)}var Pa=He||Vs,xa=Xe?On(Xe):function(t){return La(t)&&Yr(t)==V};function Sa(t){if(!La(t))return!1;var e=Yr(t);return e==Z||e==K||"string"==typeof t.message&&"string"==typeof t.name&&!za(t)}function Ca(t){if(!Ma(t))return!1;var e=Yr(t);return e==H||e==U||e==D||e==et}function ja(t){return"number"==typeof t&&t==Da(t)}function Oa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function Ma(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function La(t){return null!=t&&"object"==typeof t}var Na=Qe?On(Qe):function(t){return La(t)&&Do(t)==J};function Ra(t){return"number"==typeof t||La(t)&&Yr(t)==X}function za(t){if(!La(t)||Yr(t)!=Y)return!1;var e=we(t);if(null===e)return!0;var n=fe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==pe}var Ea=Ye?On(Ye):function(t){return La(t)&&Yr(t)==nt};var Aa=tn?On(tn):function(t){return La(t)&&Do(t)==rt};function Ia(t){return"string"==typeof t||!ga(t)&&La(t)&&Yr(t)==it}function Ba(t){return"symbol"==typeof t||La(t)&&Yr(t)==ot}var Wa=en?On(en):function(t){return La(t)&&Oa(t.length)&&!!Be[Yr(t)]};var $a=ko(_i),Ta=ko(function(t,e){return t<=e});function Ga(t){if(!t)return[];if(ka(t))return Ia(t)?Dn(t):ro(t);if(je&&t[je])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[je]());var e=Do(t);return(e==J?Bn:e==rt?Gn:ps)(t)}function Fa(t){return t?(t=Va(t))===z||t===-z?(t<0?-1:1)*A:t==t?t:0:0===t?t:0}function Da(t){var e=Fa(t),n=e%1;return e==e?n?e-n:e:0}function qa(t){return t?Ar(Da(t),0,B):0}function Va(t){if("number"==typeof t)return t;if(Ba(t))return I;if(Ma(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ma(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(At,"");var n=Kt.test(t);return n||Ht.test(t)?Ge(t.slice(2),n?2:8):Vt.test(t)?I:+t}function Ka(t){return io(t,as(t))}function Za(t){return null==t?"":Bi(t)}var Ha=uo(function(t,e){if(Qo(e)||ka(e))io(e,us(e),t);else for(var n in e)fe.call(e,n)&&Mr(t,n,e[n])}),Ua=uo(function(t,e){io(e,as(e),t)}),Ja=uo(function(t,e,n,r){io(e,as(e),t,r)}),Xa=uo(function(t,e,n,r){io(e,us(e),t,r)}),Qa=No(Er);var Ya=xi(function(t,e){t=ne(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Ho(e[0],e[1],i)&&(r=1);++n<r;)for(var u=e[n],a=as(u),s=-1,c=a.length;++s<c;){var l=a[s],f=t[l];(f===o||pa(f,se[l])&&!fe.call(t,l))&&(t[l]=u[l])}return t}),ts=xi(function(t){return t.push(o,Oo),nn(cs,o,t)});function es(t,e,n){var r=null==t?o:Xr(t,e);return r===o?n:r}function ns(t,e){return null!=t&&qo(t,e,ni)}var rs=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),t[e]=n},Ms(Rs)),is=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),fe.call(t,e)?t[e].push(n):t[e]=[n]},Bo),os=xi(ii);function us(t){return ka(t)?xr(t):li(t)}function as(t){return ka(t)?xr(t,!0):fi(t)}var ss=uo(function(t,e,n){vi(t,e,n)}),cs=uo(function(t,e,n,r){vi(t,e,n,r)}),ls=No(function(t,e){var n={};if(null==t)return n;var r=!1;e=fn(e,function(e){return e=Zi(e,t),r||(r=e.length>1),e}),io(t,zo(t),n),r&&(n=Ir(n,_|d|h,Mo));for(var i=e.length;i--;)$i(n,e[i]);return n});var fs=No(function(t,e){return null==t?{}:gi(n=t,e,function(t,e){return ns(n,e)});var n});function _s(t,e){if(null==t)return{};var n=fn(zo(t),function(t){return[t]});return e=Bo(e),gi(t,n,function(t,n){return e(t,n[0])})}var ds=So(us),hs=So(as);function ps(t){return null==t?[]:Mn(t,us(t))}var vs=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?ms(e):e)});function ms(t){return Ss(Za(t).toLowerCase())}function ys(t){return(t=Za(t))&&t.replace(Jt,zn).replace(Le,"")}var gs=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),bs=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ks=co("toLowerCase");var ws=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Ps=lo(function(t,e,n){return t+(n?" ":"")+Ss(e)});var xs=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ss=co("toUpperCase");function Cs(t,e,n){return t=Za(t),(e=n?o:e)===o?(r=t,Ee.test(r)?t.match(Re)||[]:t.match(Gt)||[]):t.match(e)||[];var r}var js=xi(function(t,e){try{return nn(t,o,e)}catch(t){return Sa(t)?t:new Yt(t)}}),Os=No(function(t,e){return on(e,function(e){e=_u(e),zr(t,e,ia(t[e],t))}),t});function Ms(t){return function(){return t}}var Ls=ho(),Ns=ho(!0);function Rs(t){return t}function zs(t){return ci("function"==typeof t?t:Ir(t,_))}var Es=xi(function(t,e){return function(n){return ii(n,t,e)}}),As=xi(function(t,e){return function(n){return ii(t,n,e)}});function Is(t,e,n){var r=us(e),i=Jr(e,r);null!=n||Ma(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Jr(e,us(e)));var o=!(Ma(n)&&"chain"in n&&!n.chain),u=Ca(t);return on(i,function(n){var r=e[n];t[n]=r,u&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ro(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,_n([this.value()],arguments))})}),t}function Bs(){}var Ws=yo(fn),$s=yo(an),Ts=yo(pn);function Gs(t){return Uo(t)?Pn(_u(t)):(e=t,function(t){return Xr(t,e)});var e}var Fs=bo(),Ds=bo(!0);function qs(){return[]}function Vs(){return!1}var Ks=mo(function(t,e){return t+e},0),Zs=Po("ceil"),Hs=mo(function(t,e){return t/e},1),Us=Po("floor");var Js,Xs=mo(function(t,e){return t*e},1),Qs=Po("round"),Ys=mo(function(t,e){return t-e},0);return hr.after=function(t,e){if("function"!=typeof e)throw new oe(s);return t=Da(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=na,hr.assign=Ha,hr.assignIn=Ua,hr.assignInWith=Ja,hr.assignWith=Xa,hr.at=Qa,hr.before=ra,hr.bind=ia,hr.bindAll=Os,hr.bindKey=oa,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ga(t)?t:[t]},hr.chain=Gu,hr.chunk=function(t,e,n){e=(n?Ho(t,e,n):e===o)?1:Kn(Da(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var u=0,a=0,s=r(De(i/e));u<i;)s[a++]=Ni(t,u,u+=e);return s},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return _n(ga(n)?ro(n):[n],Vr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=Bo();return t=e?fn(t,function(t){if("function"!=typeof t[1])throw new oe(s);return[n(t[0]),t[1]]}):[],xi(function(n){for(var r=-1;++r<e;){var i=t[r];if(nn(i[0],this,n))return nn(i[1],this,n)}})},hr.conforms=function(t){return e=Ir(t,_),n=us(e),function(t){return Br(t,e,n)};var e,n},hr.constant=Ms,hr.countBy=qu,hr.create=function(t,e){var n=pr(t);return null==e?n:Rr(n,e)},hr.curry=function t(e,n,r){var i=Co(e,b,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.curryRight=function t(e,n,r){var i=Co(e,k,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.debounce=ua,hr.defaults=Ya,hr.defaultsDeep=ts,hr.defer=aa,hr.delay=sa,hr.difference=pu,hr.differenceBy=vu,hr.differenceWith=mu,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=n||e===o?1:Da(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,0,(e=r-(e=n||e===o?1:Da(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?Gi(t,Bo(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?Gi(t,Bo(e,3),!0):[]},hr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ho(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Da(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Da(r))<0&&(r+=i),r=n>r?0:qa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(ga(t)?sn:qr)(t,Bo(e,3))},hr.flatMap=function(t,e){return Vr(Qu(t,e),1)},hr.flatMapDeep=function(t,e){return Vr(Qu(t,e),z)},hr.flatMapDepth=function(t,e,n){return n=n===o?1:Da(n),Vr(Qu(t,e),n)},hr.flatten=bu,hr.flattenDeep=function(t){return null!=t&&t.length?Vr(t,z):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?Vr(t,e=e===o?1:Da(e)):[]},hr.flip=function(t){return Co(t,C)},hr.flow=Ls,hr.flowRight=Ns,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:Jr(t,us(t))},hr.functionsIn=function(t){return null==t?[]:Jr(t,as(t))},hr.groupBy=Uu,hr.initial=function(t){return null!=t&&t.length?Ni(t,0,-1):[]},hr.intersection=wu,hr.intersectionBy=Pu,hr.intersectionWith=xu,hr.invert=rs,hr.invertBy=is,hr.invokeMap=Ju,hr.iteratee=zs,hr.keyBy=Xu,hr.keys=us,hr.keysIn=as,hr.map=Qu,hr.mapKeys=function(t,e){var n={};return e=Bo(e,3),Hr(t,function(t,r,i){zr(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=Bo(e,3),Hr(t,function(t,r,i){zr(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(Ir(t,_))},hr.matchesProperty=function(t,e){return pi(t,Ir(e,_))},hr.memoize=ca,hr.merge=ss,hr.mergeWith=cs,hr.method=Es,hr.methodOf=As,hr.mixin=Is,hr.negate=la,hr.nthArg=function(t){return t=Da(t),xi(function(e){return mi(e,t)})},hr.omit=ls,hr.omitBy=function(t,e){return _s(t,la(Bo(e)))},hr.once=function(t){return ra(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(ga(e)||(e=null==e?[]:[e]),ga(n=r?o:n)||(n=null==n?[]:[n]),yi(t,e,n))},hr.over=Ws,hr.overArgs=fa,hr.overEvery=$s,hr.overSome=Ts,hr.partial=_a,hr.partialRight=da,hr.partition=Yu,hr.pick=fs,hr.pickBy=_s,hr.property=Gs,hr.propertyOf=function(t){return function(e){return null==t?o:Xr(t,e)}},hr.pull=Cu,hr.pullAll=ju,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,Bo(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,o,n):t},hr.pullAt=Ou,hr.range=Fs,hr.rangeRight=Ds,hr.rearg=ha,hr.reject=function(t,e){return(ga(t)?sn:qr)(t,la(Bo(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Bo(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return ki(t,i),n},hr.rest=function(t,e){if("function"!=typeof t)throw new oe(s);return xi(t,e=e===o?e:Da(e))},hr.reverse=Mu,hr.sampleSize=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Da(e),(ga(t)?Cr:Ci)(t,e)},hr.set=function(t,e,n){return null==t?t:ji(t,e,n)},hr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ji(t,e,n,r)},hr.shuffle=function(t){return(ga(t)?jr:Li)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ho(t,e,n)?(e=0,n=r):(e=null==e?0:Da(e),n=n===o?r:Da(n)),Ni(t,e,n)):[]},hr.sortBy=ta,hr.sortedUniq=function(t){return t&&t.length?Ai(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Ai(t,Bo(e,2)):[]},hr.split=function(t,e,n){return n&&"number"!=typeof n&&Ho(t,e,n)&&(e=n=o),(n=n===o?B:n>>>0)?(t=Za(t))&&("string"==typeof e||null!=e&&!Ea(e))&&!(e=Bi(e))&&In(t)?Ui(Dn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if("function"!=typeof t)throw new oe(s);return e=null==e?0:Kn(Da(e),0),xi(function(n){var r=n[e],i=Ui(n,0,e);return r&&_n(i,r),nn(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?Ni(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?Ni(t,0,(e=n||e===o?1:Da(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=r-(e=n||e===o?1:Da(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?Gi(t,Bo(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?Gi(t,Bo(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oe(s);return Ma(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ua(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=Fu,hr.toArray=Ga,hr.toPairs=ds,hr.toPairsIn=hs,hr.toPath=function(t){return ga(t)?fn(t,_u):Ba(t)?[t]:ro(fu(Za(t)))},hr.toPlainObject=Ka,hr.transform=function(t,e,n){var r=ga(t),i=r||Pa(t)||Wa(t);if(e=Bo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ma(t)&&Ca(o)?pr(we(t)):{}}return(i?on:Hr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return na(t,1)},hr.union=Lu,hr.unionBy=Nu,hr.unionWith=Ru,hr.uniq=function(t){return t&&t.length?Wi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Wi(t,Bo(e,2)):[]},hr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Wi(t,o,e):[]},hr.unset=function(t,e){return null==t||$i(t,e)},hr.unzip=zu,hr.unzipWith=Eu,hr.update=function(t,e,n){return null==t?t:Ti(t,e,Ki(n))},hr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Ti(t,e,Ki(n),r)},hr.values=ps,hr.valuesIn=function(t){return null==t?[]:Mn(t,as(t))},hr.without=Au,hr.words=Cs,hr.wrap=function(t,e){return _a(Ki(e),t)},hr.xor=Iu,hr.xorBy=Bu,hr.xorWith=Wu,hr.zip=$u,hr.zipObject=function(t,e){return qi(t||[],e||[],Mr)},hr.zipObjectDeep=function(t,e){return qi(t||[],e||[],ji)},hr.zipWith=Tu,hr.entries=ds,hr.entriesIn=hs,hr.extend=Ua,hr.extendWith=Ja,Is(hr,hr),hr.add=Ks,hr.attempt=js,hr.camelCase=vs,hr.capitalize=ms,hr.ceil=Zs,hr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Va(n))==n?n:0),e!==o&&(e=(e=Va(e))==e?e:0),Ar(Va(t),e,n)},hr.clone=function(t){return Ir(t,h)},hr.cloneDeep=function(t){return Ir(t,_|h)},hr.cloneDeepWith=function(t,e){return Ir(t,_|h,e="function"==typeof e?e:o)},hr.cloneWith=function(t,e){return Ir(t,h,e="function"==typeof e?e:o)},hr.conformsTo=function(t,e){return null==e||Br(t,e,us(e))},hr.deburr=ys,hr.defaultTo=function(t,e){return null==t||t!=t?e:t},hr.divide=Hs,hr.endsWith=function(t,e,n){t=Za(t),e=Bi(e);var r=t.length,i=n=n===o?r:Ar(Da(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},hr.eq=pa,hr.escape=function(t){return(t=Za(t))&&Ct.test(t)?t.replace(xt,En):t},hr.escapeRegExp=function(t){return(t=Za(t))&&Et.test(t)?t.replace(zt,"\\$&"):t},hr.every=function(t,e,n){var r=ga(t)?an:Fr;return n&&Ho(t,e,n)&&(e=o),r(t,Bo(e,3))},hr.find=Vu,hr.findIndex=yu,hr.findKey=function(t,e){return mn(t,Bo(e,3),Hr)},hr.findLast=Ku,hr.findLastIndex=gu,hr.findLastKey=function(t,e){return mn(t,Bo(e,3),Ur)},hr.floor=Us,hr.forEach=Zu,hr.forEachRight=Hu,hr.forIn=function(t,e){return null==t?t:Kr(t,Bo(e,3),as)},hr.forInRight=function(t,e){return null==t?t:Zr(t,Bo(e,3),as)},hr.forOwn=function(t,e){return t&&Hr(t,Bo(e,3))},hr.forOwnRight=function(t,e){return t&&Ur(t,Bo(e,3))},hr.get=es,hr.gt=va,hr.gte=ma,hr.has=function(t,e){return null!=t&&qo(t,e,ei)},hr.hasIn=ns,hr.head=ku,hr.identity=Rs,hr.includes=function(t,e,n,r){t=ka(t)?t:ps(t),n=n&&!r?Da(n):0;var i=t.length;return n<0&&(n=Kn(i+n,0)),Ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&gn(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Da(n);return i<0&&(i=Kn(r+i,0)),gn(t,e,i)},hr.inRange=function(t,e,n){return e=Fa(e),n===o?(n=e,e=0):n=Fa(n),t=Va(t),(r=t)>=Zn(i=e,u=n)&&r<Kn(i,u);var r,i,u},hr.invoke=os,hr.isArguments=ya,hr.isArray=ga,hr.isArrayBuffer=ba,hr.isArrayLike=ka,hr.isArrayLikeObject=wa,hr.isBoolean=function(t){return!0===t||!1===t||La(t)&&Yr(t)==q},hr.isBuffer=Pa,hr.isDate=xa,hr.isElement=function(t){return La(t)&&1===t.nodeType&&!za(t)},hr.isEmpty=function(t){if(null==t)return!0;if(ka(t)&&(ga(t)||"string"==typeof t||"function"==typeof t.splice||Pa(t)||Wa(t)||ya(t)))return!t.length;var e=Do(t);if(e==J||e==rt)return!t.size;if(Qo(t))return!li(t).length;for(var n in t)if(fe.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return ui(t,e)},hr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?ui(t,e,o,n):!!r},hr.isError=Sa,hr.isFinite=function(t){return"number"==typeof t&&Ue(t)},hr.isFunction=Ca,hr.isInteger=ja,hr.isLength=Oa,hr.isMap=Na,hr.isMatch=function(t,e){return t===e||ai(t,e,$o(e))},hr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,ai(t,e,$o(e),n)},hr.isNaN=function(t){return Ra(t)&&t!=+t},hr.isNative=function(t){if(Xo(t))throw new Yt(a);return si(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=Ra,hr.isObject=Ma,hr.isObjectLike=La,hr.isPlainObject=za,hr.isRegExp=Ea,hr.isSafeInteger=function(t){return ja(t)&&t>=-E&&t<=E},hr.isSet=Aa,hr.isString=Ia,hr.isSymbol=Ba,hr.isTypedArray=Wa,hr.isUndefined=function(t){return t===o},hr.isWeakMap=function(t){return La(t)&&Do(t)==at},hr.isWeakSet=function(t){return La(t)&&Yr(t)==st},hr.join=function(t,e){return null==t?"":vn.call(t,e)},hr.kebabCase=gs,hr.last=Su,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Da(n))<0?Kn(r+i,0):Zn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):yn(t,kn,i,!0)},hr.lowerCase=bs,hr.lowerFirst=ks,hr.lt=$a,hr.lte=Ta,hr.max=function(t){return t&&t.length?Dr(t,Rs,ti):o},hr.maxBy=function(t,e){return t&&t.length?Dr(t,Bo(e,2),ti):o},hr.mean=function(t){return wn(t,Rs)},hr.meanBy=function(t,e){return wn(t,Bo(e,2))},hr.min=function(t){return t&&t.length?Dr(t,Rs,_i):o},hr.minBy=function(t,e){return t&&t.length?Dr(t,Bo(e,2),_i):o},hr.stubArray=qs,hr.stubFalse=Vs,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Xs,hr.nth=function(t,e){return t&&t.length?mi(t,Da(e)):o},hr.noConflict=function(){return qe._===this&&(qe._=ve),this},hr.noop=Bs,hr.now=ea,hr.pad=function(t,e,n){t=Za(t);var r=(e=Da(e))?Fn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return go(Ve(i),n)+t+go(De(i),n)},hr.padEnd=function(t,e,n){t=Za(t);var r=(e=Da(e))?Fn(t):0;return e&&r<e?t+go(e-r,n):t},hr.padStart=function(t,e,n){t=Za(t);var r=(e=Da(e))?Fn(t):0;return e&&r<e?go(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Un(Za(t).replace(It,""),e||0)},hr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ho(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Fa(t),e===o?(e=t,t=0):e=Fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Jn();return Zn(t+i*(e-t+Te("1e-"+((i+"").length-1))),e)}return wi(t,e)},hr.reduce=function(t,e,n){var r=ga(t)?dn:Sn,i=arguments.length<3;return r(t,Bo(e,4),n,i,Tr)},hr.reduceRight=function(t,e,n){var r=ga(t)?hn:Sn,i=arguments.length<3;return r(t,Bo(e,4),n,i,Gr)},hr.repeat=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Da(e),Pi(Za(t),e)},hr.replace=function(){var t=arguments,e=Za(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,i=(e=Zi(e,t)).length;for(i||(i=1,t=o);++r<i;){var u=null==t?o:t[_u(e[r])];u===o&&(r=i,u=n),t=Ca(u)?u.call(t):u}return t},hr.round=Qs,hr.runInContext=t,hr.sample=function(t){return(ga(t)?Sr:Si)(t)},hr.size=function(t){if(null==t)return 0;if(ka(t))return Ia(t)?Fn(t):t.length;var e=Do(t);return e==J||e==rt?t.size:li(t).length},hr.snakeCase=ws,hr.some=function(t,e,n){var r=ga(t)?pn:Ri;return n&&Ho(t,e,n)&&(e=o),r(t,Bo(e,3))},hr.sortedIndex=function(t,e){return zi(t,e)},hr.sortedIndexBy=function(t,e,n){return Ei(t,e,Bo(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=zi(t,e);if(r<n&&pa(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return zi(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Ei(t,e,Bo(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=zi(t,e,!0)-1;if(pa(t[n],e))return n}return-1},hr.startCase=Ps,hr.startsWith=function(t,e,n){return t=Za(t),n=null==n?0:Ar(Da(n),0,t.length),e=Bi(e),t.slice(n,n+e.length)==e},hr.subtract=Ys,hr.sum=function(t){return t&&t.length?Cn(t,Rs):0},hr.sumBy=function(t,e){return t&&t.length?Cn(t,Bo(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Ho(t,e,n)&&(e=o),t=Za(t),e=Ja({},e,r,jo);var i,u,a=Ja({},e.imports,r.imports,jo),s=us(a),c=Mn(a,s),l=0,f=e.interpolate||Xt,_="__p += '",d=re((e.escape||Xt).source+"|"+f.source+"|"+(f===Mt?Dt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ie+"]")+"\n";t.replace(d,function(e,n,r,o,a,s){return r||(r=o),_+=t.slice(l,s).replace(Qt,An),n&&(i=!0,_+="' +\n__e("+n+") +\n'"),a&&(u=!0,_+="';\n"+a+";\n__p += '"),r&&(_+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),_+="';\n";var p=e.variable;p||(_="with (obj) {\n"+_+"\n}\n"),_=(u?_.replace(bt,""):_).replace(kt,"$1").replace(wt,"$1;"),_="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+_+"return __p\n}";var v=js(function(){return te(s,h+"return "+_).apply(o,c)});if(v.source=_,Sa(v))throw v;return v},hr.times=function(t,e){if((t=Da(t))<1||t>E)return[];var n=B,r=Zn(t,B);e=Bo(e),t-=B;for(var i=jn(r,e);++n<t;)e(n);return i},hr.toFinite=Fa,hr.toInteger=Da,hr.toLength=qa,hr.toLower=function(t){return Za(t).toLowerCase()},hr.toNumber=Va,hr.toSafeInteger=function(t){return t?Ar(Da(t),-E,E):0===t?t:0},hr.toString=Za,hr.toUpper=function(t){return Za(t).toUpperCase()},hr.trim=function(t,e,n){if((t=Za(t))&&(n||e===o))return t.replace(At,"");if(!t||!(e=Bi(e)))return t;var r=Dn(t),i=Dn(e);return Ui(r,Nn(r,i),Rn(r,i)+1).join("")},hr.trimEnd=function(t,e,n){if((t=Za(t))&&(n||e===o))return t.replace(Bt,"");if(!t||!(e=Bi(e)))return t;var r=Dn(t);return Ui(r,0,Rn(r,Dn(e))+1).join("")},hr.trimStart=function(t,e,n){if((t=Za(t))&&(n||e===o))return t.replace(It,"");if(!t||!(e=Bi(e)))return t;var r=Dn(t);return Ui(r,Nn(r,Dn(e))).join("")},hr.truncate=function(t,e){var n=j,r=O;if(Ma(e)){var i="separator"in e?e.separator:i;n="length"in e?Da(e.length):n,r="omission"in e?Bi(e.omission):r}var u=(t=Za(t)).length;if(In(t)){var a=Dn(t);u=a.length}if(n>=u)return t;var s=n-Fn(r);if(s<1)return r;var c=a?Ui(a,0,s).join(""):t.slice(0,s);if(i===o)return c+r;if(a&&(s+=c.length-s),Ea(i)){if(t.slice(s).search(i)){var l,f=c;for(i.global||(i=re(i.source,Za(qt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var _=l.index;c=c.slice(0,_===o?s:_)}}else if(t.indexOf(Bi(i),s)!=s){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},hr.unescape=function(t){return(t=Za(t))&&St.test(t)?t.replace(Pt,qn):t},hr.uniqueId=function(t){var e=++_e;return Za(t)+e},hr.upperCase=xs,hr.upperFirst=Ss,hr.each=Zu,hr.eachRight=Hu,hr.first=ku,Is(hr,(Js={},Hr(hr,function(t,e){fe.call(hr.prototype,e)||(Js[e]=t)}),Js),{chain:!1}),hr.VERSION="4.17.10",on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){hr[t].placeholder=hr}),on(["drop","take"],function(t,e){yr.prototype[t]=function(n){n=n===o?1:Kn(Da(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Zn(n,r.__takeCount__):r.__views__.push({size:Zn(n,B),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),on(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==N||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Bo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),on(["head","last"],function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}}),on(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Rs)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=xi(function(t,e){return"function"==typeof t?new yr(this):this.map(function(n){return ii(n,t,e)})}),yr.prototype.reject=function(t){return this.filter(la(Bo(t)))},yr.prototype.slice=function(t,e){t=Da(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Da(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(B)},Hr(yr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=hr[r?"take"+("last"==e?"Right":""):e],u=r||/^find/.test(e);i&&(hr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof yr,c=a[0],l=s||ga(e),f=function(t){var e=i.apply(hr,_n([t],a));return r&&_?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var _=this.__chain__,d=!!this.__actions__.length,h=u&&!_,p=s&&!d;if(!u&&l){e=p?e:new yr(this);var v=t.apply(e,a);return v.__actions__.push({func:Fu,args:[f],thisArg:o}),new mr(v,_)}return h&&p?t.apply(this,a):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})}),on(["pop","push","shift","sort","splice","unshift"],function(t){var e=ue[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ga(i)?i:[],t)}return this[n](function(n){return e.apply(ga(n)?n:[],t)})}}),Hr(yr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+"";(or[r]||(or[r]=[])).push({name:e,func:n})}}),or[po(o,y).name]=[{name:"wrapper",func:o}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ro(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ga(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":e-=u;break;case"take":e=Zn(e,t+u);break;case"takeRight":t=Kn(t,e-u)}}return{start:t,end:e}}(0,i,this.__views__),u=o.start,a=o.end,s=a-u,c=r?a:u-1,l=this.__iteratees__,f=l.length,_=0,d=Zn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return Fi(t,this.__actions__);var h=[];t:for(;s--&&_<d;){for(var p=-1,v=t[c+=e];++p<f;){var m=l[p],y=m.iteratee,g=m.type,b=y(v);if(g==R)v=b;else if(!b){if(g==N)continue t;break t}}h[_++]=v}return h},hr.prototype.at=Du,hr.prototype.chain=function(){return Gu(this)},hr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof vr;){var r=hu(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Fu,args:[Mu],thisArg:o}),new mr(e,this.__chain__)}return this.thru(Mu)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return Fi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,je&&(hr.prototype[je]=function(){return this}),hr}();qe._=Vn,(i=function(){return Vn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},b4Bz:function(t,e,n){var r=n("j4j3"),i=n("Hq0C");t.exports=function(t){return r(i(t))}},beUO:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._m(1),n("div",{staticClass:"section"},[n("a",{attrs:{name:"examples"}}),n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("デモ")]),n("hr"),n("div",{staticClass:"section"},[n("div",{staticClass:"container has-text-centered"},[n("h3",{staticClass:"title has-text-left"},[t._v("1. 再生モード")]),n("hr"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[t._m(2),n("h3",{staticClass:"title yumincho"},[t._v("藤井聡太四段 vs 佐藤天彦名人")]),t._m(3),n("hr"),n("ShogiPlayer",{staticClass:"original",attrs:{kifu_body:t.kif_sample1,start_turn:9,slider_show:!0,theme:"real",size:"large",variation:"a",sound_effect:!0,volume:.25,debug_mode:!1}})],1)]),n("br"),n("br"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[t._m(4),n("h3",{staticClass:"title yumincho"},[t._v("羽生善治名人 vs 渡辺明竜王")]),n("p",{staticClass:"subtitle yumincho"},[t._v("第21期竜王戦七番勝負第4局")]),n("hr"),n("ShogiPlayer",{attrs:{kifu_body:"position startpos moves 2g2f 8c8d 2f2e 8d8e 6i7h 4a3b 2e2d 2c2d 2h2d P*2c 2d2h 7a7b 3i3h 3c3d 9g9f 9c9d 1g1f 1c1d 3h2g 8e8f 8g8f 8b8f P*8g 8f8d 2g3f 5a5b 7g7f 7c7d 8h2b+ 3a2b 7i8h 7b7c 8h7g 7c6d 3f4e 7d7e 4e5f 2b3c 6g6f 3c4d 5f6g 6a7b 5i6h 8a7c 4i5h 2a3c 6h7i 7e7f 6g7f 4d5e P*7e 9d9e B*7d P*8h 7i8h 7b8c 9f9e 8c7d 7e7d 8d7d P*7e 7d8d 5h6g P*7d 7e7d 8d7d P*7e 6d7e 7f7e 7d7e 7g7f 7e7d S*7e 7d4d P*7d 4d4g+ P*2d 2c2d 7d7c+ 4g4i 2h2d P*2c 2d3d 4c4d P*7i 5b4c 3d3e S*4e 6g5f P*7g 8i7g P*3d 3e4e 3c4e 5f5e R*2h N*3f 2h7h+ 8h9g 4e5g+ 5e4d 4i4d S*5b 4c5d 7i7h 4d4i G*6e 5d4e R*4d 4e5f 4d4i G*4h S*3h 4h4i R*5e 5f4f 3h4i G*4e P*4g 5g4g P*4h 4g3g 2i3g 4f3g 5e4e R*8i G*3h 3g3f G*4f 3f2f 9i9h 8i4i+ P*3i S*2i 3h2h 4i3i",start_turn:-1,theme:"real",variation:"p"}})],1),n("div",{staticClass:"column"},[t._m(5),n("h3",{staticClass:"title yumincho"},[t._v("藤井猛六段 vs 井上慶太六段")]),n("p",{staticClass:"subtitle yumincho"},[t._v("第54期順位戦B級2組7回戦")]),n("hr"),n("ShogiPlayer",{attrs:{kifu_body:"position startpos moves 7g7f 8c8d 2h6h 3c3d 6g6f 7a6b 3i3h 5a4b 4g4f 4b3b 3g3f 2b3c 1g1f 8d8e 8h7g 3b2b 7i7h 5c5d 7h6g 6a5b 2i3g 1a1b 6g5f 5d5e 5f4e 8b8d 3f3e 3d3e 3g2e 3c4d 6f6e 2c2d 6e6d 2d2e 4e4d 4c4d 7g5e N*3b P*3c 2b3c B*4e P*5d 5e6f 3c2b 6f8d 4d4e 6d6c+",start_turn:0,slider_show:!0,theme:"real",variation:"g"}})],1)]),n("br"),n("br"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[t._m(6),n("h3",{staticClass:"title yumincho"},[t._v("藤井聡太四段 vs 澤田真吾六段")]),n("p",{staticClass:"subtitle yumincho"},[t._v("第43期棋王戦予選")]),n("hr"),n("ShogiPlayer",{attrs:{kifu_body:t.kif_sample2,start_turn:121,controller_show:!0,slider_show:!0,theme:"simple"}})],1),n("div",{staticClass:"column"},[t._m(7),n("h3",{staticClass:"title yumincho"},[t._v("小池重明 vs 加藤一二三十段")]),n("p",{staticClass:"subtitle yumincho"},[t._v("加藤一二三の駒落道場")]),n("hr"),n("ShogiPlayer",{attrs:{kifu_body:"position sfen lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1 moves 8c8d 7g7f 7a6b 5g5f 8d8e 8h7g 5c5d 2h5h 6b5c 7i6h 5a4b 5i4h 3a3b 4h3h 4c4d 5f5e 3b4c 5e5d 4c5d 6h5g 5d6e 5g5f 6e7f 5f5e 7f6g+ P*5d 5c6b 5h5f 6g7g 8i7g B*3d 5f6f P*5b 6i7i 8b8d 5e4d 8d7d P*7h 7d5d S*4c 3d4c 4d4c+ 4b4c B*7f 5b5c 7i6h 4c3b 6h5h P*4c 7f5d 5c5d 8g8f B*7i 8f8e P*8b 6f8f 7i3e+ 8e8d S*7b 8f8i 3e4e P*6g 7c7d 9g9f 4e5f 8i8f 5f5e 9f9e 5e6d 8f8i 7d7e 7g8e 5d5e 8e9c+ 8a9c 9e9d P*9h 9i9h 6d6e 8i8f 6e9h 9d9c+ 9a9c R*9a 9h6e 9a9c+ 5e5f 5h4h L*9b 9c8b P*8a N*7g 6e7d 8b9a S*8b 9a8b 8a8b S*6e 7d9f 8f5f 9f7h 7g8e 7h6g P*7c 7b8a P*9c 6c6d P*6h 6g8e 9c9b+ 8a9b 7c7b+ 6a7b 6e5d N*4b 5d5c+ P*5d 5c6b 7b6b L*2f R*6i L*2e N*3a 5f4f S*3d 3g3f 6b5c 2i3g 4c4d 4f5f 2c2d 2e2d P*2c 3f3e 3d3e 2d2c+ 3a2c 2f2c+ 3b2c P*3f 3e2d 5f5i 6i6h+ 1g1f L*3d N*2h 4d4e 5i5h 6h7g 2g2f 1c1d 2f2e 2d1c 3g4e 5c4d S*4f P*2f 4e5c+ L*4e 4f5g 8e7d P*6e 7d6e P*5f 5d5e 4h3g 5e5f 5g4h P*4f 3g4f 4e4f",start_turn:-1,controller_show:!0,slider_show:!0,sfen_show:!0,theme:"simple"}})],1)]),n("br"),n("br"),t._m(8),n("br"),n("br"),n("br"),n("h3",{staticClass:"title has-text-left"},[t._v("2. 操作モード")]),n("hr"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[t._m(9),n("ShogiPlayer",{attrs:{kifu_body:"position startpos moves 7g7f 8c8d 2h6h 3c3d 6g6f 7a6b 3i3h 5a4b 4g4f 4b3b 3g3f 2b3c 1g1f 8d8e 8h7g 3b2b 7i7h 5c5d 7h6g 6a5b 2i3g 1a1b 6g5f 5d5e 5f4e 8b8d 3f3e 3d3e 3g2e 3c4d 6f6e 2c2d 6e6d 2d2e 4e4d 4c4d 7g5e N*3b P*3c 2b3c B*4e P*5d 5e6f 3c2b 6f8d 4d4e 6d6c+",start_turn:-1,slider_show:!0,controller_show:!0,theme:"real",size:"medium",variation:"a",sound_effect:!0,volume:.25,debug_mode:!1,run_mode:"play_mode"}})],1),n("div",{staticClass:"column"},[t._m(10),n("ShogiPlayer",{attrs:{kifu_body:"position startpos moves 7g7f 8c8d 2h6h 3c3d 6g6f 7a6b 3i3h 5a4b 4g4f 4b3b 3g3f 2b3c 1g1f 8d8e 8h7g 3b2b 7i7h 5c5d 7h6g 6a5b 2i3g 1a1b 6g5f 5d5e 5f4e 8b8d 3f3e 3d3e 3g2e 3c4d 6f6e 2c2d 6e6d 2d2e 4e4d 4c4d 7g5e N*3b P*3c 2b3c B*4e P*5d 5e6f 3c2b 6f8d 4d4e 6d6c+",start_turn:20,slider_show:!0,controller_show:!0,theme:"real",size:"medium",variation:"a",sound_effect:!0,volume:.25,debug_mode:!1,run_mode:"play_mode",human_side_key:"black"}})],1)]),t._m(11),n("br"),n("br"),n("h3",{staticClass:"title has-text-left"},[t._v("3. 編集モード")]),n("hr"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[t._m(12),n("ShogiPlayer",{attrs:{kifu_body:"position startpos moves 7g7f 8c8d 2h6h 3c3d 6g6f 7a6b 3i3h 5a4b 4g4f 4b3b 3g3f 2b3c 1g1f 8d8e 8h7g 3b2b 7i7h 5c5d 7h6g 6a5b 2i3g 1a1b 6g5f 5d5e 5f4e 8b8d 3f3e 3d3e 3g2e 3c4d 6f6e 2c2d 6e6d 2d2e 4e4d 4c4d 7g5e N*3b P*3c 2b3c B*4e P*5d 5e6f 3c2b 6f8d 4d4e 6d6c+",start_turn:-1,slider_show:!0,theme:"real",size:"medium",variation:"a",sound_effect:!0,volume:.25,debug_mode:!1,run_mode:"edit_mode"}})],1),n("div",{staticClass:"column"},[t._m(13),n("ShogiPlayer",{attrs:{preset_key:"詰将棋",slider_show:!0,theme:"real",size:"medium",variation:"a",sound_effect:!0,volume:.25,debug_mode:!1,run_mode:"edit_mode"}})],1)]),n("br"),n("br"),t._e(),t._m(15),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("article",{staticClass:"message is-success has-text-left"},[t._m(16),n("div",{staticClass:"message-body"},[n("div",{staticClass:"content"},[n("ul",[n("li",[t._v("右の"),n("b-icon",{attrs:{icon:"dots-vertical",size:"is-small"}}),t._v("をクリックするとモードを切り替えれます")],1),n("li",[t._v("棋譜再生モードの途中で「操作」に切り替えると手番側の駒を動かせるようになります。検討したいときに使います")]),n("li",[t._v("「操作」モードに入るとき SFEN (USI) の場合はそのまま再生モードでの棋譜を保持した状態で始まります。(スライダーで最初の局面に戻せる)")]),t._m(17),n("li",[t._v("手番に関わらず、ただ自由に駒を動かしたいときは「編集」モードにします。")])])])])])])])],2)])])]),n("div",{staticClass:"section"},[n("a",{attrs:{name:"usage"}}),n("div",{staticClass:"container"},[n("h3",{staticClass:"title"},[t._v("使い方")]),n("hr"),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.usage_md)}})])]),n("div",{staticClass:"section"},[n("a",{attrs:{name:"options"}}),n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("オプション")]),n("hr"),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("ShogiPlayer",{attrs:{run_mode:t.run_mode,kifu_body:t.kifu_body,start_turn:t.start_turn,theme:t.theme,size:t.size,variation:t.variation,debug_mode:t.debug_mode,flip:t.flip,digit_show:t.digit_show,final_label:t.final_label,key_event_capture:t.key_event_capture,slider_show:t.slider_show,controller_show:t.controller_show,sfen_show:t.sfen_show,sound_effect:t.sound_effect,volume:t.volume,human_side_key:t.human_side_key},on:{"update:run_mode":function(e){t.run_mode=e},"update:kifu_body":function(e){t.kifu_body=e},"update:theme":function(e){t.theme=e},"update:size":function(e){t.size=e},"update:variation":function(e){t.variation=e},"update:debug_mode":function(e){t.debug_mode=e},"update:flip":function(e){t.flip=e},"update:play_mode_long_sfen":t.play_mode_long_sfen_set,"update:play_mode_short_sfen":t.play_mode_short_sfen_set,"update:play_mode_move":t.play_mode_move_set}}),n("hr")],1)]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("section",[n("b-field",{attrs:{label:"run_mode"}},[n("div",{staticClass:"block"},[t._l(t.RunModeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.run_mode,callback:function(e){t.run_mode=e},expression:"run_mode"}},[t._v(t._s(e.key))])]})],2)]),n("div",{staticClass:"box"},[n("b-field",{attrs:{label:"theme"}},[n("div",{staticClass:"block"},[t._l(t.ThemeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}},[t._v(t._s(e.key))])]})],2)]),n("b-field",{attrs:{label:"variation"}},[n("div",{staticClass:"block"},[t._l(t.VariationInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.variation,callback:function(e){t.variation=e},expression:"variation"}},[t._v(t._s(e.key))])]})],2)]),n("b-field",{attrs:{label:"size"}},[n("div",{staticClass:"block"},[t._l(t.SizeInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.size,callback:function(e){t.size=e},expression:"size"}},[t._v(t._s(e.key))])]})],2)])],1),n("div",{staticClass:"box"},[n("b-field",{attrs:{grouped:"grouped","group-multiline":"group-multiline"}},[n("b-field",{attrs:{label:"sound_effect"}},[n("b-switch",{model:{value:t.sound_effect,callback:function(e){t.sound_effect=e},expression:"sound_effect"}})],1),n("b-field",{attrs:{label:"volume"}},[n("div",{staticClass:"block"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.volume,expression:"volume",modifiers:{number:!0}}],attrs:{type:"range",min:"0",max:"1.0",step:"0.01"},domProps:{value:t.volume},on:{__r:function(e){t.volume=t._n(e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(t._s(t.volume))])])],1)],1),n("b-field",{attrs:{grouped:"grouped","group-multiline":"group-multiline"}},[n("b-field",{attrs:{label:"start_turn"}},[n("b-input",{attrs:{type:"number"},model:{value:t.start_turn,callback:function(e){t.start_turn=e},expression:"start_turn"}})],1),n("b-field",{attrs:{label:"final_label"}},[n("b-input",{attrs:{type:"text"},model:{value:t.final_label,callback:function(e){t.final_label="string"==typeof e?e.trim():e},expression:"final_label"}})],1)],1),n("b-field",{attrs:{grouped:"grouped","group-multiline":"group-multiline"}},[n("b-field",{attrs:{label:"slider_show"}},[n("b-switch",{model:{value:t.slider_show,callback:function(e){t.slider_show=e},expression:"slider_show"}})],1),n("b-field",{attrs:{label:"controller_show"}},[n("b-switch",{model:{value:t.controller_show,callback:function(e){t.controller_show=e},expression:"controller_show"}})],1),n("b-field",{attrs:{label:"sfen_show"}},[n("b-switch",{model:{value:t.sfen_show,callback:function(e){t.sfen_show=e},expression:"sfen_show"}})],1),n("b-field",{attrs:{label:"key_event_capture"}},[n("b-switch",{model:{value:t.key_event_capture,callback:function(e){t.key_event_capture=e},expression:"key_event_capture"}})],1),n("b-field",{attrs:{label:"flip"}},[n("b-switch",{model:{value:t.flip,callback:function(e){t.flip=e},expression:"flip"}})],1),n("b-field",{attrs:{label:"digit_show"}},[n("b-switch",{model:{value:t.digit_show,callback:function(e){t.digit_show=e},expression:"digit_show"}})],1),n("b-field",{attrs:{label:"debug_mode"}},[n("b-switch",{model:{value:t.debug_mode,callback:function(e){t.debug_mode=e},expression:"debug_mode"}})],1)],1),n("b-field",{attrs:{label:"human_side_key"}},[n("div",{staticClass:"block"},[t._l(t.SideInfo.values,function(e){return[n("b-radio",{attrs:{"native-value":e.key},model:{value:t.human_side_key,callback:function(e){t.human_side_key=e},expression:"human_side_key"}},[t._v(t._s(e.key))])]})],2)]),n("b-field",{attrs:{label:"kifu_body"}},[n("b-input",{attrs:{type:"textarea"},model:{value:t.kifu_body,callback:function(e){t.kifu_body=e},expression:"kifu_body"}})],1),n("article",{staticClass:"message is-primary has-text-left"},[t._m(18),n("div",{staticClass:"message-body"},[t._v("<shogi-player\n:"),n("b",[t._v("run_mode")]),t._v("=\"'"+t._s(t.run_mode)+"'\"\n:"),n("b",[t._v("theme")]),t._v("=\"'"+t._s(t.theme)+"'\"\n:"),n("b",[t._v("variation")]),t._v("=\"'"+t._s(t.variation)+"'\"\n:"),n("b",[t._v("size")]),t._v("=\"'"+t._s(t.size)+"'\"\n:"),n("b",[t._v("start_turn")]),t._v('="'+t._s(t.start_turn)+'"\n:'),n("b",[t._v("slider_show")]),t._v('="'+t._s(t.slider_show)+'"\n:'),n("b",[t._v("controller_show")]),t._v('="'+t._s(t.controller_show)+'"\n:'),n("b",[t._v("sfen_show")]),t._v('="'+t._s(t.sfen_show)+'"\n:'),n("b",[t._v("human_side_key")]),t._v("=\"'"+t._s(t.human_side_key)+"'\"\n:"),n("b",[t._v("sound_effect")]),t._v('="'+t._s(t.sound_effect)+'"\n:'),n("b",[t._v("volume")]),t._v('="'+t._s(t.volume)+'"\n:'),n("b",[t._v("key_event_capture")]),t._v('="'+t._s(t.key_event_capture)+'"\n:'),n("b",[t._v("debug_mode")]),t._v('="'+t._s(t.debug_mode)+'"\n:'),n("b",[t._v("flip")]),t._v('="'+t._s(t.flip)+'"\n:'),n("b",[t._v("digit_show")]),t._v('="'+t._s(t.digit_show)+'"\n:'),n("b",[t._v("final_label")]),t._v("=\"'"+t._s(t.final_label)+"'\"\n:"),n("b",[t._v("kifu_body")]),t._v("=\"'"+t._s(t.kifu_body)+"'\"\n/>")])]),n("br"),n("br"),n("h4",{staticClass:"title"},[t._v("操作モードのイベント受信内容")]),n("b-field",{attrs:{label:"@update:play_mode_long_sfen: 操作モードで指した直後の局面を発行(movesあり)"}},[n("b-input",{attrs:{value:t.play_mode_long_sfen,type:"textarea"}})],1),n("b-field",{attrs:{label:"@update:play_mode_short_sfen: 操作モードで指した直後の局面を発行(movesなし)"}},[n("b-input",{attrs:{value:t.play_mode_short_sfen,type:"textarea"}})],1),n("b-field",{attrs:{label:"@update:play_mode_move: 操作モードで指した手(sfenのmovesの最後の1つ)"}},[n("b-input",{attrs:{value:t.play_mode_move,type:"text"}})],1),n("br")],1)])]),n("div",{staticClass:"table_wrap"},[n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.options_md)}})])])]),t._m(19)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hero is-primary is-medium"},[e("div",{staticClass:"hero-head"},[e("nav",{staticClass:"navbar"},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-brand"},[e("span",{staticClass:"navbar-burger burger",attrs:{"data-target":"navbarMenuHeroA"}},[e("span"),e("span"),e("span")])]),e("div",{staticClass:"navbar-menu",attrs:{id:"navbarMenuHeroA"}},[e("div",{staticClass:"navbar-end"},[e("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/akicho8/shogi-player"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fab fa-github"})]),e("span",[this._v("Github")])])])])])])]),e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container has-text-centered"},[e("h1",{staticClass:"title"},[this._v("shogi-player")])])]),e("div",{staticClass:"hero-foot"},[e("nav",{staticClass:"tabs"},[e("div",{staticClass:"container"},[e("ul",[e("li",[e("a",{attrs:{href:"#summary"}},[this._v("概要")])]),e("li",[e("a",{attrs:{href:"#examples"}},[this._v("デモ")])]),e("li",[e("a",{attrs:{href:"#usage"}},[this._v("使い方")])]),e("li",[e("a",{attrs:{href:"#options"}},[this._v("オプション")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section"},[e("a",{attrs:{name:"summary"}}),e("div",{staticClass:"container"},[e("h2",{staticClass:"title"},[this._v("概要")]),e("hr"),e("div",{staticClass:"content"},[e("p",[this._v("将棋の棋譜を再生できる JavaScript で次の特徴があります")]),e("ul",[e("li",[this._v("KIF と SFEN フォーマットに対応")]),e("li",[this._v("Flash 未使用")]),e("li",[this._v("npm でインストール可")]),e("li",[this._v("検討できる")]),e("li",[this._v("詰将棋が作れる")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("コメント付きの KIF 表示。9手目から表示。テーマ:real。駒音あり")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"subtitle yumincho"},[e("a",{attrs:{href:"http://www.asahi.com/shougi/asahicup_live/?ref=jsa",target:"_blank"}},[this._v("第11回朝日杯将棋オープン戦本戦")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("シンプル。最終手から表示。※盤面クリックで操作可。天王山クリックで反転")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("スライダーのみ表示。初手から表示")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("コントローラーとスライダー付き。121手目から表示。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("駒落ち。最終手から表示。局面のSFENも表示")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("article",{staticClass:"message is-success has-text-left"},[n("div",{staticClass:"message-header"},[n("p",[t._v("共通する操作方法")])]),n("div",{staticClass:"message-body"},[n("div",{staticClass:"content"},[n("ul",[n("li",[t._v("盤面の左右をクリックすると前後の手番に進む")]),n("li",[t._v("シフトを押しながらで10倍速")]),n("li",[t._v("シフト以外のシステムキーだと50倍速(シフトキーも押していると500倍速)")]),n("li",[t._v("天王山(５五の地点)をクリックすると反転")]),n("li",[t._v("「N手目」の部分をクリックで編集可")]),n("li",[t._v("スライダーがある場合は優先的にフォーカスする")]),n("li",[t._v("スライダーにフォーカスがある状態だと左右キーが効く(ブラウザの標準機能)")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("自分で操作できる。戻れば操作をやり直せる")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("human_side_key オプションで先手側だけ操作できるようにする")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("article",{staticClass:"message is-success has-text-left"},[e("div",{staticClass:"message-header"},[e("p",[this._v("操作モードについて")])]),e("div",{staticClass:"message-body"},[e("div",{staticClass:"content"},[e("ul",[e("li",[this._v("スライダー等で変更した任意局面から手番側の操作が行えます")]),e("li",[this._v("いちど指すとその手が最終手になります(分岐には対応していません)")]),e("li",[this._v("human_side_key オプションで片側の操作のみに絞れます")]),e("li",[this._v("Emit Events に反応して、相手側の指し手を追加した棋譜で kifu_body を更新すればCPUとの対戦のようなことができます")]),e("li",[this._v("再生モードの棋譜とは独立しています(再生モードの棋譜を上書きしません)")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("すべての駒を自由に動かせる")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("詰将棋用の初期配置で開始")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info has-text-centered"},[e("div",{staticClass:"message-body"},[this._v("外部KIFファイルの読み込み")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns"},[e("div",{staticClass:"column"},[e("article",{staticClass:"message is-success has-text-left"},[e("div",{staticClass:"message-header"},[e("p",[this._v("操作方法")])]),e("div",{staticClass:"message-body"},[e("div",{staticClass:"content"},[e("ul",[e("li",[this._v("盤上の駒は右クリックで裏返せます")]),e("li",[this._v("shift, option, meta, control キーのいずれかを押しながら左クリックでも裏返せます")]),e("li",[this._v("駒を持った状態で右クリックすると駒を元に戻します")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-header"},[e("p",[this._v("再生モードからのモード切り替えについて")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("一方 KIF の場合は都合上"),e("b",[this._v("現在の局面から")]),this._v("の開始になります。(スライダーで最初の局面に戻せない)。※SFENと同様になるよう今後対応予定")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-header"},[e("p",[this._v("引数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column has-text-centered"},[e("a",{attrs:{href:"https://bulma.io"}},[e("img",{attrs:{src:n("waGJ"),alt:"Made with Bulma",width:"128",height:"24"}})])])])])])}]};e.a=r},bmB0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sound=void 0;var r,i=u(n("Zrlr")),o=u(n("wxAW"));u(n("mtWM"));function u(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof window&&(window.AudioContext=window.AudioContext||window.webkitAudioContext,r=new AudioContext);var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,t),this.url=e,this.options=n,this.buffer=null,this.__resource_load()}return(0,o.default)(t,[{key:"play",value:function(){if(this.is_loaded){var t=r.createBufferSource();if(t.buffer=this.buffer,null===this.volume)t.connect(r.destination);else{var e=r.createGain();t.connect(e),e.connect(r.destination),e.gain.value=this.volume}t.start(0)}}},{key:"__resource_load",value:function(){var t=this,e=new XMLHttpRequest;e.responseType="arraybuffer",e.onreadystatechange=function(){4===e.readyState&&(0!==e.status&&200!==e.status||r.decodeAudioData(e.response,function(e){t.buffer=e}))},e.open("GET",this.url,!0),e.send("")}},{key:"is_loaded",get:function(){return null!==this.buffer}},{key:"volume",get:function(){var t=1;return void 0!==this.options.volume&&(t=this.options.volume),t}}]),t}();e.Sound=a},c931:function(t,e,n){"use strict";var r=n("ZhRK"),i=n("qgw9"),o=n("ZXsH"),u={};n("sVMs")(u,n("aQ10")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:i(1,n)}),o(t,e+" Iterator")}},cMts:function(t,e,n){"use strict";var r=n("ijYJ")(!0);n("wnso")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},dGAP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("d7EF"),o=(r=i)&&r.__esModule?r:{default:r},u=n("P4Jg"),a=n("M4xR"),s=n("652U");e.default={props:{preset_key:{type:String,default:null}},data:function(){return{current_preset_key:this.preset_key}},created:function(){},mounted:function(){},watch:{preset_key:function(t){this.current_preset_key=t},current_preset_key:function(t){this.mediator_setup_by_preset(t)}},methods:{mediator_setup_by_preset:function(t){var e=this;if(t){var n=s.PresetInfo.fetch(t);this.mediator=new a.Mediator,this.mediator.data_source=this.data_source_by(n.sfen),n.piece_box.forEach(function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1];e.mediator.piece_box_add(u.Piece.fetch(r),i)}),this.mediator.run(),this.init_location_key=this.mediator.current_location.key}}},computed:{preset_info_values:function(){return s.PresetInfo.values},init_preset_sfen:function(){if(this.preset_key)return s.PresetInfo.fetch(this.preset_key).sfen}}}},dPOy:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},e5D4:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"eY+q":function(t,e,n){var r=n("9VA/"),i=n("nXDk"),o=n("DhxH"),u=Object.defineProperty;e.f=n("gJiE")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},gJiE:function(t,e,n){t.exports=!n("dPOy")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},gauS:function(t,e){},iC1h:function(t,e){t.exports="先手の囲い：銀矢倉\n後手の囲い：銀矢倉\n先手の戦型：角換わり腰掛け銀\n後手の戦型：角換わり腰掛け銀\n手合割：平手\n手数----指手---------消費時間--\n1 ７六歩(77)   (00:00/00:00:00)\n2 ８四歩(83)   (00:00/00:00:00)\n3 ２六歩(27)   (00:00/00:00:00)\n4 ３二金(41)   (00:00/00:00:00)\n5 ７八金(69)   (00:00/00:00:00)\n6 ８五歩(84)   (00:00/00:00:00)\n7 ７七角(88)   (00:00/00:00:00)\n8 ３四歩(33)   (00:00/00:00:00)\n9 ６八銀(79)   (00:00/00:00:00)\n10 ７七角成(22) (00:00/00:00:00)\n11 ７七銀(68)   (00:00/00:00:00)\n*▲戦型：角換わり\n12 ２二銀(31)   (00:00/00:00:00)\n13 ３八銀(39)   (00:00/00:00:00)\n14 ６二銀(71)   (00:00/00:00:00)\n15 ３六歩(37)   (00:00/00:00:00)\n16 ３三銀(22)   (00:00/00:00:00)\n17 ４六歩(47)   (00:00/00:00:00)\n18 ６四歩(63)   (00:00/00:00:00)\n19 ６八玉(59)   (00:00/00:00:00)\n20 ６三銀(62)   (00:00/00:00:00)\n21 ３七桂(29)   (00:00/00:00:00)\n22 ４二玉(51)   (00:00/00:00:00)\n23 ４七銀(38)   (00:00/00:00:00)\n24 ７四歩(73)   (00:00/00:00:00)\n25 ４八金(49)   (00:00/00:00:00)\n26 ７三桂(81)   (00:00/00:00:00)\n27 ２九飛(28)   (00:00/00:00:00)\n28 ８一飛(82)   (00:00/00:00:00)\n29 ６六歩(67)   (00:00/00:00:00)\n30 ６二金(61)   (00:00/00:00:00)\n31 ５六銀(47)   (00:00/00:00:00)\n*▲戦型：角換わり腰掛け銀\n32 ９四歩(93)   (00:00/00:00:00)\n33 ９六歩(97)   (00:00/00:00:00)\n34 １四歩(13)   (00:00/00:00:00)\n35 １六歩(17)   (00:00/00:00:00)\n36 ５四銀(63)   (00:00/00:00:00)\n*△戦型：角換わり腰掛け銀\n37 ７九玉(68)   (00:00/00:00:00)\n38 ６三銀(54)   (00:00/00:00:00)\n39 ８八玉(79)   (00:00/00:00:00)\n40 ５四銀(63)   (00:00/00:00:00)\n41 ２五歩(26)   (00:00/00:00:00)\n42 ６三銀(54)   (00:00/00:00:00)\n43 ６七銀(56)   (00:00/00:00:00)\n*▲囲い：銀矢倉\n44 ５四銀(63)   (00:00/00:00:00)\n45 ５六歩(57)   (00:00/00:00:00)\n46 ４四歩(43)   (00:00/00:00:00)\n47 ５九飛(29)   (00:00/00:00:00)\n48 ３一玉(42)   (00:00/00:00:00)\n49 ５五歩(56)   (00:00/00:00:00)\n50 ４三銀(54)   (00:00/00:00:00)\n51 ５六銀(67)   (00:00/00:00:00)\n52 ２二玉(31)   (00:00/00:00:00)\n*△囲い：銀矢倉\n53 ６九飛(59)   (00:00/00:00:00)\n54 ３一玉(22)   (00:00/00:00:00)\n55 ２九飛(69)   (00:00/00:00:00)\n56 ２二玉(31)   (00:00/00:00:00)\n57 ４五歩(46)   (00:00/00:00:00)\n58 ４五歩(44)   (00:00/00:00:00)\n59 ４五銀(56)   (00:00/00:00:00)\n60 ８六歩(85)   (00:00/00:00:00)\n61 ８六歩(87)   (00:00/00:00:00)\n62 ８五歩打     (00:00/00:00:00)\n63 ８五歩(86)   (00:00/00:00:00)\n64 ９五歩(94)   (00:00/00:00:00)\n65 ９五歩(96)   (00:00/00:00:00)\n66 ７五歩(74)   (00:00/00:00:00)\n67 ７五歩(76)   (00:00/00:00:00)\n68 ６五歩(64)   (00:00/00:00:00)\n69 ７六角打     (00:00/00:00:00)\n70 ５二金(62)   (00:00/00:00:00)\n71 ８六銀(77)   (00:00/00:00:00)\n72 ６六歩(65)   (00:00/00:00:00)\n73 ７七桂(89)   (00:00/00:00:00)\n74 ４四歩打     (00:00/00:00:00)\n75 ５六銀(45)   (00:00/00:00:00)\n76 ３五歩(34)   (00:00/00:00:00)\n77 ３五歩(36)   (00:00/00:00:00)\n78 ８五桂(73)   (00:00/00:00:00)\n79 ８五桂(77)   (00:00/00:00:00)\n80 ３六歩打     (00:00/00:00:00)\n81 ４五桂(37)   (00:00/00:00:00)\n82 ４五歩(44)   (00:00/00:00:00)\n83 ６四歩打     (00:00/00:00:00)\n84 ７二桂打     (00:00/00:00:00)\n85 ６三歩成(64) (00:00/00:00:00)\n86 ６三金(52)   (00:00/00:00:00)\n87 ４三角成(76) (00:00/00:00:00)\n88 ４三金(32)   (00:00/00:00:00)\n89 ５二銀打     (00:00/00:00:00)\n90 ７六角打     (00:00/00:00:00)\n91 ７七金(78)   (00:00/00:00:00)\n92 ８七歩打     (00:00/00:00:00)\n93 ８七金(77)   (00:00/00:00:00)\n94 ６七角打     (00:00/00:00:00)\n95 ６七銀(56)   (00:00/00:00:00)\n96 ８七角成(76) (00:00/00:00:00)\n97 ８七玉(88)   (00:00/00:00:00)\n98 ６七歩成(66) (00:00/00:00:00)\n99 ８九角打     (00:00/00:00:00)\n100 ６六と(67)   (00:00/00:00:00)\n101 ４三銀成(52) (00:00/00:00:00)\n102 ７六金打     (00:00/00:00:00)\n103 ８八玉(87)   (00:00/00:00:00)\n104 ８六金(76)   (00:00/00:00:00)\n105 ７九玉(88)   (00:00/00:00:00)\n106 ７七金(86)   (00:00/00:00:00)\n107 ６八歩打     (00:00/00:00:00)\n108 ６七銀打     (00:00/00:00:00)\n109 ６七角(89)   (00:00/00:00:00)\n110 ６七と(66)   (00:00/00:00:00)\n111 ３三全(43)   (00:00/00:00:00)\n112 ３三玉(22)   (00:00/00:00:00)\n113 ３四銀打     (00:00/00:00:00)\n114 ４四玉(33)   (00:00/00:00:00)\n115 ２二角打     (00:00/00:00:00)\n116 ３三銀打     (00:00/00:00:00)\n117 ３三銀(34)   (00:00/00:00:00)\n118 ５五玉(44)   (00:00/00:00:00)\n119 ３二銀(33)   (00:00/00:00:00)\n120 ６四玉(55)   (00:00/00:00:00)\n121 ７六桂打     (00:00/00:00:00)\n122 ７六金(77)   (00:00/00:00:00)\n123 ６七歩(68)   (00:00/00:00:00)\n124 ４六角打     (00:00/00:00:00)\n125 ５七銀打     (00:00/00:00:00)\n126 ５五桂打     (00:00/00:00:00)\n127 ５六銀打     (00:00/00:00:00)\n128 ８五飛(81)   (00:00/00:00:00)\n129 ４六銀(57)   (00:00/00:00:00)\n130 ７八銀打     (00:00/00:00:00)\n131 ７八玉(79)   (00:00/00:00:00)\n132 ６七桂成(55) (00:00/00:00:00)\n133 ６七銀(56)   (00:00/00:00:00)\n134 ８七飛成(85) (00:00/00:00:00)\n135 ７九玉(78)   (00:00/00:00:00)\n136 ６七金(76)   (00:00/00:00:00)\n137 ５五角成(22) (00:00/00:00:00)\n138 ７五玉(64)   (00:00/00:00:00)\n139 ６五金打     (00:00/00:00:00)\n140 ８五玉(75)   (00:00/00:00:00)\n141 ７七桂打     (00:00/00:00:00)\n142 ７六玉(85)   (00:00/00:00:00)\n143 ７五金(65)   (00:00/00:00:00)\n144 ７五玉(76)   (00:00/00:00:00)\n145 ６五馬(55)   (00:00/00:00:00)\n146 ８四玉(75)   (00:00/00:00:00)\n147 ８七馬(65)   (00:00/00:00:00)\n148 ６八銀打     (00:00/00:00:00)\n149 ８九玉(79)   (00:00/00:00:00)\n150 ７七銀成(68) (00:00/00:00:00)\n151 ８一飛打     (00:00/00:00:00)\n152 ８三桂打     (00:00/00:00:00)\n153 ８五歩打     (00:00/00:00:00)\n154 ７三玉(84)   (00:00/00:00:00)\n155 ７四歩打     (00:00/00:00:00)\n156 投了\nまで155手で先手の勝ち\n"},"iPg/":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.MemoryRecord=void 0;var i=v(n("HjA4")),o=v(n("NSkS")),u=v(n("Gz+W")),a=v(n("v+rs")),s=v(n("KODq")),c=v(n("Lvxh")),l=v(n("tjI/")),f=v(n("BZaW")),_=v(n("119h")),d=v(n("lEZ+")),h=v(n("PjdQ")),p=v(n("b/M2"));function v(t){return t&&t.__esModule?t:{default:t}}var m=function(){function t(e){var n=this;(0,d.default)(this,t),Object.defineProperty(this,"attributes",{value:e,writable:!1,enumerable:!1,configurable:!1}),p.default.forIn(e,function(t,e){(0,a.default)(n,e,{value:t,writable:!1,enumerable:!0,configurable:!1})}),this.hasOwnProperty("name")||Object.defineProperty(this,"name",{value:e.name||this.key.toString(),writable:!1,enumerable:!0,configurable:!1})}return(0,h.default)(t,null,[{key:"lookup",value:function(t){return t instanceof this?t:"number"==typeof t?this.values[t]:this.values_map[t]}},{key:"fetch",value:function(t){var e=this.lookup(t);if(!e)throw new Error([this.name+".fetch("+(0,_.default)(t)+") does not match anything","keys: "+(0,_.default)(this.keys),"codes: "+(0,_.default)(this.codes)].join("\n"));return e}},{key:"define",get:function(){return[{key:"(key_x)"},{key:"(key_y)"}]}},{key:"values_map",get:function(){var t=this;return this._values_map=this._values_map||p.default.reduce(this.define,function(e,n,r){return e[n.key]=(0,f.default)(new t((0,l.default)({},n,{code:r}))),e},{}),this._values_map}},{key:"keys",get:function(){return this._keys=this._keys||(0,c.default)(this.values_map),this._keys}},{key:"codes",get:function(){return this._codes=this._codes||this.values.map(function(t){return t.code}),this._codes}},{key:"values",get:function(){return this._values=this._values||(0,s.default)(this.values_map),this._values}}]),t}();if(e.MemoryRecord=m,t.argv[1]===r){var y=function(t){function e(){return(0,d.default)(this,e),(0,o.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,h.default)(e,null,[{key:"define",get:function(){return[{key:"black",name:"☗"},{key:"white",name:"☖"}]}}]),e}(m);y.values[0],y.lookup("black")}}).call(e,n("W2nU"),"/index.js")},ijYJ:function(t,e,n){var r=n("MAUS"),i=n("Hq0C");t.exports=function(t){return function(e,n){var o,u,a=String(i(e)),s=r(n),c=a.length;return s<0||s>=c?t?"":void 0:(o=a.charCodeAt(s))<55296||o>56319||s+1===c||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):o:t?a.slice(s,s+2):u-56320+(o-55296<<10)+65536}}},iy8a:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Board=void 0;var i=l(n("woOf")),o=l(n("Zrlr")),u=l(n("wxAW")),a=l(n("M4fF")),s=l(n("7+uW")),c=n("HLQd");function l(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,o.default)(this,t),this._surface={}}return(0,u.default)(t,null,[{key:"dimension",get:function(){return 9}},{key:"danger_zone_size",get:function(){return 3}}]),(0,u.default)(t,[{key:"place_on",value:function(t){s.default.set(this._surface,t.place.key,t)}},{key:"lookup",value:function(t){return this._surface[t.key]}},{key:"delete_at",value:function(t){delete this._surface[t.key]}},{key:"flip",get:function(){var e=new t;return a.default.forEach(this._surface,function(t,n){var r=new c.Soldier((0,i.default)({},t.attributes,{location:t.location.flip,place:t.place.flip}));e.place_on(r)}),e}}]),t}();e.Board=f,t.argv[1]}).call(e,n("W2nU"),"/index.js")},j4j3:function(t,e,n){var r=n("+RM/");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},jTCi:function(t,e){t.exports="## Rails (+ Vue) の場合\n\nインストール\n\n    % yarn add shogi-player\n\n読み込み\n\n(in app/javascript/packs/shogi_player_app.js)\n\n    import Vue from 'vue/dist/vue.esm'\n     \n    import Buefy from 'buefy'\n    import 'buefy/lib/buefy.css'\n    Vue.use(Buefy)\n     \n    import ShogiPlayer from 'shogi-player/src/components/ShogiPlayer.vue'\n    Vue.component('shogi-player', ShogiPlayer)\n     \n    import { PresetInfo } from \"shogi-player/src/preset_info.js\"\n    import { RunModeInfo } from \"shogi-player/src/run_mode_info.js\"\n    import { ThemeInfo } from \"shogi-player/src/theme_info.js\"\n    import { SizeInfo } from \"shogi-player/src/size_info.js\"\n    import { VariationInfo } from \"shogi-player/src/variation_info.js\"\n\n    Object.defineProperty(Vue.prototype, 'PresetInfo', {value: PresetInfo})\n    Object.defineProperty(Vue.prototype, 'RunModeInfo', {value: RunModeInfo})\n    Object.defineProperty(Vue.prototype, 'ThemeInfo', {value: ThemeInfo})\n    Object.defineProperty(Vue.prototype, 'SizeInfo', {value: SizeInfo})\n    Object.defineProperty(Vue.prototype, 'VariationInfo', {value: VariationInfo})\n\n    import Vuex from \"vuex\"\n    Vue.use(Vuex)\n     \n    import _ from \"lodash\"\n    Object.defineProperty(Vue.prototype, '_', {value: _})\n\n    document.addEventListener('DOMContentLoaded', () => {\n      new Vue({\n        el: '#shogi_player_app',\n      })\n    })\n\n(in app/javascript/packs/shogi_player_app.sass)\n\n    // Bulma\n    @import \"../../../node_modules/bulma/sass/utilities/initial-variables.sass\"\n    @import \"../../../node_modules/bulma/sass/utilities/derived-variables.sass\"\n     \n    // ShogiPlayer\n    $sp_assets_dir: \"../../../node_modules/shogi-player/src/assets\"\n    @import \"../../../node_modules/shogi-player/src/components/ShogiPlayer.sass\"\n\n表示\n\n(in app/views/xxx/show.html.erb)\n\n    <%= javascript_pack_tag(\"shogi_player_app\") %>\n    <%= stylesheet_pack_tag(\"shogi_player_app\") %>\n\n    <div id=\"shogi_player_app\">\n      <ShogiPlayer :kifu_body=\"'position startpos moves 7g7f 8c8d'\"></ShogiPlayer>\n    </div>\n\n## React で使う場合\n\n    import React from 'react'\n    import ReactDOM from 'react-dom'\n    import ShogiPlayer from 'shogi-player/react/src/ShogiPlayer.js'\n\n    class App extends React.Component {\n      render() {\n        return (\n          <ShogiPlayer kifu_body='position startpos moves 7g7f 8c8d' start_turn=\"9\" />\n        )\n      }\n    }\n\n    ReactDOM.render(\n      <App />,\n      document.getElementById('app')\n    )\n\n<article class=\"message is-warning\">\n  <div class=\"message-header\">\n    <p>注意点</p>\n  </div>\n  <div class=\"message-body\">\n     React 版は最低限の機能しかありません\n  </div>\n</article>\n\n## JavaScript に変換したものを直接使う場合\n\n    ただいま調査中\n"},jWx9:function(t,e,n){var r=n("INr1");r(r.S,"Object",{setPrototypeOf:n("ln0v").set})},kHiN:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Location=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"any_name",value:function(t){return t?this.komaochi_name:this.hirate_name}},{key:"flip",get:function(){return e.cycle_lookup(this.code+1)}}],[{key:"cycle_lookup",value:function(t){return"number"==typeof t&&(t=(e.values.length+t)%e.values.length),e.lookup(t)}},{key:"define",get:function(){return[{key:"black",name:"☗",hirate_name:"先手",komaochi_name:"下手"},{key:"white",name:"☖",hirate_name:"後手",komaochi_name:"上手"}]}}]),e}(n("o44n").MemoryRecord);e.Location=l,t.argv[1]===r&&l.values.map(function(t){})}).call(e,n("W2nU"),"/index.js")},kfbD:function(t,e){e.f={}.propertyIsEnumerable},"lEZ+":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},ln0v:function(t,e,n){var r=n("0Rqa"),i=n("9VA/"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n("mrma")(Function.call,n("yZsH").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},lujB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("6hdJ"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("N+at"),a=n("VU/8")(i.a,u.a,!1,null,null,null);e.default=a.exports},mnZ8:function(t,e,n){var r=n("azD8"),i=n("b4Bz"),o=n("kfbD").f;t.exports=function(t){return function(e){for(var n,u=i(e),a=r(u),s=a.length,c=0,l=[];s>c;)o.call(u,n=a[c++])&&l.push(t?[n,u[n]]:u[n]);return l}}},mrma:function(t,e,n){var r=n("qnN8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},nXDk:function(t,e,n){t.exports=!n("gJiE")&&!n("dPOy")(function(){return 7!=Object.defineProperty(n("G3xy")("div"),"a",{get:function(){return 7}}).a})},nZBM:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},oFSD:function(t,e,n){t.exports={default:n("A5FL"),__esModule:!0}},oS6v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("1I1s"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("sQ0j");var a=function(t){n("gauS")},s=n("VU/8")(i.a,u.a,!1,a,null,null);e.default=s.exports},p18F:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},pelb:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.KifParser=void 0;var i=v(n("Zx67")),o=v(n("Zrlr")),u=v(n("wxAW")),a=v(n("zwoO")),s=v(n("Pf15")),c=v(n("OTSL")),l=v(n("08Lv")),f=n("+BTF"),_=n("P4Jg"),d=n("KqNh"),h=n("kHiN"),p=n("usXP");function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){var t=this;this.move_infos=[],this.comments_pack={};var e=null;this.kifu_body.split(/\n/).forEach(function(n){var r=c.default.exec(n,t.__kif_format_move_regexp);if(r){var i={};i.location=t.location_by_offset(Number(r.number)-1),r.origin_place&&(i.origin_place=d.Place.fetch(r.origin_place)),(0,l.default)(r.to||r.same),r.to?(i.place=d.Place.fetch(r.to),e=i.place):((0,l.default)(r.same),(0,l.default)(e),i.place=e),"成"===r.motion&&(i.promoted_trigger=!0),"打"===r.motion&&(i.drop_piece=_.Piece.kif_lookup(r.piece)),t.move_infos.push(i)}else{var o=c.default.exec(n,(0,c.default)("^\\*(?<comment>.*)"));if(o){var u=t.move_infos.length;t.comments_pack[u]=t.comments_pack[u]||[],t.comments_pack[u].push(o.comment)}}})}},{key:"board",get:function(){var t=new p.SfenParser;return t.kifu_body="position startpos",t.parse(),t.board}},{key:"location_base",get:function(){var t=null;return t="平手"===(this.header["手合割"]||"平手")?"black":"white",h.Location.fetch(t)}},{key:"move_infos",set:function(t){this._move_infos=t},get:function(){return this._move_infos||[]}},{key:"comments_pack",set:function(t){this._comments_pack=t},get:function(){return this._comments_pack||[]}},{key:"__kif_format_move_regexp",get:function(){return(0,c.default)("\n        ^\\s*(?<number>\\d+)\\s+\n        (?<to>[１-９1-9一二三四五六七八九]{2})?\n        (?<same>同)?\\s*\n        (?<piece>成[銀桂香]|[王玉金銀全桂圭香杏角馬飛龍竜歩と])\n        (?<suffix>[左右直]?[寄引上]?)\n        (?<motion>不?成|打|合|生)?\n        (\\((?<origin_place>\\d{2})\\))? # KIFフォーマットの移動元用\n      ","xm")}}]),e}(f.ParserBase);if(e.KifParser=m,t.argv[1]===r){var y=new m;y.kifu_body="\n   1 ２六歩(27)   ( 0:16/00:00:16)\n   2 ３四歩(33)   ( 0:22/00:00:22)\n   3 ７六歩(77)   ( 0:06/00:00:22)\n   4 ８四歩(83)   ( 0:13/00:00:35)\n   5 ２五歩(26)   ( 0:09/00:00:31)\n   6 ８五歩(84)   ( 0:16/00:00:51)\n   7 ７八金(69)   ( 0:04/00:00:35)\n   8 ３二金(41)   ( 0:09/00:01:00)\n   9 ２四歩(25)   ( 0:04/00:00:39)\n  10 同 歩(23)    ( 0:10/00:01:10)\n",y.parse()}}).call(e,n("W2nU"),"/index.js")},pioc:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.RunModeInfo=void 0;var i=c(n("Zx67")),o=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,u.default)(e,null,[{key:"define",get:function(){return[{key:"view_mode",name:"再生"},{key:"play_mode",name:"操作"},{key:"edit_mode",name:"編集"}]}}]),e}(n("o44n").MemoryRecord);e.RunModeInfo=l,t.argv[1]}).call(e,n("W2nU"),"/index.js")},qZ6Y:function(t,e,n){n("cMts"),n("Rdt1"),t.exports=n("CeZ2").f("iterator")},qgw9:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},qnN8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},rQIc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("kHiN"),o=n("M4fF"),u=(r=o)&&r.__esModule?r:{default:r};e.default={props:{location_key:{required:!0},hold_pieces:{required:!0}},methods:{hold_piece_holding_p:function(t){return this.$parent.have_piece_location===this.location&&this.$parent.have_piece===t},piece_outer_class:function(t){var e=[];return this.hold_piece_holding_p(t)?e.push("holding_p"):("edit_mode"===this.$parent.current_run_mode||!this.$parent.cpu_location_p&&this.$parent.mediator.current_location===this.location)&&e.push("selectable_p"),e},piece_class:function(t){var e=[];return(e=u.default.concat(e,t.css_class_list)).push("location_"+this.location.key),e.push("promoted_false"),e}},computed:{location:function(){return i.Location.fetch(this.location_key)},piece_stand_outer_class:function(){var t=[];return t.push("location_"+this.location.key),t.push(this.$parent.env),this.$parent.mediator.current_location===this.location&&t.push("turn_active"),t},location_name:function(){return this.location.name}}}},s0pp:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},s4P9:function(t,e,n){var r=n("INr1");r(r.S,"Object",{create:n("ZhRK")})},sBSs:function(t,e){},sQ0j:function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shogi-player",class:["theme-"+t.current_theme,"size-"+t.current_size,"variation-"+t.current_variation,"run_mode-"+t.current_run_mode,{debug_mode:t.current_debug_mode},{digit_show:t.digit_show}]},[t.error_message?n("div",[n("ErrorNotify",[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("ERROR")]),n("p",[t._v(t._s(t.error_message))])])],1):t._e(),t.mediator?t._e():[n("i",{staticClass:"fas fa-spinner fa-pulse"})],"edit_mode"===t.current_run_mode?n("div",{staticClass:"edit_mode_controller"},[n("div",{staticClass:"edit_mode_controller_wrap"},[n("b-dropdown",{model:{value:t.current_preset_key,callback:function(e){t.current_preset_key=e},expression:"current_preset_key"}},[n("button",{staticClass:"button",attrs:{slot:"trigger"},slot:"trigger"},[n("span",[t._v("初期配置")]),n("b-icon",{attrs:{icon:"menu-down"}})],1),t._l(t.preset_info_values,function(e){return n("b-dropdown-item",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.name))])})],2),t._v(" "),n("button",{staticClass:"button",on:{click:t.all_flip}},[t._v("先後反転")]),t._v(" "),n("button",{staticClass:"button",on:{click:t.init_location_toggle}},[t._v("手番"+t._s(t.init_location.name))])],1)]):t._e(),t.mediator?[n("div",{staticClass:"turn_div"},["view_mode"===t.current_run_mode||"play_mode"===t.current_run_mode?n("div",{staticClass:"turn_area"},[t.turn_edit?t._e():[n("span",{staticClass:"turn_edit_text",on:{click:t.turn_edit_run}},["view_mode"===t.current_run_mode?[t._v(t._s(t.mediator.current_turn_label(this.final_label)))]:t._e(),"play_mode"===t.current_run_mode?[t._v(t._s(t.real_turn)+"手目")]:t._e()],2)],t.turn_edit?[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.turn_edit_value,expression:"turn_edit_value",modifiers:{number:!0}}],ref:"turn_edit_input",staticClass:"turn_edit_input",attrs:{type:"number"},domProps:{value:t.turn_edit_value},on:{blur:[function(e){t.turn_edit=!1},function(e){t.$forceUpdate()}],input:function(e){e.target.composing||(t.turn_edit_value=t._n(e.target.value))}}})]:t._e()],2):t._e(),n("span",{staticClass:"is-pulled-right modal_trigger_dots",on:{click:function(e){t.setting_modal_p=!0}}},[n("b-icon",{attrs:{icon:"dots-vertical",size:"is-small"}})],1),n("b-modal",{attrs:{active:t.setting_modal_p,"has-modal-card":"has-modal-card"},on:{"update:active":function(e){t.setting_modal_p=e}}},[n("SettingModal",{attrs:{run_mode:t.current_run_mode,kifu_source:t.kifu_source},on:{"update:run_mode":function(e){t.current_run_mode=e},"update:kifu_body":t.update_kifu_source}})],1)],1),n("div",{staticClass:"board_container flippable",class:{flip:t.current_flip}},[n("PieceStand",{staticClass:"flex_item",attrs:{location_key:"white",hold_pieces:t.mediator.realized_hold_pieces_of("white")}}),n("div",{staticClass:"flex_item board_wrap"},[n("div",{staticClass:"overlay_navi previous",on:{click:function(e){e.stopPropagation(),t.navi_relative_move(-1,e)}}}),n("div",{staticClass:"overlay_navi next",on:{click:function(e){e.stopPropagation(),t.navi_relative_move(1,e)}}}),n("div",{staticClass:"overlay_navi flip_trigger_cell",on:{click:t.board_flip_run}}),n("div",{staticClass:"board_outer"},[n("table",{staticClass:"board_inner"},t._l(t.mediator.dimension,function(e){return n("tr",[t._l(t.mediator.dimension,function(r){return[n("td",{staticClass:"piece_outer",class:t.piece_outer_class([r-1,e-1]),on:{click:function(n){t.board_click([r-1,e-1],n)},contextmenu:function(n){n.preventDefault(),t.board_click_right([r-1,e-1],n)}}},[n("div",{staticClass:"piece_inner_wrap"},[n("span",{staticClass:"piece_inner",class:t.mediator.board_piece_inner_class([r-1,e-1])},[t._v(t._s(t.mediator.cell_view([r-1,e-1])))])])])]})],2)}))])]),n("div",{staticClass:"flex_item"},["edit_mode"===t.current_run_mode?n("ul",{staticClass:"piece_box",on:{click:t.piece_box_other_click,contextmenu:function(e){return e.preventDefault(),t.hold_cancel(e)}}},t._l(t.mediator.piece_box_realize(),function(e){var r=e[0],i=e[1];return n("li",{class:{holding_p:t.piece_box_have_p(r)},on:{click:function(e){e.stopPropagation(),t.piece_box_piece_click(r,e)}}},[n("div",{staticClass:"piece_outer",class:t.piece_box_piece_outer_class(r)},[n("div",{staticClass:"piece_inner_wrap"},[n("span",{staticClass:"piece_inner",class:t.piece_box_piece_inner_class(r)},[t._v(t._s(r.name))])])]),i>=2?n("span",{staticClass:"piece_count"},[t._v(t._s(i))]):t._e()])})):t._e(),"edit_mode"!==t.current_run_mode?n("div"):t._e(),n("PieceStand",{attrs:{location_key:"black",hold_pieces:t.mediator.realized_hold_pieces_of("black")}})],1)],1),"view_mode"===t.current_run_mode||"play_mode"===t.current_run_mode?n("div",[t.controller_show?n("div",{staticClass:"controller_block buttons has-addons is-centered is-paddingless"},[n("button",{ref:"first",staticClass:"button first",on:{click:function(e){return e.stopPropagation(),t.move_to_first(e)}}},[n("b-icon",{attrs:{icon:"menu-left"}})],1),n("button",{ref:"previous",staticClass:"button previous",on:{click:function(e){e.stopPropagation(),t.relative_move(-1,e)}}},[n("b-icon",{attrs:{icon:"chevron-left",size:"is-small"}})],1),n("button",{ref:"next",staticClass:"button next",on:{click:function(e){e.stopPropagation(),t.relative_move(1,e)}}},[n("b-icon",{attrs:{icon:"chevron-right",size:"is-small"}})],1),n("button",{ref:"last",staticClass:"button last",on:{click:function(e){return e.stopPropagation(),t.move_to_last(e)}}},[n("b-icon",{attrs:{icon:"menu-right"}})],1),n("button",{staticClass:"button flip",on:{click:function(e){return e.stopPropagation(),t.board_flip_run(e)}}},[n("b-icon",{attrs:{icon:"rotate-3d",size:"is-small"}})],1)]):t._e(),t.slider_show?n("div",[n("input",{ref:"turn_slider",staticClass:"turn_slider",attrs:{type:"range",min:t.turn_min,max:t.turn_max},domProps:{value:t.real_turn},on:{input:function(e){t.current_turn_set(e.target.value)}}})]):t._e()]):t._e(),t.sfen_show?n("div",{staticClass:"sfen_area is-size-7 has-text-grey"},[t._v(t._s(t.mediator.to_sfen))]):t._e(),n("CommentArea",{attrs:{comments_pack:t.mediator.data_source.comments_pack,current_comments:t.mediator.current_comments}})]:t._e(),t.current_debug_mode?n("div",{staticClass:"debug_table"},[n("table",{staticClass:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth"},[n("tbody",[n("tr",[n("th",[t._v("現在のモード(current_run_mode)")]),n("td",[t._v(t._s(t.current_run_mode))])]),n("tr",[n("th",[t._v("update_counter")]),n("td",[t._v(t._s(t.update_counter))])]),n("tr",[n("th",[t._v("移動元座標(place_from)")]),n("td",[t._v(t._s(t.place_from))])]),n("tr",[n("th",[t._v("駒台・駒箱から移動中の駒(have_piece)")]),n("td",[t._v(t._s(t.have_piece))])]),t.mediator?[n("tr",[n("th",[t._v("駒箱")]),n("td",[t._v(t._s(t.mediator.piece_box_realize()))])]),n("tr",[n("th",[t._v("持駒")]),n("td",[t._v(t._s(t.mediator.hold_pieces))])]),n("tr",[n("th",[t._v("次の手番")]),n("td",[t._v(t._s(t.mediator.current_location.key))])]),n("tr",[n("th",[t._v("現局面のSFEN")]),n("td",[t._v(t._s(t.mediator.to_sfen))])]),n("tr",[n("th",[t._v("正規化手番")]),n("td",[t._v(t._s(t.real_turn))])])]:t._e(),n("tr",[n("th",[t._v("開始局面番号(start_turn)")]),n("td",[t._v(t._s(t.start_turn))])]),n("tr",[n("th",[t._v("初期配置(current_preset_key)")]),n("td",[t._v(t._s(t.current_preset_key))])]),n("tr",[n("th",[t._v("play_modeでの指し手(moves)")]),n("td",[t._v(t._s(t.moves))])]),n("tr",[n("th",[t._v("play_modeの開始局面(init_sfen)")]),n("td",[t._v(t._s(t.init_sfen))])]),n("tr",[n("th",[t._v("編集モード時の手番(init_location_key)")]),n("td",[t._v(t._s(t.init_location_key))])]),n("tr",[n("th",[t._v("play_modeでのSFEN(play_mode_current_sfen)")]),n("td",[t._v(t._s(t.play_mode_current_sfen))])]),n("tr",[n("th",[t._v("key_event_capture")]),n("td",[t._v(t._s(t.key_event_capture))])]),n("tr",[n("th",[t._v("interval_id")]),n("td",[t._v(t._s(t.interval_id))])])],2)])]):t._e()],2)},staticRenderFns:[]};e.a=r},sVMs:function(t,e,n){var r=n("eY+q"),i=n("qgw9");t.exports=n("gJiE")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},szHS:function(t,e){var n=t.exports={version:"2.5.6"};"number"==typeof __e&&(__e=n)},"tjI/":function(t,e,n){t.exports={default:n("/0Pq"),__esModule:!0}},tzqv:function(t,e,n){n("LUk7"),t.exports=n("szHS").Object.getPrototypeOf},uRsJ:function(t,e,n){var r=n("MAUS"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},uSzJ:function(t,e,n){var r=n("azD8"),i=n("9dbb"),o=n("kfbD");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var u,a=n(t),s=o.f,c=0;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},uXnu:function(t,e,n){var r=n("nZBM").document;t.exports=r&&r.documentElement},usXP:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.SfenParser=void 0;var i=g(n("Zx67")),o=g(n("Zrlr")),u=g(n("wxAW")),a=g(n("zwoO")),s=g(n("yEsh")),c=g(n("Pf15")),l=g(n("OTSL")),f=g(n("7+uW")),_=g(n("M4fF")),d=n("iy8a"),h=n("+BTF"),p=n("P4Jg"),v=n("KqNh"),m=n("HLQd"),y=n("kHiN");function g(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),(0,u.default)(e,[{key:"parse",value:function(){this.kifu_body=this.kifu_body.replace(/startpos/,"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1");var t=(0,l.default)("sfen\\s+(?<sfen>\\S+)\\s+(?<b_or_w>\\S+)\\s+(?<hold_pieces>\\S+)\\s+(?<turn_counter_next>\\d+)(\\s+moves\\s+(?<moves>.*))?");this.attributes=l.default.exec(this.kifu_body,t)}},{key:"__location_by_upper_or_lower_case",value:function(t){var e=null;return e=/[A-Z]/.test(t)?"black":"white",y.Location.fetch(e)}},{key:"board",get:function(){var t=this,e=new d.Board;return this.attributes.sfen.split("/").forEach(function(n,r){var i=0;l.default.forEach(n,(0,l.default)("(?<promoted>\\+?)(?<piece>\\S)"),function(n,o){if(/\d+/.test(n.piece))i+=Number(n.piece);else{var u=new m.Soldier({place:new v.Place([i,r]),piece:p.Piece.fetch(n.piece),promoted:"+"===n.promoted,location:t.__location_by_upper_or_lower_case(n.piece)});e.place_on(u),i++}})}),e}},{key:"location_base",get:function(){var t=null;return t="b"===this.attributes.b_or_w?"black":"white",y.Location.fetch(t)}},{key:"hold_pieces",get:function(){var t=this,n=(0,s.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"hold_pieces",this);return"-"!==this.attributes.hold_pieces&&l.default.forEach(this.attributes.hold_pieces,(0,l.default)("(?<count>\\d+)?(?<piece_char>\\S)"),function(e,r){var i=p.Piece.fetch(e.piece_char),o=Number(e.count||1),u=t.__location_by_upper_or_lower_case(e.piece_char);o+=n[u.key][i.key]||0,f.default.set(n[u.key],i.key,o)}),n}},{key:"turn_min",get:function(){return Number(this.attributes.turn_counter_next)-1}},{key:"komaochi_p",get:function(){return this.turn_min%2==0&&"white"===this.location_base.key}},{key:"move_infos",get:function(){var t=this,e=[];return _.default.forEach(this.moves,function(n,r){var i={};i.location=t.location_by_offset(r);var o=l.default.exec(n,(0,l.default)("(?<origin_x>\\S)(?<origin_y>\\S)(?<pos_x>\\S)(?<pos_y>\\S)(?<promoted>\\+?)?"));if(!o)return!1;i.promoted_trigger="+"===o.promoted,"*"===o.origin_y?i.drop_piece=p.Piece.fetch(o.origin_x):i.origin_place=v.Place.fetch(""+o.origin_x+o.origin_y),i.place=v.Place.fetch(""+o.pos_x+o.pos_y),e.push(i)}),e}},{key:"moves",get:function(){var t=this.attributes.moves;return _.default.isNil(t)||""===t?[]:t.split(/\s+/)}},{key:"init_sfen",get:function(){var t=[];return t.push("position"),t.push("sfen"),t.push(this.attributes.sfen),t.push(this.attributes.b_or_w),t.push(this.attributes.hold_pieces),t.push(this.attributes.turn_counter_next),t.join(" ")}}]),e}(h.ParserBase);if(e.SfenParser=b,t.argv[1]===r){var k=new b;k.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",k.parse()}}).call(e,n("W2nU"),"/index.js")},"v+rs":function(t,e,n){t.exports={default:n("9KOG"),__esModule:!0}},"wA+f":function(t,e,n){var r=n("+RM/");t.exports=Array.isArray||function(t){return"Array"==r(t)}},waGJ:function(t,e,n){t.exports=n.p+"static/img/made-with-bulma.e0eab74.png"},wnso:function(t,e,n){"use strict";var r=n("HXVr"),i=n("INr1"),o=n("I3F1"),u=n("sVMs"),a=n("1/es"),s=n("c931"),c=n("ZXsH"),l=n("VShP"),f=n("aQ10")("iterator"),_=!([].keys&&"next"in[].keys()),d="values",h=function(){return this};t.exports=function(t,e,n,p,v,m,y){s(n,e,p);var g,b,k,w=function(t){if(!_&&t in C)return C[t];switch(t){case"keys":case d:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",x=v==d,S=!1,C=t.prototype,j=C[f]||C["@@iterator"]||v&&C[v],O=j||w(v),M=v?x?w("entries"):O:void 0,L="Array"==e&&C.entries||j;if(L&&(k=l(L.call(new t)))!==Object.prototype&&k.next&&(c(k,P,!0),r||"function"==typeof k[f]||u(k,f,h)),x&&j&&j.name!==d&&(S=!0,O=function(){return j.call(this)}),r&&!y||!_&&!S&&C[f]||u(C,f,O),a[e]=O,a[P]=h,v)if(g={values:x?O:w(d),keys:m?O:w("keys"),entries:M},y)for(b in g)b in C||o(C,b,g[b]);else i(i.P+i.F*(_||S),e,g);return g}},xJD8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n("oS6v")),i=n("/B1h"),o=n("pioc"),u=n("ABOW"),a=n("0Sh9"),s=n("a0AN"),c=f(n("7+uW")),l=f(n("MMSg"));function f(t){return t&&t.__esModule?t:{default:t}}c.default.use(l.default),Object.defineProperty(c.default.prototype,"SideInfo",{value:i.SideInfo}),Object.defineProperty(c.default.prototype,"RunModeInfo",{value:o.RunModeInfo}),Object.defineProperty(c.default.prototype,"ThemeInfo",{value:u.ThemeInfo}),Object.defineProperty(c.default.prototype,"VariationInfo",{value:a.VariationInfo}),Object.defineProperty(c.default.prototype,"SizeInfo",{value:s.SizeInfo});var _=n("EFqf"),d=new _.Renderer;d.table=function(t,e){return'<div class="table_wrap"><table>\n<thead>\n'+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table></div>\n"},_.setOptions({renderer:d,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}),e.default={name:"app",data:function(){return{run_mode:"view_mode",theme:"real",variation:"a",size:"default",start_turn:-1,slider_show:!0,controller_show:!0,sfen_show:!0,human_side_key:"both",sound_effect:!0,volume:.5,key_event_capture:!1,debug_mode:!1,flip:!1,digit_show:!1,final_label:"持将棋",kifu_body:"position startpos moves 7g7f 8c8d 7i6h 3c3d 6h7g 7a6b 2g2f 3a4b 5g5f 4a3b 4i5h 5a4a 3i4h 7c7d 8h7i 5c5d 6i7h 6c6d 2f2e 4b3c 5i6i 6b6c 6g6f 8a7c 5h6g 6a5b 4g4f 4c4d 4h4g 2b3a 4g3f 3a5c 4f4e 4d4e 3f4e 8b8a 2h4h 4a3a 4e3f 8d8e 9g9f 9c9d 1g1f 1c1d 7i6h 3a2b 6i7i 5b4c 6h4f P*4d 1i1g 5c4b 4h1h 5d5e 5f5e 9d9e 9f9e 6d6e 6f6e 7c6e 7g6f 8e8f 8g8f 4b8f P*8g 8f5i+ 6f6e 9a9e P*9f 9e9f 9i9f P*9e 9f9e 5i9e 1f1e P*8h 7i8h 1d1e 6g7g P*8f 8g8f P*8e P*9f 9e8d P*6d 6c5b 8f8e 8d3i L*8d 8a9a P*1b 1a1b P*1c 1b1c P*1d 1c1d N*2f 3i2i 2f1d 2b1b 1h6h N*7c P*4g 4d4e 4f5g 7c6e 6h6e S*5f 6e6i 2i3h 8d8b+ 9a3a P*1c 2a1c 5g9c+ L*6e L*6f 3h3g 6f6e 3g3f 6d6c+ 3f4g 6i1i P*6f 1g1e 4g3g 1i1g 3g2f 9c6f 2f1g 6c5b P*8g 8h8g R*6i 6f5f 6i8i+ S*8h N*9d N*8f S*9h 8g9g P*8g 7h8g 9h8g+ 9g8g 8i5i 5f6f G*5f 6f8d P*6f 8f9d 6f6g+ 8g8f 6g7g 8h7g 5f6g S*6f 5i8i 8f9e 1g2f P*6h 6g7h P*4b 2f1e 4b4a+ 3a1a 7g8f 1c2e 8d6b 1e4h S*5g 4h5h P*4d G*9c 4d4c+ 3b4c G*9g P*8a 8b9b 9c9b L*1f 9b9c 6b8d 9c8d 9e8d 1b1c 1d2b+ 1c2d 1f1a+ 3c2b N*2g P*1d R*1b 2e1g+ P*2f 1g2g G*2e 5h2e 2f2e 2d1e 8d7c B*4d B*6b L*7a 6b7a+ 4d7a 6e6b+ 7a9c 1b2b+ L*8b L*8d 8b8d 8e8d L*7a 6b7a 9c7a 5b6b B*4d 2b3b G*4b 4a4b 7a6b 7c7b 4c3c 3b3a 4d1g+ G*3f 8i3i P*3e 6b8d 3f4e P*5f L*8e 5f5g+ 8e8d 5g5f 6f6e 5f5e 4e5e 3i3e P*4e S*4d L*1i L*1h 1i1h 1g1h 5e4d 3c4d B*3c 1e1f 3c4d+ 3e4d 4e4d 1f1g 4d4c+ B*4g 6e5d 4g2e+ R*3c G*2d 4c4d 1d1e 4d3d 2d3d 3c3d+ 2e3d 3a3d L*3g B*5f R*7i G*4h 7i5i+ 3d4e 1g2h G*5h 5i7i 4e1e P*1g 5d6c 2h1i 6h6g N*3f 4h4g 3f2h+ 5f2c+ 3g3h+ 6g6f 2g3g 4g5f N*6d 5h6g 6d5f 2c5f P*6h 6f6e 6h6i+ 6e6d G*5c S*7c 6i6h 6g6f 7h7g S*8e 6h7h 9f9e 7i4i N*4e 5c6c 6d6c+ S*5d G*5e 5d5e 5f5e P*6g 8e7d 6g6h+ 7f7e 6h6g 6f6g 7g6g 7c6b+ 4i5i 5e2b G*7f 4e3c+ 7h7g 2b3b 5i8i 8f8e G*8f 9g8f 7f8f S*9h 8i7i G*9g 8f9g 9h9g 7i9i 9g8f G*8g G*9f 9i8i 8f7g 6g7g 8d8a+ G*8f 9f8f 8g8f 8e8d G*8e 7d7c 8e8d 7c8d+ 8f8e 8d8e 8i8e G*9g 8e9e P*9f 9e8d P*8e 8d4d G*1f 2h2g G*4e S*2d 4e4d 2d1e 1f1e R*8i S*8f S*7f L*7h 7g7h 3b7f 1h2i 9d8b+ 3h2h 6c6d 8i5i+ 1e2d 5i5f 7f4c P*7f S*6e 5f6g 6e7f 6g6d 9f9e 6d6i 8e8d 6i9i 7f8e S*7g 7e7d 2i3i 8d8c+ 7g8f 9g8f S*7e 8f9f P*8d 9e9d P*9e 9f9e 9i9e S*9f 9e8f 4c8g 8d8e 8g7h G*7g 7h6i L*6g 6i2e 8f9f 9d9c+ 8e8f 7d7c+ 8f8g+",play_mode_long_sfen:null,play_mode_short_sfen:null,play_mode_move:null,kif_sample1:n("FyVW"),kif_sample2:n("iC1h"),usage_md:_(n("jTCi")),options_md:_(n("GL4m"))}},components:{ShogiPlayer:r.default},methods:{play_mode_long_sfen_set:function(t){this.play_mode_long_sfen=t},play_mode_short_sfen_set:function(t){this.play_mode_short_sfen=t},play_mode_move_set:function(t){this.play_mode_move=t}}}},yZsH:function(t,e,n){var r=n("kfbD"),i=n("qgw9"),o=n("b4Bz"),u=n("DhxH"),a=n("s0pp"),s=n("nXDk"),c=Object.getOwnPropertyDescriptor;e.f=n("gJiE")?c:function(t,e){if(t=o(t),e=u(e,!0),s)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},z7Bs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n("Gu7T")),i=s(n("M4fF")),o=n("KqNh"),u=n("HLQd"),a=n("kHiN");function s(t){return t&&t.__esModule?t:{default:t}}e.default={props:{},data:function(){return{place_from:null,have_piece:null,have_piece_location:null}},created:function(){},mounted:function(){},watch:{},methods:{board_click:function(t,e){var n=this;this.log("board_click"),this.log("shiftKey: "+e.shiftKey);var r=o.Place.fetch(t),a=this.mediator.board.lookup(r);if(this.cpu_location_p)this.log("片方の手番だけを操作できるようにする human_side_key の指定があってCPU側なので無効とする");else if("play_mode"!==this.current_run_mode||this.holding_p||!a||a.location===this.mediator.current_location)if(this.holding_p||a){if("play_mode"===this.current_run_mode&&this.put_on_my_piece_p(a))return this.log("自分の駒の上に駒を重ねようとしたので状況キャンセル"),void this.state_reset();if(i.default.isEqual(this.place_from,r))return this.log("盤上の駒を持って同じ位置に戻したので状況キャンセル"),void this.state_reset();var s=e.shiftKey|e.ctrlKey|e.altKey|e.metaKey;if(this.log("holding_p: "+this.holding_p),!this.holding_p&&a&&s)return this.log("盤上の駒を裏返す"),void this.mediator.board.place_on(a.piece_transform);if(!this.holding_p)return this.log("盤上の駒を持ちあげる"),void this.soldier_hold(r,e);if(!this.place_from){if(this.have_piece){var c=this.origin_soldier2_create(r);return this.piece_decriment(),this.mediator.board.place_on(c),this.moves_set(c.piece.key+"*"+r.to_sfen),this.state_reset(),void this.turn_next()}throw new Error("must not happen")}this.log("盤上から移動"),a&&this.mediator.hold_pieces_add(this.origin_soldier1.location,a.piece);var l=new u.Soldier({piece:this.origin_soldier1.piece,place:r,promoted:this.origin_soldier1.promoted,location:this.origin_soldier1.location});"play_mode"===this.current_run_mode&&(l.promotable_p||this.origin_soldier1.promotable_p)?(this.mouse_stick=!1,this.$dialog.confirm({message:"成りますか？",confirmText:"成",cancelText:"不成",onConfirm:function(){l.promoted=!0},onCancel:function(){n.moves_set(n.origin_soldier1.place.to_sfen+r.to_sfen+(l.promoted?"+":"")),n.mediator.board.place_on(l),n.mediator.board.delete_at(n.place_from),n.state_reset(),n.turn_next()}})):("play_mode"===this.current_run_mode&&this.moves_set(this.origin_soldier1.place.to_sfen+r.to_sfen),this.mediator.board.place_on(l),this.mediator.board.delete_at(this.place_from),this.state_reset(),this.turn_next())}else this.log("持たずに何もないところをクリックしたので無効とする");else this.log("自分の手番で相手の駒を持ち上げようとしたので無効とする")},board_click_right:function(t,e){this.log("盤を右クリック");var n=o.Place.fetch(t),r=this.mediator.board.lookup(n);this.hold_cancel(e)||!this.holding_p&&r&&(this.log("盤上の駒を裏返す"),this.mediator.board.place_on(r.piece_transform))},piece_stand_click_shared:function(t,e){return this.have_piece_location===t&&this.have_piece?(this.log("自分の駒台から駒を持ち上げているならキャンセル"),this.state_reset(),!0):"edit_mode"===this.current_run_mode&&this.have_piece_location!==t&&this.have_piece?(this.opponent_hold_pieces_move_to_my_hold_pieces(t),!0):"play_mode"===this.current_run_mode&&this.origin_soldier1?(this.log("play_mode では盤上の駒を駒台に置くことはできない"),!0):!!this.origin_soldier1&&(this.log("盤上の駒を駒台に置く"),this.board_soldir_to_hold_pieces(t),!0)},piece_stand_click:function(t,e){this.piece_stand_click_shared(t,e)},piece_stand_piece_click:function(t,e,n){this.log("駒台の駒をクリック"),this.piece_stand_click_shared(t,n)||(this.mediator.hold_pieces_count(t,e)<=0?this.log("クリックしたけど持駒がない"):"play_mode"!==this.current_run_mode||t===this.mediator.current_location?this.cpu_location_p?this.log("片方の手番だけを操作できるようにする human_side_key の指定があってCPU側なので無効とする"):(this.log("駒台の駒を持つ"),this.have_piece=e,this.have_piece_location=t,this.virtual_piece_create(n,this.origin_soldier2.to_class_list)):this.log("相手の持駒を持とうとしたときは無効"))},piece_box_have_p:function(t){return i.default.isNil(this.have_piece_location)&&this.have_piece===t},piece_box_other_click:function(t){return this.log("駒箱クリック"),i.default.isNil(this.have_piece_location)&&this.have_piece?(this.log("持っているならキャンセル"),this.state_reset(),!0):this.have_piece_location&&this.have_piece?(this.log("駒台から駒箱に移動"),this.mediator.piece_box_add(this.have_piece),this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-1),this.state_reset(),!0):!!this.origin_soldier1&&(this.log("盤上の駒を駒箱に移動"),this.mediator.piece_box_add(this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset(),!0)},piece_box_piece_click:function(t,e){this.piece_box_other_click(e)||(this.log("駒台の駒を持つ"),this.have_piece=t,this.have_piece_location=null,this.virtual_piece_create(e,this.origin_soldier2.to_class_list))},hold_cancel:function(t){return!!this.holding_p&&(this.log("持ち上げた駒を元に戻す"),this.state_reset(),!0)},board_soldir_to_hold_pieces:function(t){this.mediator.hold_pieces_add(t,this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset()},opponent_hold_pieces_move_to_my_hold_pieces:function(t){this.log("相手の持駒を自分の駒台に移動"),this.piece_decriment(),this.mediator.hold_pieces_add(t,this.have_piece),this.state_reset()},piece_decriment:function(){this.have_piece_location?this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-1):this.mediator.piece_box_add(this.have_piece,-1)},put_on_my_piece_p:function(t){return this.holding_p&&t&&t.location===this.mediator.current_location},soldier_hold:function(t,e){this.place_from=t,this.virtual_piece_create(e,this.origin_soldier1.to_class_list)},state_reset:function(){this.log("state_reset"),this.place_from=null,this.have_piece=null,this.have_piece_location=null,this.virtual_piece_destroy()},piece_box_piece_outer_class:function(t){var e=[];return this.piece_box_have_p(t)?e.push("holding_p"):"edit_mode"===this.current_run_mode&&e.push("selectable_p"),e},piece_box_piece_inner_class:function(t){var e=[];return(e=i.default.concat(e,t.css_class_list)).push("location_black"),e.push("promoted_false"),e},all_flip:function(){var t=this;this.mediator.board=this.mediator.board.flip,this.mediator.hold_pieces=i.default.reduce(a.Location.values,function(e,n){return e[n.key]=t.mediator.hold_pieces[n.flip.key],e},{})},init_location_toggle:function(){this.init_location_key=this.init_location.flip.key},origin_soldier2_create:function(t){return new u.Soldier({piece:this.have_piece,place:t,promoted:!1,location:this.have_piece_location||a.Location.fetch("black")})},mousemove_hook:function(t){this.last_event=t,this.cursor_elem_set_pos()},click_hook:function(t){1!==t.which&&this.state_reset()},cursor_elem_set_pos:function(){this.cursor_elem&&this.last_event&&this.mouse_stick&&(this.cursor_elem.style.left=this.last_event.clientX+"px",this.cursor_elem.style.top=this.last_event.clientY+"px")},virtual_piece_create:function(t,e){var n;this.virtual_piece_destroy(),this.cursor_elem=document.createElement("div"),this.cursor_elem.classList.add("piece_outer","cursor_elem");var o=document.createElement("div"),u=i.default.concat(e,["piece_inner"]);(n=o.classList).add.apply(n,(0,r.default)(u)),this.current_flip&&o.classList.add("virtual_piece_flip"),this.cursor_elem.appendChild(o),this.$el.appendChild(this.cursor_elem),this.mouse_stick=!0,this.last_event=t,this.log(this.last_event),this.cursor_elem_set_pos(),window.addEventListener("mousemove",this.mousemove_hook,!1),window.addEventListener("click",this.click_hook,!1)},virtual_piece_destroy:function(){this.cursor_elem&&(this.$el.removeChild(this.cursor_elem),this.cursor_elem=null,this.mouse_stick=!1,window.removeEventListener("mousemove",this.mousemove_hook),window.removeEventListener("click",this.click_hook))}},computed:{origin_soldier1:function(){if(this.place_from)return this.mediator.board.lookup(this.place_from)},origin_soldier2:function(){if(this.have_piece){var t=o.Place.fetch([0,0]);return this.origin_soldier2_create(t)}},holding_p:function(){return!i.default.isNil(this.place_from)||!i.default.isNil(this.have_piece)},cpu_location_p:function(){if("play_mode"===this.current_run_mode)return!i.default.includes(this.human_locations,this.mediator.current_location)}}}},zlNq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("2uHW"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var u=n("KO0A"),a=n("VU/8")(i.a,u.a,!1,null,null,null);e.default=a.exports},ztKH:function(t,e,n){n("48Kw")("observable")}},["NHnr"]);
//# sourceMappingURL=app.9c5ebb70a0218b80663e.js.map