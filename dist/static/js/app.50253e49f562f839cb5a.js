webpackJsonp([1],{"+5mU":function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var o=c(n("d7EF")),i=c(n("u2KI")),u=c(n("Zrlr")),a=c(n("wxAW")),s=n("iy8a");function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,u.default)(this,e);var n=void 0,r=void 0;if("string"==typeof t){var i=t.split(""),a=(0,o.default)(i,2);n=a[0],r=a[1],n=s.Board.board_size-Number(n),r=r.charCodeAt(0)-"a".charCodeAt(0)}else{var c=(0,o.default)(t,2);n=c[0],r=c[1]}var l=[n,r];this._x=l[0],this._y=l[1]}return(0,a.default)(e,null,[{key:"fetch",value:function(t){return(0,i.default)(new e(t))}}]),(0,a.default)(e,[{key:"to_key",get:function(){return[this._x,this._y].toString()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),e}();t.Point=l,e.argv[1]===r&&(console.log(l.fetch("6a").to_key),console.log(l.fetch([1,2]).to_key))}).call(t,n("W2nU"),"/index.js")},"+Gxq":function(e,t,n){"use strict";var r=n("/Put"),o=n.n(r);var i=function(e){n("4veK")},u=n("VU/8")(o.a,null,!1,i,null,null);t.default=u.exports},"/Put":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("fnDg"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},"1I1s":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("P4Jg"),o=n("M4xR"),i=s(n("QERr")),u=s(n("7+uW")),a=s(n("M4fF"));function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(u.default.prototype,"$lodash",{value:a.default}),t.default={name:"ShogiPlayer",props:["kifu_body","turn_start"],components:{PieceStand:i.default},data:function(){return{current_turn:0,mediator:null,board_turn:!1,env:"production"}},created:function(){this.current_turn=this.turn_start||0,this.mediator_update()},watch:{current_turn:function(){this.mediator_update()},kifu_body:function(){this.mediator_update()}},methods:{keyboard_operation:function(e){"production"!==this.env&&(console.log(e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),console.log("e",e),console.log("key",e.key),console.log("code",e.code));var t=null,n=null;"Space"!==e.code&&"Enter"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"j"!==e.key&&"n"!==e.key&&"f"!==e.key||(t=1),"Backspace"!==e.code&&"ArrowUp"!==e.code&&"ArrowLeft"!==e.code&&"k"!==e.key&&"p"!==e.key&&"b"!==e.key||(t=-1),"PageUp"===e.key&&(t=-10),"PageDown"===e.key&&(t=10),(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)&&t&&(t*=10),"["!==e.key&&"Home"!==e.key&&"Escape"!==e.code||(n=this.mediator.sfen_parser.turn_min),"]"!==e.key&&"End"!==e.key||(n=this.mediator.sfen_parser.turn_max),null!==t&&(this.current_turn+=t),null!==n&&(this.current_turn=n),null===t&&null===n||e.preventDefault()},mediator_update:function(){this.mediator=new o.Mediator,this.mediator.kifu_body=this.kifu_body||"position startpos",this.mediator.current_turn=this.current_turn,this.mediator.run(),this.current_turn=this.mediator.turn_now}},filters:{piece_name:function(e){return r.Piece.fetch(e).name}}}},"4veK":function(e,t){},"9M+g":function(e,t){},AN0t:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Battler=void 0;var o=c(n("woOf")),i=c(n("Zrlr")),u=c(n("wxAW")),a=n("+5mU"),s=n("P4Jg");function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,i.default)(this,e),this.attributes=(0,o.default)({},t)}return(0,u.default)(e,[{key:"piece",get:function(){return this.attributes.piece}},{key:"point",get:function(){return this.attributes.point}},{key:"location",get:function(){return this.attributes.location}},{key:"promoted",get:function(){return this.attributes.promoted},set:function(e){this.attributes.promoted=e}},{key:"name",get:function(){return this.promoted?this.piece.promoted_name:this.piece.name}}]),e}();if(t.Battler=l,e.argv[1]===r){var f=new l({point:new a.Point([1,2]),piece:s.Piece.fetch("P"),promoted:!0,location:"white"});console.log(f.name)}}).call(t,n("W2nU"),"/index.js")},BQ6n:function(e,t,n){"use strict";var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex_item piece_stand",class:[e.location,e.$parent.env]},[n("ul",[n("li",[e._v(e._s(e._f("location_name")(e.location)))]),e._v(" "),e._l(Array.from(e.$parent.mediator.hold_pieces.get(e.location)),function(t){var r=t[0],o=t[1];return[o>=1?[n("li",[n("span",{staticClass:"piece_name"},[e._v(e._s(e._f("piece_name")(r)))]),e._v(" "),o>=2?[n("span",{staticClass:"piece_count"},[e._v(e._s(o))])]:e._e()],2)]:e._e()]})],2)])},staticRenderFns:[]};t.a=r},BuRC:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryRecord=void 0;var o=c(n("c/Tr")),i=c(n("u2KI")),u=c(n("ifoU")),a=c(n("Zrlr")),s=c(n("wxAW"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,a.default)(this,e),this.attributes=t}return(0,s.default)(e,null,[{key:"lookup",value:function(e){return this.values_map.get(e)}},{key:"fetch",value:function(e){var t=this.lookup(e);if(!t)throw new Error("Key not found: "+e);return t}},{key:"define",get:function(){return console.warn("not implemented"),[{key:"(key)"}]}},{key:"values_map",get:function(){var e=this;return this._values_map=this._values_map||new u.default(this.define.map(function(t){return[t.key,(0,i.default)(new e(t))]})),this._values_map}},{key:"values",get:function(){return this._values=this._values||(0,o.default)(this.values_map.values()),this._values}}]),(0,s.default)(e,[{key:"key",get:function(){return this.attributes.key}},{key:"name",get:function(){return this.attributes.name||this.key.toString()}}]),e}();t.MemoryRecord=l,e.argv[1]===r&&console.log(l.lookup("(key)").name)}).call(t,n("W2nU"),"/index.js")},"HUt/":function(e,t,n){"use strict";var r=n("fcFS"),o=n.n(r);var i=function(e){n("n9mN")},u=n("VU/8")(o.a,null,!1,i,null,null);t.default=u.exports},JCpY:function(e,t,n){"use strict";var r=n("aPSQ"),o=n.n(r);var i=function(e){n("xBwK")},u=n("VU/8")(o.a,null,!1,i,null,null);t.default=u.exports},JDVb:function(e,t,n){"use strict";var r=n("kJiG"),o=n.n(r);var i=function(e){n("Y9O/")},u=n("VU/8")(o.a,null,!1,i,null,null);t.default=u.exports},Jmt5:function(e,t){},Lb37:function(e,t,n){"use strict";var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[n("ShogiPlayer",{attrs:{kifu_body:e.kifu_body,turn_start:121}}),e._v(" "),n("h3",[e._v("棋譜")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.kifu_body,expression:"kifu_body"}],staticClass:"form-control",domProps:{value:e.kifu_body},on:{input:function(t){t.target.composing||(e.kifu_body=t.target.value)}}}),e._v(" "),e._m(0)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"links"},[t("a",{attrs:{href:"https://github.com/akicho8/shogi-player"}},[this._v("Github")])])}]};t.a=r},LtVz:function(e,t){},M4xR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mediator=void 0;var r=d(n("ifoU")),o=d(n("Zrlr")),i=d(n("wxAW")),u=n("rdLu"),a=n("usXP"),s=n("iy8a"),c=n("+5mU"),l=n("AN0t"),f=n("XJjB");function d(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(){(0,o.default)(this,e),this.sfen_parser=null,this.current_turn=null,this.current_field=null,this.hold_pieces=null,this.move_info=null,this.env="production",this.kifu_body="position startpos"}return(0,i.default)(e,[{key:"run",value:function(){var e=this;this.sfen_parser=new a.SfenParser,this.sfen_parser.kifu_body=this.kifu_body,this.sfen_parser.parse(),this.current_field=this.sfen_parser.field,this.hold_pieces=this.sfen_parser.hold_pieces,this.move_info=null;var t=this.sfen_parser.move_infos,n=this.turn_now-this.sfen_parser.turn_min;(0,u._)(n).times(function(n){var o=t[n];if(e.move_info=o,o.stroke_piece){var i=new l.Battler({piece:o.stroke_piece,point:o.point,promoted:o.promoted,location:o.location}),u=e.hold_pieces.get(o.location).get(i.piece.key)-1;e.hold_pieces.get(o.location).set(i.piece.key,u),e.current_field.set(i.point.to_key,i)}else{var a=e.current_field.get(o.point.to_key);if(a){void 0===e.hold_pieces.get(o.location)&&e.hold_pieces.set(o.location,new r.default);var s=(e.hold_pieces.get(o.location).get(a.piece.key)||0)+1;e.hold_pieces.get(o.location).set(a.piece.key,s)}var c=e.current_field.get(o.origin_pos.to_key);o.promoted_trigger&&(c.promoted=!0),e.current_field.delete(o.origin_pos.to_key),e.current_field.set(o.point.to_key,c)}})}},{key:"cell_view",value:function(e,t){var n=this.current_field.get(c.Point.fetch([e,t]).to_key),r="";return n&&(r=n.name),r}},{key:"cell_class",value:function(e,t){var n=this.current_field.get(c.Point.fetch([e,t]).to_key),r=[];if(n&&r.push(n.location),this.move_info){var o=this.move_info.origin_pos;o&&o.x===e&&o.y===t&&r.push("origin_pos");var i=this.move_info.point;i.x===e&&i.y===t&&r.push("current")}return r}},{key:"turn_clamp",value:function(e){return this.sfen_parser&&(e<this.sfen_parser.turn_min&&(e=this.sfen_parser.turn_min),this.sfen_parser.turn_max<e&&(e=this.sfen_parser.turn_max)),e}},{key:"board_size",get:function(){return s.Board.board_size}},{key:"turn_now",get:function(){var e=this.current_turn;return e<0&&(e+=this.sfen_parser.turn_max+1),this.turn_clamp(e)}},{key:"to_sfen",get:function(){return new f.SfenSerializer(this).to_s}}]),e}();t.Mediator=_},M93x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("xJD8"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var u=n("Lb37");var a=function(e){n("LtVz")},s=n("VU/8")(o.a,u.a,!1,a,null,null);t.default=s.exports},NHnr:function(e,t,n){"use strict";var r=u(n("7+uW")),o=u(n("M93x")),i=u(n("e6fC"));function u(e){return e&&e.__esModule?e:{default:e}}n("Jmt5"),n("9M+g"),r.default.use(i.default),r.default.config.productionTip=!1,new r.default({el:"#app",template:"<App/>",components:{App:o.default}})},P4Jg:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Piece=void 0;var o=l(n("Zx67")),i=l(n("Zrlr")),u=l(n("wxAW")),a=l(n("zwoO")),s=l(n("yEsh")),c=l(n("Pf15"));function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"promoted_name",get:function(){return this.attributes.promoted_name}}],[{key:"lookup",value:function(e){return(0,s.default)(t.__proto__||(0,o.default)(t),"lookup",this).call(this,e.toUpperCase())}},{key:"define",get:function(){return[{key:"K",name:"玉",promoted_name:null},{key:"R",name:"飛",promoted_name:"龍"},{key:"B",name:"角",promoted_name:"馬"},{key:"G",name:"金",promoted_name:null},{key:"S",name:"銀",promoted_name:"全"},{key:"N",name:"桂",promoted_name:"圭"},{key:"L",name:"香",promoted_name:"杏"},{key:"P",name:"歩",promoted_name:"と"}]}}]),t}(n("BuRC").MemoryRecord);t.Piece=f,e.argv[1]===r&&(console.log(f.values),console.log(f.values_map.get("K")))}).call(t,n("W2nU"),"/index.js")},QERr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("o1Cy"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var u=n("BQ6n");var a=function(e){n("Y7lU")},s=n("VU/8")(o.a,u.a,!1,a,"data-v-33a93a9c",null);t.default=s.exports},XJjB:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SfenSerializer=void 0;var o=d(n("Zrlr")),i=d(n("wxAW")),u=d(n("M4fF")),a=n("P4Jg"),s=n("+5mU"),c=n("M4xR"),l=n("kHiN"),f=n("iy8a");function d(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(t){(0,o.default)(this,e),this.mediator=t}return(0,i.default)(e,[{key:"to_s",get:function(){var e=[];return e.push(this.to_baord_sfen),e.push(this.mediator.sfen_parser.location_of(this.mediator.current_turn)[0]),e.push(this.to_hold_pieces),e.push(this.mediator.turn_now+1),e.join(" ")}},{key:"to_baord_sfen",get:function(){var e=this,t=[];return u.default.times(f.Board.board_size,function(n){var r="",o=0;u.default.times(f.Board.board_size,function(t){var i=s.Point.fetch([t,n]),u=e.mediator.current_field.get(i.to_key);if(void 0===u)o+=1;else{o>=1&&(r+=o,o=0),u.promoted&&(r+="+");var a=u.piece.key;"white"===u.location&&(a=a.toLowerCase()),r+=a}}),o>=1&&(r+=o),t.push(r)}),t.join("/")}},{key:"to_hold_pieces",get:function(){var e=this,t=l.Location.values.map(function(t){var n=e.mediator.hold_pieces.get(t.key),r=a.Piece.values.map(function(e){var r=n.get(e.key)||0,o="";if(0!==r){r>=2&&(o+=r);var i=e.key;return o+=i="white"===t.key?i.toLowerCase():i.toUpperCase()}});return u.default.compact(r).join("")}).join("");return u.default.isEmpty(t)&&(t="-"),t}}]),e}();if(t.SfenSerializer=_,e.argv[1]===r){var p=new c.Mediator;p.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",p.current_turn=1,p.run();var v=new _(p);console.log(v.to_s)}}).call(t,n("W2nU"),"/index.js")},Y7lU:function(e,t){},"Y9O/":function(e,t){},aPSQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("rKsW"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},dW2o:function(e,t){},fcFS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("qRo1"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},iy8a:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Board=void 0;var o=u(n("Zrlr")),i=u(n("wxAW"));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,null,[{key:"board_size",get:function(){return 9}}]),e}();t.Board=a,e.argv[1]===r&&console.log(a.board_size)}).call(t,n("W2nU"),"/index.js")},k44m:function(e,t,n){"use strict";var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shogi-player"},[n("p",[e._v(e._s(e.mediator.turn_now)+"手目")]),e._v(" "),n("div",{staticClass:"board_container board_turn",class:{enable:e.board_turn}},[n("PieceStand",{attrs:{location:"white"}}),e._v(" "),n("div",{staticClass:"flex_item board"},[n("table",e._l(e.mediator.board_size,function(t){return n("tr",[e._l(e.mediator.board_size,function(r){return[n("td",{class:e.mediator.cell_class(r-1,t-1)},[e._v("\n              "+e._s(e.mediator.cell_view(r-1,t-1))+"\n            ")])]})],2)}))]),e._v(" "),n("PieceStand",{attrs:{location:"black"}})],1),e._v(" "),n("p"),n("div",{staticClass:"controller"},[n("div",{staticClass:"--btn-group"},[n("button",{staticClass:"btn btn-default first",on:{click:function(t){e.current_turn=e.mediator.sfen_parser.turn_min}}},[e._v("|◀")]),e._v(" "),n("button",{staticClass:"btn btn-default previous",on:{click:function(t){e.current_turn-=1}}},[e._v("◀")]),e._v(" "),n("button",{staticClass:"btn btn-default next",on:{click:function(t){e.current_turn+=1}}},[e._v("▶")]),e._v(" "),n("button",{staticClass:"btn btn-default last",on:{click:function(t){e.current_turn=e.mediator.sfen_parser.turn_max}}},[e._v("▶|")]),e._v(" "),n("button",{staticClass:"btn btn-default board_turn",on:{click:function(t){e.board_turn=!e.board_turn}}},[e._v("↻")])])]),e._v(" "),n("p"),e._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.current_turn,expression:"current_turn",modifiers:{number:!0}}],attrs:{type:"range",min:e.mediator.sfen_parser.turn_min,max:e.mediator.sfen_parser.turn_max},domProps:{value:e.current_turn},on:{__r:function(t){e.current_turn=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("p",[n("input",{staticClass:"form-control",attrs:{type:"text",readonly:"readonly"},domProps:{value:e.mediator.to_sfen}})]),e._v(" "),"production"!==e.env?[e._v("\n    "+e._s(e.mediator.hold_pieces)+"\n  ")]:e._e()],2)},staticRenderFns:[]};t.a=r},kHiN:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Location=void 0;var o=c(n("Zx67")),i=c(n("Zrlr")),u=c(n("wxAW")),a=c(n("zwoO")),s=c(n("Pf15"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,u.default)(t,null,[{key:"define",get:function(){return[{key:"black",name:"☗"},{key:"white",name:"☖"}]}}]),t}(n("BuRC").MemoryRecord);t.Location=l,e.argv[1]===r&&(console.log(l.fetch("black")),l.values.map(function(e){console.log(e)}))}).call(t,n("W2nU"),"/index.js")},kJiG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("9NuQ"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},n9mN:function(e,t){},o1Cy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("P4Jg"),o=n("kHiN");t.default={props:["location"],filters:{piece_name:function(e){return r.Piece.fetch(e).name},location_name:function(e){return o.Location.fetch(e).name}}}},oS6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("1I1s"),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var u=n("k44m");var a=function(e){n("zjMc")},s=n("VU/8")(o.a,u.a,!1,a,"data-v-1f9d5c82",null);t.default=s.exports},r15W:function(e,t,n){"use strict";var r=n("xKc6"),o=n.n(r);var i=function(e){n("dW2o")},u=n("VU/8")(o.a,null,!1,i,null,null);t.default=u.exports},usXP:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SfenParser=void 0;var o=f(n("ifoU")),i=f(n("Zrlr")),u=f(n("wxAW")),a=f(n("pWoe")),s=n("P4Jg"),c=n("+5mU"),l=n("AN0t");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,i.default)(this,e),this.kifu_body=null,this.attributes=null}return(0,u.default)(e,[{key:"parse",value:function(){this.kifu_body=this.kifu_body.replace(/startpos/,"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1");var e=(0,a.default)("sfen\\s+(?<sfen>\\S+)\\s+(?<b_or_w>\\S+)\\s+(?<hold_pieces>\\S+)\\s+(?<turn_counter_next>\\d+)(\\s+moves\\s+(?<moves>.*))?");this.attributes=a.default.exec(this.kifu_body,e)}},{key:"location_of",value:function(e){return(this.turn_counter_next+e)%2==1?"black":"white"}},{key:"__location_by",value:function(e){return/[A-Z]/.test(e)?"black":"white"}},{key:"field",get:function(){var e=this,t=new o.default;return this.attributes.sfen.split("/").forEach(function(n,r){var o=0;a.default.forEach(n,(0,a.default)("(?<promoted>\\+?)(?<piece>\\S)"),function(n,i){if(/\d+/.test(n.piece))o+=Number(n.piece);else{var u=new l.Battler({point:new c.Point([o,r]),piece:s.Piece.fetch(n.piece),promoted:"+"===n.promoted,location:e.__location_by(n.piece)});t.set(u.point.to_key,u),o+=1}})}),t}},{key:"location",get:function(){return"b"===this.attributes.b_or_w?"black":"white"}},{key:"hold_pieces",get:function(){var e=this,t=new o.default([["black",new o.default],["white",new o.default]]);return"-"!==this.attributes.hold_pieces&&a.default.forEach(this.attributes.hold_pieces,(0,a.default)("(?<count>\\d+)?(?<piece_key>\\S)"),function(n,r){var o=s.Piece.fetch(n.piece_key),i=Number(n.count||1),u=e.__location_by(n.piece_key);i+=t.get(u).get(o.key)||0,t.get(u).set(o.key,i)}),t}},{key:"turn_counter_next",get:function(){return Number(this.attributes.turn_counter_next)}},{key:"turn_min",get:function(){return this.turn_counter_next-1}},{key:"turn_max",get:function(){return this.turn_min+this.move_infos.length}},{key:"komaochi_p",get:function(){return this.turn_counter_next%2==1&&"white"===this.location}},{key:"move_infos",get:function(){var e=this;return void 0===this.attributes.moves?[]:this.attributes.moves.split(/\s+/).map(function(t,n){var r={};r.scene_index=e.turn_min+n,r.scene_offsert=n,r.location=e.location_of(n);var o=a.default.exec(t,(0,a.default)("(?<origin_x>\\S)(?<origin_y>\\S)(?<pos_x>\\S)(?<pos_y>\\S)(?<promoted>\\+?)?"));return r.promoted_trigger="+"===o.promoted,"*"===o.origin_y?r.stroke_piece=s.Piece.fetch(o.origin_x):r.origin_pos=c.Point.fetch(""+o.origin_x+o.origin_y),r.point=c.Point.fetch(""+o.pos_x+o.pos_y),r})}}]),e}();if(t.SfenParser=d,e.argv[1]===r){var _=new d;_.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",_.parse(),console.log(_.field),console.log(_.location),console.log(_.hold_pieces),console.log(_.move_infos)}}).call(t,n("W2nU"),"/index.js")},xBwK:function(e,t){},xJD8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("oS6v"),i=(r=o)&&r.__esModule?r:{default:r};t.default={name:"app",created:function(){this.kifu_body="position startpos moves 7g7f 8c8d 2g2f 4a3b 6i7h 8d8e 8h7g 3c3d 7i6h 2b7g+ 6h7g 3a2b 3i3h 7a6b 3g3f 2b3c 4g4f 6c6d 5i6h 6b6c 2i3g 5a4b 3h4g 7c7d 4i4h 8a7c 2h2i 8b8a 6g6f 6a6b 4g5f 9c9d 9g9f 1c1d 1g1f 6c5d 6h7i 5d6c 7i8h 6c5d 2f2e 5d6c 5f6g 6c5d 5g5f 4c4d 2i5i 4b3a 5f5e 5d4c 6g5f 3a2b 5i6i 2b3a 6i2i 3a2b 4f4e 4d4e 5f4e 8e8f 8g8f P*8e 8f8e 9d9e 9f9e 7d7e 7f7e 6d6e B*7f 6b5b 7g8f 6e6f 8i7g P*4d 4e5f 3d3e 3f3e 7c8e 7g8e P*3f 3g4e 4d4e P*6d N*7b 6d6c+ 5b6c 7f4c+ 3b4c S*5b B*7f 7h7g P*8g 7g8g B*6g 5f6g 7f8g+ 8h8g 6f6g+ B*8i 6g6f 5b4c+ G*7f 8g8h 7f8f 8h7i 8f7g P*6h S*6g 8i6g 6f6g 4c3c 2b3c S*3d 3c4d B*2b S*3c 3d3c 4d5e 3c3b 5e6d N*7f 7g7f 6h6g B*4f S*5g N*5e S*5f 8a8e 5g4f S*7h 7i7h 5e6g+ 5f6g 8e8g+ 7h7i 7f6g 2b5e+ 6d7e G*6e 7e8e N*7g 8e7f 6e7e 7f7e 5e6e 7e8d 6e8g S*6h 7i8i 6h7g+ R*8a N*8c P*8e 8d7c P*7d"},data:function(){return{kifu_body:null,current_sfen:null}},components:{ShogiPlayer:i.default}}},xKc6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("E9Zr"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},zjMc:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.50253e49f562f839cb5a.js.map